(function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(P,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t==="data"&&v.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){return e=t||e,v.css(e,"display")==="none"||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&Gt(n)&&(i[s]=v._data(n,"olddisplay",nn(n.nodeName)))):(r=Dt(n,"display"),!i[s]&&r!=="none"&&v._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function en(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=v.css(e,n+$t[i],!0)),r?(n==="content"&&(s-=parseFloat(Dt(e,"padding"+$t[i]))||0),n!=="margin"&&(s-=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0)):(s+=parseFloat(Dt(e,"padding"+$t[i]))||0,n!=="padding"&&(s+=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0));return s}function tn(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+en(e,t,n||(s?"border":"content"),i)+"px"}function nn(e){if(Wt[e])return Wt[e];var t=v("<"+e+">").appendTo(i.body),n=t.css("display");t.remove();if(n==="none"||n===""){Pt=i.body.appendChild(Pt||v.extend(i.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write("<!doctype html><html><body>"),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,"display"),i.body.removeChild(Pt)}return Wt[e]=n,n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&v.type(t)==="object")for(i in t)fn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=kn(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=kn(e,n,r,i,"*",o)),u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $n(){return setTimeout(function(){qn=t},0),qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,i=1-r,s=0,o=f.tweens.length;for(;s<o;s++)f.tweens[s].run(i);return u.notifyWith(e,[f,i,n]),i<1&&o?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i<o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}return Jn(f,l),v.isFunction(f.opts.start)&&f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},m=[],g=e.nodeType&&Gt(e);n.queue||(l=v._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,v.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],v.css(e,"display")==="inline"&&v.css(e,"float")==="none"&&(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",v.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Un.exec(s)){delete t[r],a=a||s==="toggle";if(s===(g?"hide":"show"))continue;m.push(r)}}o=m.length;if(o){u=v._data(e,"fxshow")||v._data(e,"fxshow",{}),"hidden"in u&&(g=u.hidden),a&&(u.hidden=!g),g?v(e).show():h.done(function(){v(e).hide()}),h.done(function(){var t;v.removeData(e,"fxshow",!0);for(t in d)v.style(e,t,d[t])});for(r=0;r<o;r++)i=m[r],f=h.createTween(i,g?u[i]:0),d[i]=u[i]||v.style(e,i),i in u||(u[i]=f.start,g&&(f.end=f.start,f.start=i==="width"||i==="height"?1:0))}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=$t[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+"").toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",A,!1),v.ready()):i.readyState==="complete"&&(i.detachEvent("onreadystatechange",A),v.ready())},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),"slice",l.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!v.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&&v.isArray(r)?r:[]):o=r&&v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&&(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&&(e.$=a),t&&e.jQuery===v&&(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]),v.fn.trigger&&v(i).trigger("ready").off("ready")},isFunction:function(e){return v.type(e)==="function"},isArray:Array.isArray||function(e){return v.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||"object"},isPlainObject:function(e){if(!e||v.type(e)!=="object"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,"@").replace(N,"]").replace(x,"")))return(new Function("return "+t))();v.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&v.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&&!d.call("\ufeff\u00a0")?function(e){return e==null?"":d.call(e)}:function(e){return e==null?"":(e+"").replace(b,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=v.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState==="complete")setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",v.ready,!1);else{i.attachEvent("onreadystatechange",A),e.attachEvent("onload",v.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return v.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?l.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value==="on",optSelected:o.selected,getSetAttribute:p.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",h)),u=i.createElement("input"),u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","checked"),u.setAttribute("name","t"),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f="on"+l,c=f in p,c||(p.setAttribute(f,"return;"),c=typeof p[f]=="function"),t[l+"Bubbles"]=c;return v(function(){var n,r,s,o,u="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=i.getElementsByTagName("body")[0];if(!a)return;n=i.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),r=i.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=r.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",o=i.createElement("div"),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(v.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n=="string",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||v.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[v.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")||(o=v.camelCase(o.substring(5)),H(a,o,l[o]));v._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){v.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",v.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=v.data(a,e),l=H(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler("setData"+i,r),v.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=v._data(e,t),n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v._data(e,n)||v._data(e,n,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=v._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(q," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>=0)r=r.replace(" "+n[s]+" "," ");i.className=e?v.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&v._data(this,"__className__",this.className),this.className=this.className||e===!1?"":v._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(R,""):r==null?"":r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":v.isArray(s)&&(s=v.map(s,function(e){return e==null?"":e+""})),n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(v.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!v.nodeName(n.parentNode,"optgroup"))){t=v(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=v.makeArray(t);return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute=="undefined")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&&(n=n.toLowerCase(),o=v.attrHooks[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++)i=r[o],i&&(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,""),e.removeAttribute(V?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed");else if(!v.support.radioValue&&t==="radio"&&v.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&v.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,"button"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&&(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(I[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},v.each(["width","height"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===""&&(t="false"),j.set(e,t,n)}}),v.support.hrefNormalized||v.each(["href","src","width","height"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype="encoding"),v.support.checkOn||v.each(["radio","checkbox"],function(){v.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v=="undefined"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(" ");for(f=0;f<n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&v.expr.match.needsContext.test(s),namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||"")).split(" ");for(s=0;s<t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)m=d[c],(i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r==="**"&&m.selector)&&(d.splice(c--,1),m.selector&&d.delegateCount--,p.remove&&p.remove.call(e,m));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&&(delete g.handle,v.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf("!")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf(".")>=0&&(b=y.split("."),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n=="object"?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=y.indexOf(":")<0?"on"+y:"";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,"events")||{})[n.type]&&v._data(l,"handle"),d&&d.apply(l,r),d=h&&l[h],d&&v.acceptData(l)&&d.apply&&d.apply(l,r)===!1&&n.preventDefault();return n.type=y,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!=="click"||!v.nodeName(s,"a"))&&v.acceptData(s)&&h&&s[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!v.isWindow(s)&&(c=s[h],c&&(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&&(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,c,h,p,d=(v._data(this,"events")||{})[n.type]||[],m=d.delegateCount,g=l.call(arguments),y=!n.exclusive&&!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n,n.delegateTarget=this;if(b.preDispatch&&b.preDispatch.call(this,n)===!1)return;if(m&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<m;r++)c=d[r],h=c.selector,u[h]===t&&(u[h]=c.needsContext?v(h,this).index(s)>=0:v.find(h,this,null,[s]).length),u[h]&&f.push(c);f.length&&w.push({elem:s,matches:f})}d.length>m&&w.push({elem:this,matches:d.slice(m)});for(r=0;r<w.length&&!n.isPropagationStopped();r++){a=w[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){c=a.matches[i];if(y||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))n.data=c.data,n.handleObj=c,o=((v.event.special[c.origType]||{}).handle||c.handler).apply(a.elem,g),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return b.postDispatch&&b.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt:et):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,"form"))return!1;v.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=v.nodeName(n,"input")||v.nodeName(n,"button")?n.form:t;r&&!v._data(r,"_submit_attached")&&(v.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),v._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&v.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,"form"))return!1;v.event.remove(this,"._submit")}}),v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")v.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),v.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),v.event.simulate("change",this,e,!0)});return!1}v.event.add(this,"beforeactivate._change",function(e){var t=e.target;$.test(t.nodeName)&&!v._data(t,"_change_attached")&&(v.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate("change",this.parentNode,e,!0)}),v._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,"._change"),!$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&&(o=i,i=function(e){return v().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=et),this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,"lastToggle"+e.guid)||0)%r;return v._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function nt(e,t,n,r){n=n||[],t=t||g;var i,s,a,f,l=t.nodeType;if(!e||typeof e!="string")return n;if(l!==1&&l!==9)return[];a=o(t);if(!a&&!r)if(i=R.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(f))&&u(t,s)&&s.id===f)return n.push(s),n}else{if(i[2])return S.apply(n,x.call(t.getElementsByTagName(e),0)),n;if((f=i[3])&&Z&&t.getElementsByClassName)return S.apply(n,x.call(t.getElementsByClassName(f),0)),n}return vt(e.replace(j,"$1"),t,n,r,a)}function rt(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function it(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function st(e){return N(function(t){return t=+t,N(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ot(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function ut(e,t){var n,r,s,o,u,a,f,l=L[d][e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=F.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=I.exec(u))s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=r[0].replace(j," ");for(o in i.filter)(r=J[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?u.length:u?nt.error(e):L(e,a).slice(0)}function at(e,t,r){var i=t.dir,s=r&&t.dir==="parentNode",o=w++;return t.first?function(t,n,r){while(t=t[i])if(s||t.nodeType===1)return e(t,n,r)}:function(t,r,u){if(!u){var a,f=b+" "+o+" ",l=f+n;while(t=t[i])if(s||t.nodeType===1){if((a=t[d])===l)return t.sizset;if(typeof a=="string"&&a.indexOf(f)===0){if(t.sizset)return t}else{t[d]=l;if(e(t,r,u))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[i])if(s||t.nodeType===1)if(e(t,r,u))return t}}function ft(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function lt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function ct(e,t,n,r,i,s){return r&&!r[d]&&(r=ct(r)),i&&!i[d]&&(i=ct(i,s)),N(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||dt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?lt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=lt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?T.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=lt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):S.apply(o,g)})}function ht(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,f=at(function(e){return e===t},u,!0),l=at(function(e){return T.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==c)||((t=n).nodeType?f(e,n,r):l(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[at(ft(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[d]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return ct(a>1&&ft(h),a>1&&e.slice(0,a-1).join("").replace(j,"$1"),n,a<r&&ht(e.slice(a,r)),r<s&&ht(e=e.slice(r)),r<s&&e.join(""))}h.push(n)}return ft(h)}function pt(e,t){var r=t.length>0,s=e.length>0,o=function(u,a,f,l,h){var p,d,v,m=[],y=0,w="0",x=u&&[],T=h!=null,N=c,C=u||s&&i.find.TAG("*",h&&a.parentNode||a),k=b+=N==null?1:Math.E;T&&(c=a!==g&&a,n=o.el);for(;(p=C[w])!=null;w++){if(s&&p){for(d=0;v=e[d];d++)if(v(p,a,f)){l.push(p);break}T&&(b=k,n=++o.el)}r&&((p=!v&&p)&&y--,u&&x.push(p))}y+=w;if(r&&w!==y){for(d=0;v=t[d];d++)v(x,m,a,f);if(u){if(y>0)while(w--)!x[w]&&!m[w]&&(m[w]=E.call(l));m=lt(m)}S.apply(l,m),T&&!u&&m.length>0&&y+t.length>1&&nt.uniqueSort(l)}return T&&(b=k,c=N),x};return o.el=0,r?N(o):o}function dt(e,t,n){var r=0,i=t.length;for(;r<i;r++)nt(e,t[r],n);return n}function vt(e,t,n,r,s){var o,u,f,l,c,h=ut(e),p=h.length;if(!r&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&t.nodeType===9&&!s&&i.relative[u[1].type]){t=i.find.ID(f.matches[0].replace($,""),t,s)[0];if(!t)return n;e=e.slice(u.shift().length)}for(o=J.POS.test(e)?-1:u.length-1;o>=0;o--){f=u[o];if(i.relative[l=f.type])break;if(c=i.find[l])if(r=c(f.matches[0].replace($,""),z.test(u[0].type)&&t.parentNode||t,s)){u.splice(o,1),e=r.length&&u.join("");if(!e)return S.apply(n,x.call(r,0)),n;break}}}return a(e,h)(r,t,s,n,z.test(e)),n}function mt(){}var n,r,i,s,o,u,a,f,l,c,h=!0,p="undefined",d=("sizcache"+Math.random()).replace(".",""),m=String,g=e.document,y=g.documentElement,b=0,w=0,E=[].pop,S=[].push,x=[].slice,T=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},N=function(e,t){return e[d]=t==null||t,e},C=function(){var e={},t=[];return N(function(n,r){return t.push(n)>i.cacheLength&&delete e[t.shift()],e[n+" "]=r},e)},k=C(),L=C(),A=C(),O="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",_=M.replace("w","w#"),D="([*^$|!~]?=)",P="\\["+O+"*("+M+")"+O+"*(?:"+D+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+_+")|)|)"+O+"*\\]",H=":("+M+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+P+")|[^:]|\\\\.)*|.*))\\)|)",B=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)",j=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),F=new RegExp("^"+O+"*,"+O+"*"),I=new RegExp("^"+O+"*([\\x20\\t\\r\\n\\f>+~])"+O+"*"),q=new RegExp(H),R=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,U=/^:not/,z=/[\x20\t\r\n\f]*[+~]/,W=/:not\($/,X=/h\d/i,V=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),NAME:new RegExp("^\\[name=['\"]?("+M+")['\"]?\\]"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+H),POS:new RegExp(B,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),needsContext:new RegExp("^"+O+"*[>+~]|"+B,"i")},K=function(e){var t=g.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},Q=K(function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length}),G=K(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==p&&e.firstChild.getAttribute("href")==="#"}),Y=K(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),Z=K(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),et=K(function(e){e.id=d+0,e.innerHTML="<a name='"+d+"'></a><div name='"+d+"'></div>",y.insertBefore(e,y.firstChild);var t=g.getElementsByName&&g.getElementsByName(d).length===2+g.getElementsByName(d+0).length;return r=!g.getElementById(d),y.removeChild(e),t});try{x.call(y.childNodes,0)[0].nodeType}catch(tt){x=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}nt.matches=function(e,t){return nt(e,null,null,t)},nt.matchesSelector=function(e,t){return nt(t,null,null,[e]).length>0},s=nt.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},o=nt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},u=nt.contains=y.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:y.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},nt.attr=function(e,t){var n,r=o(e);return r||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):r||Y?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},i=nt.selectors={cacheLength:50,createPseudo:N,match:J,attrHandle:G?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==p&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:et&&function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:Z&&function(e,t,n){if(typeof t.getElementsByClassName!==p&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||nt.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&nt.error(e[0]),e},PSEUDO:function(e){var t,n;if(J.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])q.test(t)&&(n=ut(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:r?function(e){return e=e.replace($,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace($,""),function(t){var n=typeof t.getAttributeNode!==p&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace($,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[d][e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==p&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r,i){var s=nt.attr(r,e);return s==null?t==="!=":t?(s+="",t==="="?s===n:t==="!="?s!==n:t==="^="?n&&s.indexOf(n)===0:t==="*="?n&&s.indexOf(n)>-1:t==="$="?n&&s.substr(s.length-n.length)===n:t==="~="?(" "+s+" ").indexOf(n)>-1:t==="|="?s===n||s.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r){return e==="nth"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||nt.error("unsupported pseudo: "+e);return r[d]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?N(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=T.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:N(function(e){var t=[],n=[],r=a(e.replace(j,"$1"));return r[d]?N(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:N(function(e){return function(t){return nt(e,t).length>0}}),contains:N(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!i.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:rt("radio"),checkbox:rt("checkbox"),file:rt("file"),password:rt("password"),image:rt("image"),submit:it("submit"),reset:it("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return V.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:st(function(){return[0]}),last:st(function(e,t){return[t-1]}),eq:st(function(e,t,n){return[n<0?n+t:n]}),even:st(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:st(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:st(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:st(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},f=y.compareDocumentPosition?function(e,t){return e===t?(l=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return ot(e,t);if(!o)return-1;if(!u)return 1;while(a)i.unshift(a),a=a.parentNode;a=u;while(a)s.unshift(a),a=a.parentNode;n=i.length,r=s.length;for(var f=0;f<n&&f<r;f++)if(i[f]!==s[f])return ot(i[f],s[f]);return f===n?ot(e,s[f],-1):ot(i[f],t,1)},[0,0].sort(f),h=!l,nt.uniqueSort=function(e){var t,n=[],r=1,i=0;l=h,e.sort(f);if(l){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},nt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a=nt.compile=function(e,t){var n,r=[],i=[],s=A[d][e+" "];if(!s){t||(t=ut(e)),n=t.length;while(n--)s=ht(t[n]),s[d]?r.push(s):i.push(s);s=A(e,pt(i,r))}return s},g.querySelectorAll&&function(){var e,t=vt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[":focus"],s=[":active"],u=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.oMatchesSelector||y.msMatchesSelector;K(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+O+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),K(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+O+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=new RegExp(i.join("|")),vt=function(e,r,s,o,u){if(!o&&!u&&!i.test(e)){var a,f,l=!0,c=d,h=r,p=r.nodeType===9&&e;if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){a=ut(e),(l=r.getAttribute("id"))?c=l.replace(n,"\\$&"):r.setAttribute("id",c),c="[id='"+c+"'] ",f=a.length;while(f--)a[f]=c+a[f].join("");h=z.test(e)&&r.parentNode||r,p=a.join(",")}if(p)try{return S.apply(s,x.call(h.querySelectorAll(p),0)),s}catch(v){}finally{l||r.removeAttribute("id")}}return t(e,r,s,o,u)},u&&(K(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),s.push("!=",H)}catch(n){}}),s=new RegExp(s.join("|")),nt.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!o(t)&&!s.test(n)&&!i.test(n))try{var a=u.call(t,n);if(a||e||t.document&&t.document.nodeType!==11)return a}catch(f){}return nt(n,null,null,[t]).length>0})}(),i.pseudos.nth=i.pseudos.eq,i.filters=mt.prototype=i.pseudos,i.setFilters=new mt,nt.attr=v.attr,v.find=nt,v.expr=nt.selectors,v.expr[":"]=v.expr.pseudos,v.unique=nt.uniqueSort,v.text=nt.getText,v.isXMLDoc=nt.isXML,v.contains=nt.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ft(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?st.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!="string"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?v.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,n){return v.dir(e,"parentNode",n)},next:function(e){return at(e,"nextSibling")},prev:function(e){return at(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,n){return v.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return v.dir(e,"previousSibling",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&&typeof r=="string"&&(i=v.filter(r,i)),i=this.length>1&&!ot[e]?v.unique(i):i,this.length>1&&rt.test(e)&&(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(","))}}),v.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ht=/ jQuery\d+="(?:null|\d+)"/g,pt=/^\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vt=/<([\w:]+)/,mt=/<tbody/i,gt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),Et=/^(?:checkbox|radio)$/,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ct=lt(i),kt=Ct.appendChild(i.createElement("div"));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&&n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),v.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,""):t;if(typeof e=="string"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(dt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&c>1&&typeof f=="string"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,"tr");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],"table")?Lt(this[a],"tbody"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&&v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof a=="string"&&a.length<512&&n===i&&a.charAt(0)==="<"&&!bt.test(a)&&(v.support.checkClone||!St.test(a))&&(v.support.html5Clone||!wt.test(a))&&(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&&(v.fragments[a]=u&&s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&&Ct,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=i;for(s=0;(u=e[s])!=null;s++){typeof u=="number"&&(u+="");if(!u)continue;if(typeof u=="string")if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t),c=t.createElement("div"),y.appendChild(c),u=u.replace(dt,"<$1></$2>"),a=(vt.exec(u)||["",""])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a==="table"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]==="<table>"&&!h?c.childNodes:[];for(o=p.length-1;o>=0;--o)v.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&&(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,"input")?_t(u):typeof u.getElementsByTagName!="undefined"&&v.grep(u.getElementsByTagName("input"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,"script")||!m(u))n.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(g=v.grep(v.merge([],u.getElementsByTagName("script")),m),b.splice.apply(b,[s+1,0].concat(g)),s+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=v.uaMatch(o.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&&i instanceof v&&!(i instanceof e)&&(i=e(i)),v.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp("^("+m+")(.*)$","i"),Ut=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),zt=new RegExp("^([-+])=("+m+")","i"),Wt={BODY:"block"},Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},$t=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e=="boolean";return v.isFunction(e)&&v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=zt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!v.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=Dt(e,n)),s==="normal"&&n in Vt&&(s=Vt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u.getPropertyValue(n)||u[n],r===""&&!v.contains(t.ownerDocument,t)&&(r=v.style(t,n)),Ut.test(r)&&qt.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),Ut.test(i)&&!Ft.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&It.test(Dt(e,"display"))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&&v.css(e,"boxSizing")==="border-box"):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+" "+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Dt(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+"px":r}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}},qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\[\]$/,on=/\r?\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join("&").replace(rn,"+")};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/\?/,yn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=["*/"]+["*"];try{cn=s.href}catch(Nn){cn=i.createElement("a"),cn.href="",cn=cn.href}ln=wn.exec(cn.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!="string"&&En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),v.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v("<div>").append(e.replace(yn,"")).find(i):e)}),this},v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each(["get","post"],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&&(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.get(e,t,n,"script")},getJSON:function(e,t,n){return v.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Ln(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),Ln(e,t),e},ajaxSettings:{url:cn,isLocal:dn.test(ln[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),o=t,i=a||"",x.readyState=e>0?4:0,s&&(w=An(c,x,s));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(v.lastModified[r]=S),S=x.getResponseHeader("Etag"),S&&(v.etag[r]=S)),e===304?(T="notmodified",l=!0):(l=On(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&&p.trigger("ajax"+(l?"Success":"Error"),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--v.active||v.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks("once memory"),g=c.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=e||S,o&&o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+"").replace(hn,"").replace(mn,ln[1]+"//"),c.dataTypes=v.trim(c.dataType||"*").toLowerCase().split(y),c.crossDomain==null&&(a=wn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===ln[1]&&a[2]===ln[2]&&(a[3]||(a[1]==="http:"?80:443))==(ln[3]||(ln[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=v.param(c.data,c.traditional)),kn(Sn,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),f&&v.active++===0&&v.event.trigger("ajaxStart");if(!c.hasContent){c.data&&(c.url+=(gn.test(c.url)?"&":"?")+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,"$1_="+N);c.url=C+(C===c.url?(gn.test(c.url)?"&":"?")+"_="+N:"")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(r=r||c.url,v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Tn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\?/,Dn=/(=)\?(?=&|$)|\?\?/,Pn=v.now();v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||v.expando+"_"+Pn++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&Dn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(Dn,"$1"+s):h?n.data=a.replace(Dn,"$1"+s):l&&(n.url+=(_n.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||v.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Mn.push(s)),u&&v.isFunction(o)&&o(u[0]),u=o=t}),"script"}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),v.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(s,o){n=i.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Fn()||In()}:Fn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(v.ajaxSettings.xhr()),v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=v.noop,Bn&&delete Hn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(p){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++jn,Bn&&(Hn||(Hn={},v(e).unload(Bn)),Hn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),Wn=/queueHooks$/,Xn=[Gn],Vn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=zn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(v.cssNumber[e]?"":"px");if(r!=="px"&&u){u=v.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,v.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};v.Animation=v.extend(Kn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Vn[n]=Vn[n]||[],Vn[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),v.Tween=Yn,Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?"":"px")},cur:function(){var e=Yn.propHooks[this.prop];return e&&e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yn.propHooks._default.set(this),this}},Yn.prototype.init.prototype=Yn.prototype,Yn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Wn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&v.dequeue(this,e)})}}),v.each({slideDown:Zn("show"),slideUp:Zn("hide"),slideToggle:Zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&&typeof e=="object"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Yn.prototype.init,v.fx.tick=function(){var e,n=v.timers,r=0;qn=v.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||v.fx.stop(),qn=t},v.fx.timer=function(e){e()&&v.timers.push(e)&&!Rn&&(Rn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(Rn),Rn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;return(r=c.body)===l?v.offset.bodyOffset(l):(n=c.documentElement,v.contains(n,l)?(typeof l.getBoundingClientRect!="undefined"&&(f=l.getBoundingClientRect()),i=tr(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,"marginTop"))||0,n+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,"position");r==="static"&&(e.style.position="relative");var i=v(e),s=i.offset(),o=v.css(e,"top"),u=v.css(e,"left"),a=(r==="absolute"||r==="fixed")&&v.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,"marginTop"))||0,n.left-=parseFloat(v.css(e,"marginLeft"))||0,r.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&&!er.test(e.nodeName)&&v.css(e,"position")==="static")e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,n){v.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=v,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return v})})(window);
/*
 * jQuery JSON Plugin
 * MIT License: http://www.opensource.org/licenses/mit-license.php
 * copyrighted 2005 by Bob Ippolito.
 */
(function(e){e.toJSON=function(a){if(typeof JSON=="object"&&JSON.stringify)return JSON.stringify(a);var b=typeof a;if(a===null)return"null";if(b!="undefined"){if(b=="number"||b=="boolean")return a+"";if(b=="string")return e.quoteString(a);if(b=="object"){if(typeof a.toJSON=="function")return e.toJSON(a.toJSON());if(a.constructor===Date){var c=a.getUTCMonth()+1;if(c<10)c="0"+c;var d=a.getUTCDate();if(d<10)d="0"+d;b=a.getUTCFullYear();var f=a.getUTCHours();if(f<10)f="0"+f;var g=a.getUTCMinutes();if(g<
10)g="0"+g;var h=a.getUTCSeconds();if(h<10)h="0"+h;a=a.getUTCMilliseconds();if(a<100)a="0"+a;if(a<10)a="0"+a;return'"'+b+"-"+c+"-"+d+"T"+f+":"+g+":"+h+"."+a+'Z"'}if(a.constructor===Array){c=[];for(d=0;d<a.length;d++)c.push(e.toJSON(a[d])||"null");return"["+c.join(",")+"]"}c=[];for(d in a){b=typeof d;if(b=="number")b='"'+d+'"';else if(b=="string")b=e.quoteString(d);else continue;if(typeof a[d]!="function"){f=e.toJSON(a[d]);c.push(b+":"+f)}}return"{"+c.join(", ")+"}"}}};e.evalJSON=function(a){if(typeof JSON==
"object"&&JSON.parse)return JSON.parse(a);return eval("("+a+")")};e.secureEvalJSON=function(a){if(typeof JSON=="object"&&JSON.parse)return JSON.parse(a);var b=a;b=b.replace(/\\["\\\/bfnrtu]/g,"@");b=b.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");b=b.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(b))return eval("("+a+")");else throw new SyntaxError("Error parsing JSON, source is not valid.");};e.quoteString=function(a){if(a.match(i))return'"'+a.replace(i,
function(b){var c=j[b];if(typeof c==="string")return c;c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"';return'"'+a+'"'};var i=/["\\\x00-\x1f\x7f-\x9f]/g,j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}})(jQuery);
/* Metadata - Dual licensed under the MIT and GPL licenses */
(function(e){e.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(b,a){this.defaults.type=b;this.defaults.name=a},get:function(b,a){a=e.extend({},this.defaults,a);if(!a.single.length)a.single="metadata";var c=e.data(b,a.single);if(c)return c;c="{}";var h=function(d){if(typeof d!="string")return d;return d=eval("("+d+")")};if(a.type=="html5"){var g={};e(b.attributes).each(function(){var d=this.nodeName;if(d.match(/^data-/))d=d.replace(/^data-/,
"");else return true;g[d]=h(this.nodeValue)})}else{if(a.type=="class"){var f=a.cre.exec(b.className);if(f)c=f[1]}else if(a.type=="elem"){if(!b.getElementsByTagName)return;f=b.getElementsByTagName(a.name);if(f.length)c=e.trim(f[0].innerHTML)}else if(b.getAttribute!=undefined)if(f=b.getAttribute(a.name))c=f;g=h(c.indexOf("{")<0?"{"+c+"}":c)}e.data(b,a.single,g);return g}}});e.fn.metadata=function(b){return e.metadata.get(this[0],b)}})(jQuery);
/*ColorBox v1.3.19 - jQuery lightbox plugin
(c) 2011 Jack Moore - jacklmoore.com
License: http://www.opensource.org/licenses/mit-license.php
*/
(function(a,b,c){function Z(c,d,e){var g=b.createElement(c);return d&&(g.id=f+d),e&&(g.style.cssText=e),a(g)}function $(a){var b=y.length,c=(Q+a)%b;return c<0?b+c:c}function _(a,b){return Math.round((/%/.test(a)?(b==="x"?z.width():z.height())/100:1)*parseInt(a,10))}function ba(a){return K.photo||/\.(gif|png|jpe?g|bmp|ico)((#|\?).*)?$/i.test(a)}function bb(){var b;K=a.extend({},a.data(P,e));for(b in K)a.isFunction(K[b])&&b.slice(0,2)!=="on"&&(K[b]=K[b].call(P));K.rel=K.rel||P.rel||"nofollow",K.href=K.href||a(P).attr("href"),K.title=K.title||P.title,typeof K.href=="string"&&(K.href=a.trim(K.href))}function bc(b,c){a.event.trigger(b),c&&c.call(P)}function bd(){var a,b=f+"Slideshow_",c="click."+f,d,e,g;K.slideshow&&y[1]?(d=function(){F.text(K.slideshowStop).unbind(c).bind(j,function(){if(K.loop||y[Q+1])a=setTimeout(W.next,K.slideshowSpeed)}).bind(i,function(){clearTimeout(a)}).one(c+" "+k,e),r.removeClass(b+"off").addClass(b+"on"),a=setTimeout(W.next,K.slideshowSpeed)},e=function(){clearTimeout(a),F.text(K.slideshowStart).unbind([j,i,k,c].join(" ")).one(c,function(){W.next(),d()}),r.removeClass(b+"on").addClass(b+"off")},K.slideshowAuto?d():e()):r.removeClass(b+"off "+b+"on")}function be(b){U||(P=b,bb(),y=a(P),Q=0,K.rel!=="nofollow"&&(y=a("."+g).filter(function(){var b=a.data(this,e).rel||this.rel;return b===K.rel}),Q=y.index(P),Q===-1&&(y=y.add(P),Q=y.length-1)),S||(S=T=!0,r.show(),K.returnFocus&&a(P).blur().one(l,function(){a(this).focus()}),q.css({opacity:+K.opacity,cursor:K.overlayClose?"pointer":"auto"}).show(),K.w=_(K.initialWidth,"x"),K.h=_(K.initialHeight,"y"),W.position(),o&&z.bind("resize."+p+" scroll."+p,function(){q.css({width:z.width(),height:z.height(),top:z.scrollTop(),left:z.scrollLeft()})}).trigger("resize."+p),bc(h,K.onOpen),J.add(D).hide(),I.html(K.close).show()),W.load(!0))}function bf(){!r&&b.body&&(Y=!1,z=a(c),r=Z(X).attr({id:e,"class":n?f+(o?"IE6":"IE"):""}).hide(),q=Z(X,"Overlay",o?"position:absolute":"").hide(),s=Z(X,"Wrapper"),t=Z(X,"Content").append(A=Z(X,"LoadedContent","width:0; height:0; overflow:hidden"),C=Z(X,"LoadingOverlay").add(Z(X,"LoadingGraphic")),D=Z(X,"Title"),E=Z(X,"Current"),G=Z(X,"Next"),H=Z(X,"Previous"),F=Z(X,"Slideshow").bind(h,bd),I=Z(X,"Close")),s.append(Z(X).append(Z(X,"TopLeft"),u=Z(X,"TopCenter"),Z(X,"TopRight")),Z(X,!1,"clear:left").append(v=Z(X,"MiddleLeft"),t,w=Z(X,"MiddleRight")),Z(X,!1,"clear:left").append(Z(X,"BottomLeft"),x=Z(X,"BottomCenter"),Z(X,"BottomRight"))).find("div div").css({"float":"left"}),B=Z(X,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),J=G.add(H).add(E).add(F),a(b.body).append(q,r.append(s,B)))}function bg(){return r?(Y||(Y=!0,L=u.height()+x.height()+t.outerHeight(!0)-t.height(),M=v.width()+w.width()+t.outerWidth(!0)-t.width(),N=A.outerHeight(!0),O=A.outerWidth(!0),r.css({"padding-bottom":L,"padding-right":M}),G.click(function(){W.next()}),H.click(function(){W.prev()}),I.click(function(){W.close()}),q.click(function(){K.overlayClose&&W.close()}),a(b).bind("keydown."+f,function(a){var b=a.keyCode;S&&K.escKey&&b===27&&(a.preventDefault(),W.close()),S&&K.arrowKey&&y[1]&&(b===37?(a.preventDefault(),H.click()):b===39&&(a.preventDefault(),G.click()))}),a("."+g,b).live("click",function(a){a.which>1||a.shiftKey||a.altKey||a.metaKey||(a.preventDefault(),be(this))})),!0):!1}var d={transition:"none",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:undefined},e="colorbox",f="cbox",g=f+"Element",h=f+"_open",i=f+"_load",j=f+"_complete",k=f+"_cleanup",l=f+"_closed",m=f+"_purge",n=!a.support.opacity&&!a.support.style,o=n&&!c.XMLHttpRequest,p=f+"_IE6",q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X="div",Y;if(a.colorbox)return;a(bf),W=a.fn[e]=a[e]=function(b,c){var f=this;b=b||{},bf();if(bg()){if(!f[0]){if(f.selector)return f;f=a("<a/>"),b.open=!0}c&&(b.onComplete=c),f.each(function(){a.data(this,e,a.extend({},a.data(this,e)||d,b))}).addClass(g),(a.isFunction(b.open)&&b.open.call(f)||b.open)&&be(f[0])}return f},W.position=function(a,b){function i(a){u[0].style.width=x[0].style.width=t[0].style.width=a.style.width,t[0].style.height=v[0].style.height=w[0].style.height=a.style.height}var c=0,d=0,e=r.offset(),g=z.scrollTop(),h=z.scrollLeft();z.unbind("resize."+f),r.css({top:-9e4,left:-9e4}),K.fixed&&!o?(e.top-=g,e.left-=h,r.css({position:"fixed"})):(c=g,d=h,r.css({position:"absolute"})),K.right!==!1?d+=Math.max(z.width()-K.w-O-M-_(K.right,"x"),0):K.left!==!1?d+=_(K.left,"x"):d+=Math.round(Math.max(z.width()-K.w-O-M,0)/2),K.bottom!==!1?c+=Math.max(z.height()-K.h-N-L-_(K.bottom,"y"),0):K.top!==!1?c+=_(K.top,"y"):c+=Math.round(Math.max(z.height()-K.h-N-L,0)/2),r.css({top:e.top,left:e.left}),a=r.width()===K.w+O&&r.height()===K.h+N?0:a||0,s[0].style.width=s[0].style.height="9999px",r.dequeue().animate({width:K.w+O,height:K.h+N,top:c,left:d},{duration:a,complete:function(){i(this),T=!1,s[0].style.width=K.w+O+M+"px",s[0].style.height=K.h+N+L+"px",K.reposition&&setTimeout(function(){z.bind("resize."+f,W.position)},1),b&&b()},step:function(){i(this)}})},W.resize=function(a){S&&(a=a||{},a.width&&(K.w=_(a.width,"x")-O-M),a.innerWidth&&(K.w=_(a.innerWidth,"x")),A.css({width:K.w}),a.height&&(K.h=_(a.height,"y")-N-L),a.innerHeight&&(K.h=_(a.innerHeight,"y")),!a.innerHeight&&!a.height&&(A.css({height:"auto"}),K.h=A.height()),A.css({height:K.h}),W.position(K.transition==="none"?0:K.speed))},W.prep=function(b){function g(){return K.w=K.w||A.width(),K.w=K.mw&&K.mw<K.w?K.mw:K.w,K.w}function h(){return K.h=K.h||A.height(),K.h=K.mh&&K.mh<K.h?K.mh:K.h,K.h}if(!S)return;var c,d=K.transition==="none"?0:K.speed;A.remove(),A=Z(X,"LoadedContent").append(b),A.hide().appendTo(B.show()).css({width:g(),overflow:K.scrolling?"auto":"hidden"}).css({height:h()}).prependTo(t),B.hide(),a(R).css({"float":"none"}),o&&a("select").not(r.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(k,function(){this.style.visibility="inherit"}),c=function(){function q(){n&&r[0].style.removeAttribute("filter")}var b,c,g=y.length,h,i="frameBorder",k="allowTransparency",l,o,p;if(!S)return;l=function(){clearTimeout(V),C.hide(),bc(j,K.onComplete)},n&&R&&A.fadeIn(100),D.html(K.title).add(A).show();if(g>1){typeof K.current=="string"&&E.html(K.current.replace("{current}",Q+1).replace("{total}",g)).show(),G[K.loop||Q<g-1?"show":"hide"]().html(K.next),H[K.loop||Q?"show":"hide"]().html(K.previous),K.slideshow&&F.show();if(K.preloading){b=[$(-1),$(1)];while(c=y[b.pop()])o=a.data(c,e).href||c.href,a.isFunction(o)&&(o=o.call(c)),ba(o)&&(p=new Image,p.src=o)}}else J.hide();K.iframe?(h=Z("iframe")[0],i in h&&(h[i]=0),k in h&&(h[k]="true"),h.name=f+ +(new Date),K.fastIframe?l():a(h).one("load",l),h.src=K.href,K.scrolling||(h.scrolling="no"),a(h).addClass(f+"Iframe").appendTo(A).one(m,function(){h.src="//about:blank"})):l(),K.transition==="fade"?r.fadeTo(d,1,q):q()},K.transition==="fade"?r.fadeTo(d,0,function(){W.position(0,c)}):W.position(d,c)},W.load=function(b){var c,d,e=W.prep;T=!0,R=!1,P=y[Q],b||bb(),bc(m),bc(i,K.onLoad),K.h=K.height?_(K.height,"y")-N-L:K.innerHeight&&_(K.innerHeight,"y"),K.w=K.width?_(K.width,"x")-O-M:K.innerWidth&&_(K.innerWidth,"x"),K.mw=K.w,K.mh=K.h,K.maxWidth&&(K.mw=_(K.maxWidth,"x")-O-M,K.mw=K.w&&K.w<K.mw?K.w:K.mw),K.maxHeight&&(K.mh=_(K.maxHeight,"y")-N-L,K.mh=K.h&&K.h<K.mh?K.h:K.mh),c=K.href,V=setTimeout(function(){C.show()},100),K.inline?(Z(X).hide().insertBefore(a(c)[0]).one(m,function(){a(this).replaceWith(A.children())}),e(a(c))):K.iframe?e(" "):K.html?e(K.html):ba(c)?(a(R=new Image).addClass(f+"Photo").error(function(){K.title=!1,e(Z(X,"Error").text("This image could not be loaded"))}).load(function(){var a;R.onload=null,K.scalePhotos&&(d=function(){R.height-=R.height*a,R.width-=R.width*a},K.mw&&R.width>K.mw&&(a=(R.width-K.mw)/R.width,d()),K.mh&&R.height>K.mh&&(a=(R.height-K.mh)/R.height,d())),K.h&&(R.style.marginTop=Math.max(K.h-R.height,0)/2+"px"),y[1]&&(K.loop||y[Q+1])&&(R.style.cursor="pointer",R.onclick=function(){W.next()}),n&&(R.style.msInterpolationMode="bicubic"),setTimeout(function(){e(R)},1)}),setTimeout(function(){R.src=c},1)):c&&B.load(c,K.data,function(b,c,d){e(c==="error"?Z(X,"Error").text("Request unsuccessful: "+d.statusText):a(this).contents())})},W.next=function(){!T&&y[1]&&(K.loop||y[Q+1])&&(Q=$(1),W.load())},W.prev=function(){!T&&y[1]&&(K.loop||Q)&&(Q=$(-1),W.load())},W.close=function(){S&&!U&&(U=!0,S=!1,bc(k,K.onCleanup),z.unbind("."+f+" ."+p),q.fadeTo(200,0),r.stop().fadeTo(300,0,function(){r.add(q).css({opacity:1,cursor:"auto"}).hide(),bc(m),A.remove(),setTimeout(function(){U=!1,bc(l,K.onClosed)},1)}))},W.remove=function(){a([]).add(r).add(q).remove(),r=null,a("."+g).removeData(e).removeClass(g).die()},W.element=function(){return a(P)},W.settings=d})(jQuery,document,this);
/* Valid8 */
(function($){$.fn.extend({valid8:function(b){return this.each(function(){$(this).data('valid',false);var a={regularExpressions:[],ajaxRequests:[],jsFunctions:[],validationEvents:['keyup','blur'],validationFrequency:1000,values:null,defaultErrorMessage:'Required'};if(typeof b=='string')a.defaultErrorMessage=b;if(this.type=='checkbox'){a.regularExpressions=[{expression:/^true$/,errormessage:a.defaultErrorMessage}];a.validationEvents=['click']}else a.regularExpressions=[{expression:/^.+$/,errormessage:a.defaultErrorMessage}];$(this).data('settings',$.extend(a,b));initialize(this)})},isValid:function(){var a=true;this.each(function(){validate(this);if($(this).data('valid')==false)a=false});return a}});function initializeDataObject(a){$(a).data('loadings',new Array());$(a).data('errors',new Array());$(a).data('valids',new Array());$(a).data('keypressTimer',null)}function initialize(a){initializeDataObject(a);activate(a)};function activate(b){var c=$(b).data('settings').validationEvents;if(typeof c=='string')$(b)[c](function(e){handleEvent(e,b)});else{$.each(c,function(i,a){$(b)[a](function(e){handleEvent(e,b)})})}};function validate(a){initializeDataObject(a);var b;if(a.type=='checkbox')b=a.checked.toString();else b=a.value;regexpValidation(b.replace(/^[ \t]+|[ \t]+$/,''),a)};function regexpValidation(b,c){$.each($(c).data('settings').regularExpressions,function(i,a){if(!a.expression.test(b))$(c).data('errors')[$(c).data('errors').length]=a.errormessage;else if(a.validmessage)$(c).data('valids')[$(c).data('valids').length]=a.validmessage});if($(c).data('errors').length>0)onEvent(c,'error',false);else if($(c).data('settings').jsFunctions.length>0){functionValidation(b,c)}else if($(c).data('settings').ajaxRequests.length>0){fileValidation(b,c)}else{onEvent(c,'valid',true)}};function functionValidation(c,d){$.each($(d).data('settings').jsFunctions,function(i,a){var v;if(a.values){if(typeof a.values=='function')v=a.values()}var b=v||c;handleLoading(d,a);if(a['function'](b).valid)$(d).data('valids')[$(d).data('valids').length]=a['function'](b).message;else $(d).data('errors')[$(d).data('errors').length]=a['function'](b).message});if($(d).data('errors').length>0)onEvent(d,'error',false);else if($(d).data('settings').ajaxRequests.length>0){fileValidation(c,d)}else{onEvent(d,'valid',true)}};function fileValidation(e,f){$.each($(f).data('settings').ajaxRequests,function(i,c){var v;if(c.values){if(typeof c.values=='function')v=c.values()}var d=v||{value:e};handleLoading(f,c);$.post(c.url,d,function(a,b){if(a.valid){$(f).data('valids')[$(f).data('valids').length]=a.message||c.validmessage||""}else{$(f).data('errors')[$(f).data('errors').length]=a.message||c.errormessage||""}if($(f).data('errors').length>0)onEvent(f,'error',false);else{onEvent(f,'valid',true)}},"json")})};function handleEvent(e,a){if(e.keyCode&&$(a).attr('value').length>0){clearTimeout($(a).data('keypressTimer'));$(a).data('keypressTimer',setTimeout(function(){validate(a)},$(a).data('settings').validationFrequency))}else if(e.keyCode&&$(a).attr('value').length<=0)return false;else{validate(a)}};function handleLoading(a,b){if(b.loadingmessage){$(a).data('loadings')[$(a).data('loadings').length]=b.loadingmessage;onEvent(a,'loading',false)}};function onEvent(a,b,c){var d=b.substring(0,1).toUpperCase()+b.substring(1,b.length),messages=$(a).data(b+'s');$(a).data(b,c);setStatus(a,b);setParentClass(a,b);setMessage(messages,a);$(a).trigger(b,[messages,a,b])}function setParentClass(a,b){var c=$(a).parent();c[0].className=(c[0].className.replace(/(^\s|(\s*(loading|error|valid)))/g,'')+' '+b).replace(/^\s/,'')}function setMessage(a,b){var c=$(b).parent();var d=b.id+"ValidationMessage";var e='validationMessage';if(!$('#'+d).length>0){c.append('<span id="'+d+'" class="'+e+'"></span>')}$('#'+d).html("");$('#'+d).text(a[0])};function setStatus(a,b){if(b=='valid'){$(a).data('valid',true)}else if(b=='error'){$(a).data('valid',false)}}})(jQuery);
/*
 * jQuery Color Animations
 * Copyright 2007 John Resig
 * Released under the MIT and GPL licenses.
 */
(function(d){function e(c){var a;if(c&&c.constructor==Array&&c.length==3)return c;if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])];if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return[parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55];if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return[parseInt(a[1],16),parseInt(a[2],
16),parseInt(a[3],16)];if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)];return f[d.trim(c).toLowerCase()]}function g(c,a){var b;do{b=d.curCSS(c,a);if(b!=""&&b!="transparent"||d.nodeName(c,"body"))break;a="backgroundColor"}while(c=c.parentNode);return e(b)}d.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(c,a){d.fx.step[a]=function(b){if(b.state==
0){b.start=g(b.elem,a);b.end=e(b.end)}b.elem.style[a]="rgb("+[Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0]),255),0),Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1]),255),0),Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2]),255),0)].join(",")+")"}});var f={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,
100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,
128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
/* tipsy */
(function(b){function j(a){if(a.attr("title")||typeof a.attr("original-title")!="string")a.attr("original-title",a.attr("title")||"").removeAttr("title")}function k(a,c){this.$element=b(a);this.options=c;this.enabled=true;j(this.$element)}k.prototype={show:function(){var a=this.getTitle();if(a&&this.enabled){var c=this.tip();c.find(".tipsy-inner")[this.options.html?"html":"text"](a);c[0].className="tipsy";c.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);a=
b.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});var d=c[0].offsetWidth,h=c[0].offsetHeight,g=typeof this.options.gravity=="function"?this.options.gravity.call(this.$element[0]):this.options.gravity,f;switch(g.charAt(0)){case "n":f={top:a.top+a.height+this.options.offset,left:a.left+a.width/2-d/2};break;case "s":f={top:a.top-h-this.options.offset,left:a.left+a.width/2-d/2};break;case "e":f={top:a.top+a.height/2-h/2,left:a.left-d-this.options.offset};
break;case "w":f={top:a.top+a.height/2-h/2,left:a.left+a.width+this.options.offset};break}if(g.length==2)f.left=g.charAt(1)=="w"?a.left+a.width/2-15:a.left+a.width/2-d+15;c.css(f).addClass("tipsy-"+g);this.options.fade?c.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):c.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){b(this).remove()}):this.tip().remove()},getTitle:function(){var a,
c=this.$element,d=this.options;j(c);d=this.options;if(typeof d.title=="string")a=c.attr(d.title=="title"?"original-title":d.title);else if(typeof d.title=="function")a=d.title.call(c[0]);return(a=(""+a).replace(/(^\s*|\s*$)/,""))||d.fallback},tip:function(){if(!this.$tip)this.$tip=b('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"/></div>');return this.$tip},validate:function(){this.$element[0].parentNode||this.hide()},enable:function(){this.enabled=true},
disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled}};b.fn.tipsy=function(a){function c(e){var i=b.data(e,"tipsy");if(!i){i=new k(e,b.fn.tipsy.elementOptions(e,a));b.data(e,"tipsy",i)}return i}function d(){var e=c(this);e.hoverState="in";a.delayIn==0?e.show():setTimeout(function(){e.hoverState=="in"&&e.show()},a.delayIn)}function h(){var e=c(this);e.hoverState="out";a.delayOut==0?e.hide():setTimeout(function(){e.hoverState=="out"&&e.hide()},a.delayOut)}if(a===
true)return this.data("tipsy");else if(typeof a=="string")return this.data("tipsy")[a]();a=b.extend({},b.fn.tipsy.defaults,a);a.live||this.each(function(){c(this)});if(a.trigger!="manual"){var g=a.live?"live":"bind",f=a.trigger=="hover"?"mouseleave":"blur";this[g](a.trigger=="hover"?"mouseenter":"focus",d)[g](f,h)}return this};b.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,offset:0,opacity:0.8,title:"title",trigger:"hover"};b.fn.tipsy.elementOptions=
function(a,c){return b.metadata?b.extend({},c,b(a).metadata()):c};b.fn.tipsy.autoNS=function(){return b(this).offset().top>b(document).scrollTop()+b(window).height()/2?"s":"n"};b.fn.tipsy.autoWE=function(){return b(this).offset().left>b(document).scrollLeft()+b(window).width()/2?"e":"w"};b.fn.tipsy.autoSNiy=function(){return (b(this).offset().top-b(document).scrollTop())>50?"s":"n"}})(jQuery);

/*
 * jQuery Star Rating Plugin v3.13 - 2009-03-26 ###
 * Home: http://www.fyneworks.com/jquery/star-rating/
 * Dual licensed under the MIT and GPL licenses
*/
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}(';5(29.1j)(7($){5($.1L.1J)1I{1t.1H("1K",J,H)}1M(e){};$.n.3=7(i){5(4.Q==0)k 4;5(A I[0]==\'1h\'){5(4.Q>1){8 j=I;k 4.W(7(){$.n.3.y($(4),j)})};$.n.3[I[0]].y(4,$.1T(I).1U(1)||[]);k 4};8 i=$.12({},$.n.3.1s,i||{});$.n.3.K++;4.2a(\'.9-3-1f\').o(\'9-3-1f\').W(7(){8 a,l=$(4);8 b=(4.23||\'21-3\').1v(/\\[|\\]/g,\'Z\').1v(/^\\Z+|\\Z+$/g,\'\');8 c=$(4.1X||1t.1W);8 d=c.6(\'3\');5(!d||d.18!=$.n.3.K)d={z:0,18:$.n.3.K};8 e=d[b];5(e)a=e.6(\'3\');5(e&&a)a.z++;x{a=$.12({},i||{},($.1b?l.1b():($.1S?l.6():s))||{},{z:0,F:[],v:[]});a.w=d.z++;e=$(\'<1R V="9-3-1Q"/>\');l.1P(e);e.o(\'3-15-T-17\');5(l.S(\'R\'))a.m=H;e.1c(a.E=$(\'<P V="3-E"><a 14="\'+a.E+\'">\'+a.1d+\'</a></P>\').1g(7(){$(4).3(\'O\');$(4).o(\'9-3-N\')}).1i(7(){$(4).3(\'u\');$(4).G(\'9-3-N\')}).1l(7(){$(4).3(\'r\')}).6(\'3\',a))};8 f=$(\'<P V="9-3 q-\'+a.w+\'"><a 14="\'+(4.14||4.1p)+\'">\'+4.1p+\'</a></P>\');e.1c(f);5(4.11)f.S(\'11\',4.11);5(4.1r)f.o(4.1r);5(a.1F)a.t=2;5(A a.t==\'1u\'&&a.t>0){8 g=($.n.10?f.10():0)||a.1w;8 h=(a.z%a.t),Y=1y.1z(g/a.t);f.10(Y).1A(\'a\').1B({\'1C-1D\':\'-\'+(h*Y)+\'1E\'})};5(a.m)f.o(\'9-3-1o\');x f.o(\'9-3-1G\').1g(7(){$(4).3(\'1n\');$(4).3(\'D\')}).1i(7(){$(4).3(\'u\');$(4).3(\'C\')}).1l(7(){$(4).3(\'r\')});5(4.L)a.p=f;l.1q();l.1N(7(){$(4).3(\'r\')});f.6(\'3.l\',l.6(\'3.9\',f));a.F[a.F.Q]=f[0];a.v[a.v.Q]=l[0];a.q=d[b]=e;a.1O=c;l.6(\'3\',a);e.6(\'3\',a);f.6(\'3\',a);c.6(\'3\',d)});$(\'.3-15-T-17\').3(\'u\').G(\'3-15-T-17\');k 4};$.12($.n.3,{K:0,D:7(){8 a=4.6(\'3\');5(!a)k 4;5(!a.D)k 4;8 b=$(4).6(\'3.l\')||$(4.U==\'13\'?4:s);5(a.D)a.D.y(b[0],[b.M(),$(\'a\',b.6(\'3.9\'))[0]])},C:7(){8 a=4.6(\'3\');5(!a)k 4;5(!a.C)k 4;8 b=$(4).6(\'3.l\')||$(4.U==\'13\'?4:s);5(a.C)a.C.y(b[0],[b.M(),$(\'a\',b.6(\'3.9\'))[0]])},1n:7(){8 a=4.6(\'3\');5(!a)k 4;5(a.m)k;4.3(\'O\');4.1a().19().X(\'.q-\'+a.w).o(\'9-3-N\')},O:7(){8 a=4.6(\'3\');5(!a)k 4;5(a.m)k;a.q.1V().X(\'.q-\'+a.w).G(\'9-3-1k\').G(\'9-3-N\')},u:7(){8 a=4.6(\'3\');5(!a)k 4;4.3(\'O\');5(a.p){a.p.6(\'3.l\').S(\'L\',\'L\');a.p.1a().19().X(\'.q-\'+a.w).o(\'9-3-1k\')}x $(a.v).1m(\'L\');a.E[a.m||a.1Y?\'1q\':\'1Z\']();4.20()[a.m?\'o\':\'G\'](\'9-3-1o\')},r:7(a,b){8 c=4.6(\'3\');5(!c)k 4;5(c.m)k;c.p=s;5(A a!=\'B\'){5(A a==\'1u\')k $(c.F[a]).3(\'r\',B,b);5(A a==\'1h\')$.W(c.F,7(){5($(4).6(\'3.l\').M()==a)$(4).3(\'r\',B,b)})}x c.p=4[0].U==\'13\'?4.6(\'3.9\'):(4.22(\'.q-\'+c.w)?4:s);4.6(\'3\',c);4.3(\'u\');8 d=$(c.p?c.p.6(\'3.l\'):s);5((b||b==B)&&c.1e)c.1e.y(d[0],[d.M(),$(\'a\',c.p)[0]])},m:7(a,b){8 c=4.6(\'3\');5(!c)k 4;c.m=a||a==B?H:J;5(b)$(c.v).S("R","R");x $(c.v).1m("R");4.6(\'3\',c);4.3(\'u\')},1x:7(){4.3(\'m\',H,H)},24:7(){4.3(\'m\',J,J)}});$.n.3.1s={E:\'25 26\',1d:\'\',t:0,1w:16};$(7(){$(\'l[27=28].9\').3()})})(1j);',62,135,'|||rating|this|if|data|function|var|star|||||||||||return|input|readOnly|fn|addClass|current|rater|select|null|split|draw|inputs|serial|else|apply|count|typeof|undefined|blur|focus|cancel|stars|removeClass|true|arguments|false|calls|checked|val|hover|drain|div|length|disabled|attr|be|tagName|class|each|filter|spw|_|width|id|extend|INPUT|title|to||drawn|call|andSelf|prevAll|metadata|append|cancelValue|callback|applied|mouseover|string|mouseout|jQuery|on|click|removeAttr|fill|readonly|value|hide|className|options|document|number|replace|starWidth|disable|Math|floor|find|css|margin|left|px|half|live|execCommand|try|msie|BackgroundImageCache|browser|catch|change|context|before|control|span|meta|makeArray|slice|children|body|form|required|show|siblings|unnamed|is|name|enable|Cancel|Rating|type|radio|window|not'.split('|'),0,{}));
/**
 * Cloud Zoom V1.0.2
 */
(function(b){function n(g){for(var e=1;e<arguments.length;e++)g=g.replace("%"+(e-1),arguments[e]);return g}function H(g,e){var d=b("img",g),k,f=null,i=null,h=null,m=null,l=null,u=null,o,C=0,s,t,D=0,E=0,y=0,z=0,F=0,A,B,v=this,G;setTimeout(function(){if(i===null){var c=g.width();g.parent().append(n('<div style="width:%0px;position:absolute;top:75%;left:%1px;text-align:center" class="cloud_zoom_loading" >Loading...</div>',c/3,c/2-c/6)).find(":last").css("opacity",0.5)}},1);var I=function(){if(u!==null){u.remove();
u=null}b(".cloud_zoom_wrap iframe").remove()};this.removeBits=function(){if(h){h.remove();h=null}if(m){m.remove();m=null}if(l){l.remove();l=null}I();b(".cloud_zoom_loading",g.parent()).remove()};this.destroy=function(){g.data("zoom",null);if(i){i.unbind();i.remove();i=null}if(f){f.remove();f=null}this.removeBits()};this.fadedOut=function(){if(f){f.remove();f=null}this.removeBits()};this.controlLoop=function(){if(h){var c=A-d.offset().left-s*0.5>>0,j=B-d.offset().top-t*0.5>>0;if(c<0)c=0;else if(c>
d.outerWidth()-s)c=d.outerWidth()-s;if(j<0)j=0;else if(j>d.outerHeight()-t)j=d.outerHeight()-t;h.css({left:c,top:j});h.css("background-position",-c+"px "+-j+"px");D=c/d.outerWidth()*o.width>>0;E=j/d.outerHeight()*o.height>>0;z+=(D-z)/e.smoothMove;y+=(E-y)/e.smoothMove;f.css("background-position",-(z>>0)+"px "+(-(y>>0)+"px"))}C=setTimeout(function(){v.controlLoop()},30)};this.init2=function(c,j){F++;if(j===1)o=c;F===2&&this.init()};this.init=function(){b(".cloud_zoom_loading",g.parent()).remove();
i=g.parent().append(n("<div class='mousetrap' style='background-image:url(\".\");z-index:9;position:absolute;width:%0px;height:%1px;left:%2px;top:%3px;'></div>",d.outerWidth(),d.outerHeight(),0,0)).find(":last");i.bind("mousemove",this,function(c){A=c.pageX;B=c.pageY});i.bind("mouseleave",this,function(){clearTimeout(C);h&&h.fadeOut(299);m&&m.fadeOut(299);l&&l.fadeOut(299);f.fadeOut(300,function(){v.fadedOut()});return false});i.bind("mouseenter",this,function(c){A=c.pageX;B=c.pageY;G=c.data;if(f){f.stop(true,
false);f.remove()}c=e.adjustX;var j=e.adjustY,w=d.outerWidth(),x=d.outerHeight(),p=e.zoomWidth,q=e.zoomHeight;if(e.zoomWidth=="auto")p=w;if(e.zoomHeight=="auto")q=x;var r=g.parent();switch(e.position){case "top":j-=q;break;case "right":c+=w;break;case "bottom":j+=x;break;case "left":c-=p;break;case "inside":p=w;q=x;break;default:r=b("#"+e.position);if(r.length){p=r.innerWidth();q=r.innerHeight()}else{r=g;c+=w;j+=x}}f=r.append(n('<div id="cloud_zoom_big" class="cloud_zoom_big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:8;"></div>',
c,j,p,q,o.src)).find(":last");d.attr("title")&&e.showTitle&&f.append(n('<div class="cloud_zoom_title">%0</div>',d.attr("title"))).find(":last").css("opacity",e.titleOpacity);if(b.browser.msie&&b.browser.version<7)u=b('<iframe frameborder="0" src="#"></iframe>').css({position:"absolute",left:c,top:j,zIndex:8,width:p,height:q}).insertBefore(f);f.fadeIn(500);if(h){h.remove();h=null}s=d.outerWidth()/o.width*f.width();t=d.outerHeight()/o.height*f.height();h=g.append(n("<div class = 'cloud_zoom_lens' style='display:none;z-index:7;position:absolute;width:%0px;height:%1px;'></div>",
s,t)).find(":last");i.css("cursor",h.css("cursor"));c=false;if(e.tint){h.css("background",'url("'+d.attr("src")+'")');m=g.append(n('<div style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',d.outerWidth(),d.outerHeight(),e.tint)).find(":last");m.css("opacity",e.tintOpacity);c=true;m.fadeIn(500)}if(e.softFocus){h.css("background",'url("'+d.attr("src")+'")');l=g.append(n('<div style="position:absolute;display:none;top:2px; left:2px; width:%0px; height:%1px;" />',
d.outerWidth()-2,d.outerHeight()-2,e.tint)).find(":last");l.css("background",'url("'+d.attr("src")+'")');l.css("opacity",0.5);c=true;l.fadeIn(500)}c||h.css("opacity",e.lensOpacity);e.position!=="inside"&&h.fadeIn(500);G.controlLoop()})};k=new Image;b(k).load(function(){v.init2(this,0)});k.src=d.attr("src");k=new Image;b(k).load(function(){v.init2(this,1)});k.src=g.attr("href")}b(document).ready(function(){b(".cloud_zoom, .cloud_zoom_gallery").CloudZoom()});b.fn.CloudZoom=function(g){try{document.execCommand("BackgroundImageCache",
false,true)}catch(e){}this.each(function(){var d,k;eval("var\ta = {"+b(this).attr("rel")+"}");d=a;if(b(this).is(".cloud_zoom")){b(this).css({position:"relative",display:"block"});b("img",b(this)).css({display:"block"});b(this).parent().attr("class")!="cloud_zoom_wrap"&&b(this).wrap('<div class="cloud_zoom_wrap" style="top:0px;z-index:11;position:relative;"></div>');k=b.extend({},b.fn.CloudZoom.defaults,g);k=b.extend({},k,d);b(this).data("zoom",new H(b(this),k))}else if(b(this).is(".cloud_zoom_gallery")){k=
b.extend({},d,g);b(this).data("relOpts",k);b(this).bind("click mouseenter",b(this),function(f){var i=f.data.data("relOpts");b("#"+i.useZoom).data("zoom").destroy();b("#"+i.useZoom).attr("href",f.data.attr("href"));b("#"+i.useZoom+" img").attr("src",f.data.data("relOpts").smallImage);b("#"+i.useZoom+" img").attr("title",f.data.data("relOpts").title);b("#"+f.data.data("relOpts").useZoom).CloudZoom();return false})}});return this};b.fn.CloudZoom.defaults={zoomWidth:"610",zoomHeight:"420",position:"right",
tint:false,tintOpacity:0.5,lensOpacity:0.5,softFocus:false,smoothMove:3,showTitle:true,title:"",titleOpacity:0.5,adjustX:20,adjustY:0}})(jQuery);

/** http://keith-wood.name/countdown.html
   Countdown for jQuery v1.5.8.
   Written by Keith Wood (kbwood{at}iinet.com.au) January 2008.
   Dual licensed under the GPL (http://dev.jquery.com/browser/trunk/jquery/GPL-LICENSE.txt) and
   MIT (http://dev.jquery.com/browser/trunk/jquery/MIT-LICENSE.txt) licenses.
   Please attribute the author if you use it.
   */
(function(i){function q(){this.regional=[];this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,timeSeparator:":",isRTL:false};this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:false,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:false,onExpiry:null,onTick:null,tickInterval:1};i.extend(this._defaults,
this.regional[""]);this._serverSyncs=[]}function r(a,b){i.extend(a,b);for(var c in b)if(b[c]==null)a[c]=null;return a}i.extend(q.prototype,{markerClassName:"hasCountdown",_timer:setInterval(function(){i.countdown._updateTargets()},980),_timerTargets:[],setDefaults:function(a){this._resetExtraLabels(this._defaults,a);r(this._defaults,a||{})},UTCDate:function(a,b,c,d,g,f,e,k){if(typeof b=="object"&&b.constructor==Date){k=b.getMilliseconds();e=b.getSeconds();f=b.getMinutes();g=b.getHours();d=b.getDate();
c=b.getMonth();b=b.getFullYear()}var j=new Date;j.setUTCFullYear(b);j.setUTCDate(1);j.setUTCMonth(c||0);j.setUTCDate(d||1);j.setUTCHours(g||0);j.setUTCMinutes((f||0)-(Math.abs(a)<30?a*60:a));j.setUTCSeconds(e||0);j.setUTCMilliseconds(k||0);return j},periodsToSeconds:function(a){return a[0]*31557600+a[1]*2629800+a[2]*604800+a[3]*86400+a[4]*3600+a[5]*60+a[6]},_settingsCountdown:function(a,b){if(!b)return i.countdown._defaults;a=i.data(a,"countdown");return b=="all"?a.options:a.options[b]},_attachCountdown:function(a,
b){var c=i(a);if(!c.hasClass(this.markerClassName)){c.addClass(this.markerClassName);b={options:i.extend({},b),_periods:[0,0,0,0,0,0,0]};i.data(a,"countdown",b);this._changeCountdown(a)}},_addTarget:function(a){this._hasTarget(a)||this._timerTargets.push(a)},_hasTarget:function(a){return i.inArray(a,this._timerTargets)>-1},_removeTarget:function(a){this._timerTargets=i.map(this._timerTargets,function(b){return b==a?null:b})},_updateTargets:function(){for(var a=this._timerTargets.length-1;a>=0;a--)this._updateCountdown(this._timerTargets[a])},
_updateCountdown:function(a,b){var c=i(a);if(b=b||i.data(a,"countdown")){c.html(this._generateHTML(b));c[(this._get(b,"isRTL")?"add":"remove")+"Class"]("countdown_rtl");if(c=this._get(b,"onTick")){var d=b._hold!="lap"?b._periods:this._calculatePeriods(b,b._show,this._get(b,"significant"),new Date),g=this._get(b,"tickInterval");if(g==1||this.periodsToSeconds(d)%g==0)c.apply(a,[d])}if(b._hold!="pause"&&(b._since?b._now.getTime()<b._since.getTime():b._now.getTime()>=b._until.getTime())&&!b._expiring){b._expiring=
true;if(this._hasTarget(a)||this._get(b,"alwaysExpire")){this._removeTarget(a);(c=this._get(b,"onExpiry"))&&c.apply(a,[]);if(c=this._get(b,"expiryText")){d=this._get(b,"layout");b.options.layout=c;this._updateCountdown(a,b);b.options.layout=d}if(c=this._get(b,"expiryUrl"))window.location=c}b._expiring=false}else b._hold=="pause"&&this._removeTarget(a);i.data(a,"countdown",b)}},_changeCountdown:function(a,b,c){b=b||{};if(typeof b=="string"){var d=b;b={};b[d]=c}if(c=i.data(a,"countdown")){this._resetExtraLabels(c.options,
b);r(c.options,b);this._adjustSettings(a,c);i.data(a,"countdown",c);b=new Date;if(c._since&&c._since<b||c._until&&c._until>b)this._addTarget(a);this._updateCountdown(a,c)}},_resetExtraLabels:function(a,b){var c=false;for(var d in b)if(d!="whichLabels"&&d.match(/[Ll]abels/)){c=true;break}if(c)for(d in a)if(d.match(/[Ll]abels[0-9]/))a[d]=null},_adjustSettings:function(a,b){var c=this._get(b,"serverSync"),d=0;d=null;for(var g=0;g<this._serverSyncs.length;g++)if(this._serverSyncs[g][0]==c){d=this._serverSyncs[g][1];
break}if(d!=null){d=c?d:0;a=new Date}else{d=c?c.apply(a,[]):null;a=new Date;d=d?a.getTime()-d.getTime():0;this._serverSyncs.push([c,d])}c=this._get(b,"timezone");c=c==null?-a.getTimezoneOffset():c;b._since=this._get(b,"since");if(b._since!=null){b._since=this.UTCDate(c,this._determineTime(b._since,null));b._since&&d&&b._since.setMilliseconds(b._since.getMilliseconds()+d)}b._until=this.UTCDate(c,this._determineTime(this._get(b,"until"),a));d&&b._until.setMilliseconds(b._until.getMilliseconds()+d);
b._show=this._determineShow(b)},_destroyCountdown:function(a){var b=i(a);if(b.hasClass(this.markerClassName)){this._removeTarget(a);b.removeClass(this.markerClassName).empty();i.removeData(a,"countdown")}},_pauseCountdown:function(a){this._hold(a,"pause")},_lapCountdown:function(a){this._hold(a,"lap")},_resumeCountdown:function(a){this._hold(a,null)},_hold:function(a,b){var c=i.data(a,"countdown");if(c){if(c._hold=="pause"&&!b){c._periods=c._savePeriods;var d=c._since?"-":"+";c[c._since?"_since":
"_until"]=this._determineTime(d+c._periods[0]+"y"+d+c._periods[1]+"o"+d+c._periods[2]+"w"+d+c._periods[3]+"d"+d+c._periods[4]+"h"+d+c._periods[5]+"m"+d+c._periods[6]+"s");this._addTarget(a)}c._hold=b;c._savePeriods=b=="pause"?c._periods:null;i.data(a,"countdown",c);this._updateCountdown(a,c)}},_getTimesCountdown:function(a){a=i.data(a,"countdown");return!a?null:!a._hold?a._periods:this._calculatePeriods(a,a._show,this._get(a,"significant"),new Date)},_get:function(a,b){return a.options[b]!=null?a.options[b]:
i.countdown._defaults[b]},_determineTime:function(a,b){var c=function(g){var f=new Date;f.setTime(f.getTime()+g*1E3);return f},d=function(g){g=g.toLowerCase();var f=new Date,e=f.getFullYear(),k=f.getMonth(),j=f.getDate(),h=f.getHours(),m=f.getMinutes();f=f.getSeconds();for(var n=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,l=n.exec(g);l;){switch(l[2]||"s"){case "s":f+=parseInt(l[1],10);break;case "m":m+=parseInt(l[1],10);break;case "h":h+=parseInt(l[1],10);break;case "d":j+=parseInt(l[1],10);break;case "w":j+=
parseInt(l[1],10)*7;break;case "o":k+=parseInt(l[1],10);j=Math.min(j,i.countdown._getDaysInMonth(e,k));break;case "y":e+=parseInt(l[1],10);j=Math.min(j,i.countdown._getDaysInMonth(e,k));break}l=n.exec(g)}return new Date(e,k,j,h,m,f,0)};(a=a==null?b:typeof a=="string"?d(a):typeof a=="number"?c(a):a)&&a.setMilliseconds(0);return a},_getDaysInMonth:function(a,b){return 32-(new Date(a,b,32)).getDate()},_normalLabels:function(a){return a},_generateHTML:function(a){var b=this._get(a,"significant");a._periods=
a._hold?a._periods:this._calculatePeriods(a,a._show,b,new Date);for(var c=false,d=0,g=b,f=i.extend({},a._show),e=0;e<=6;e++){c|=a._show[e]=="?"&&a._periods[e]>0;f[e]=a._show[e]=="?"&&!c?null:a._show[e];d+=f[e]?1:0;g-=a._periods[e]>0?1:0}var k=[false,false,false,false,false,false,false];for(e=6;e>=0;e--)if(a._show[e])if(a._periods[e])k[e]=true;else{k[e]=g>0;g--}c=this._get(a,"compact");g=this._get(a,"layout");var j=c?this._get(a,"compactLabels"):this._get(a,"labels"),h=this._get(a,"whichLabels")||
this._normalLabels;e=this._get(a,"timeSeparator");var m=this._get(a,"description")||"",n=function(o){var p=i.countdown._get(a,"compactLabels"+h(a._periods[o]));return f[o]?a._periods[o]+(p?p[o]:j[o])+" ":""},l=function(o){var p=i.countdown._get(a,"labels"+h(a._periods[o]));return!b&&f[o]||b&&k[o]?'<span class="countdown_section"><span class="countdown_amount">'+a._periods[o]+"</span><br/>"+(p?p[o]:j[o])+"</span>":""};return g?this._buildLayout(a,f,g,c,b,k):(c?'<span class="countdown_row countdown_amount'+
(a._hold?" countdown_holding":"")+'">'+n(0)+n(1)+n(2)+n(3)+(f[4]?this._minDigits(a._periods[4],2):"")+(f[5]?(f[4]?e:"")+this._minDigits(a._periods[5],2):"")+(f[6]?(f[4]||f[5]?e:"")+this._minDigits(a._periods[6],2):""):'<span class="countdown_row countdown_show'+(b||d)+(a._hold?" countdown_holding":"")+'">'+l(0)+l(1)+l(2)+l(3)+l(4)+l(5)+l(6))+"</span>"+(m?'<span class="countdown_row countdown_descr">'+m+"</span>":"")},_buildLayout:function(a,b,c,d,g,f){var e=this._get(a,d?"compactLabels":"labels"),
k=this._get(a,"whichLabels")||this._normalLabels,j=function(n){return(i.countdown._get(a,(d?"compactLabels":"labels")+k(a._periods[n]))||e)[n]},h=function(n,l){return Math.floor(n/l)%10};j={desc:this._get(a,"description"),sep:this._get(a,"timeSeparator"),yl:j(0),yn:a._periods[0],ynn:this._minDigits(a._periods[0],2),ynnn:this._minDigits(a._periods[0],3),y1:h(a._periods[0],1),y10:h(a._periods[0],10),y100:h(a._periods[0],100),y1000:h(a._periods[0],1E3),ol:j(1),on:a._periods[1],onn:this._minDigits(a._periods[1],
2),onnn:this._minDigits(a._periods[1],3),o1:h(a._periods[1],1),o10:h(a._periods[1],10),o100:h(a._periods[1],100),o1000:h(a._periods[1],1E3),wl:j(2),wn:a._periods[2],wnn:this._minDigits(a._periods[2],2),wnnn:this._minDigits(a._periods[2],3),w1:h(a._periods[2],1),w10:h(a._periods[2],10),w100:h(a._periods[2],100),w1000:h(a._periods[2],1E3),dl:j(3),dn:a._periods[3],dnn:this._minDigits(a._periods[3],2),dnnn:this._minDigits(a._periods[3],3),d1:h(a._periods[3],1),d10:h(a._periods[3],10),d100:h(a._periods[3],
100),d1000:h(a._periods[3],1E3),hl:j(4),hn:a._periods[4],hnn:this._minDigits(a._periods[4],2),hnnn:this._minDigits(a._periods[4],3),h1:h(a._periods[4],1),h10:h(a._periods[4],10),h100:h(a._periods[4],100),h1000:h(a._periods[4],1E3),ml:j(5),mn:a._periods[5],mnn:this._minDigits(a._periods[5],2),mnnn:this._minDigits(a._periods[5],3),m1:h(a._periods[5],1),m10:h(a._periods[5],10),m100:h(a._periods[5],100),m1000:h(a._periods[5],1E3),sl:j(6),sn:a._periods[6],snn:this._minDigits(a._periods[6],2),snnn:this._minDigits(a._periods[6],
3),s1:h(a._periods[6],1),s10:h(a._periods[6],10),s100:h(a._periods[6],100),s1000:h(a._periods[6],1E3)};var m=c;for(c=0;c<=6;c++){h="yowdhms".charAt(c);m=m.replace(new RegExp("\\{"+h+"<\\}(.*)\\{"+h+">\\}","g"),!g&&b[c]||g&&f[c]?"$1":"")}i.each(j,function(n,l){m=m.replace(new RegExp("\\{"+n+"\\}","g"),l)});return m},_minDigits:function(a,b){a=""+a;if(a.length>=b)return a;a="0000000000"+a;return a.substr(a.length-b)},_determineShow:function(a){a=this._get(a,"format");var b=[];b[0]=a.match("y")?"?":
a.match("Y")?"!":null;b[1]=a.match("o")?"?":a.match("O")?"!":null;b[2]=a.match("w")?"?":a.match("W")?"!":null;b[3]=a.match("d")?"?":a.match("D")?"!":null;b[4]=a.match("h")?"?":a.match("H")?"!":null;b[5]=a.match("m")?"?":a.match("M")?"!":null;b[6]=a.match("s")?"?":a.match("S")?"!":null;return b},_calculatePeriods:function(a,b,c,d){a._now=d;a._now.setMilliseconds(0);var g=new Date(a._now.getTime());if(a._since)if(d.getTime()<a._since.getTime())a._now=d=g;else d=a._since;else{g.setTime(a._until.getTime());
if(d.getTime()>a._until.getTime())a._now=d=g}var f=[0,0,0,0,0,0,0];if(b[0]||b[1]){var e=i.countdown._getDaysInMonth(d.getFullYear(),d.getMonth()),k=i.countdown._getDaysInMonth(g.getFullYear(),g.getMonth());k=g.getDate()==d.getDate()||g.getDate()>=Math.min(e,k)&&d.getDate()>=Math.min(e,k);var j=function(m){return(m.getHours()*60+m.getMinutes())*60+m.getSeconds()};k=Math.max(0,(g.getFullYear()-d.getFullYear())*12+g.getMonth()-d.getMonth()+(g.getDate()<d.getDate()&&!k||k&&j(g)<j(d)?-1:0));f[0]=b[0]?
Math.floor(k/12):0;f[1]=b[1]?k-f[0]*12:0;d=new Date(d.getTime());e=d.getDate()==e;k=i.countdown._getDaysInMonth(d.getFullYear()+f[0],d.getMonth()+f[1]);d.getDate()>k&&d.setDate(k);d.setFullYear(d.getFullYear()+f[0]);d.setMonth(d.getMonth()+f[1]);e&&d.setDate(k)}var h=Math.floor((g.getTime()-d.getTime())/1E3);d=function(m,n){f[m]=b[m]?Math.floor(h/n):0;h-=f[m]*n};d(2,604800);d(3,86400);d(4,3600);d(5,60);d(6,1);if(h>0&&!a._since){a=[1,12,4.3482,7,24,60,60];d=6;g=1;for(e=6;e>=0;e--){if(b[e]){if(f[d]>=
g){f[d]=0;h=1}if(h>0){f[e]++;h=0;d=e;g=1}}g*=a[e]}}if(c)for(e=0;e<=6;e++)if(c&&f[e])c--;else c||(f[e]=0);return f}});i.fn.countdown=function(a){var b=Array.prototype.slice.call(arguments,1);if(a=="getTimes"||a=="settings")return i.countdown["_"+a+"Countdown"].apply(i.countdown,[this[0]].concat(b));return this.each(function(){typeof a=="string"?i.countdown["_"+a+"Countdown"].apply(i.countdown,[this].concat(b)):i.countdown._attachCountdown(this,a)})};i.countdown=new q})(jQuery);
/*
 * Tabiy Slidiy mSlidiy Formiy
 * (c) 2013 by David. <http://www.shopiy.com/>
 */
(function(a){var b=1;a.fn.Tabiy=function(){var e=a(this),c=e.find('.box[id!=""]'),d=e.find('.box[id=""]');if(c.length>0){e.prepend('<div class="tab_wrapper"><p class="tabs" id="tabs-'+b+'"></p><div class="extra"></div></div>');var f=a("#tabs-"+b+""),j=f.outerHeight()+7;c.hide().css({paddingTop:j,marginTop:-j});c.find(".hd").hide();c.each(function(){var h=a(this).find(".hd .extra em").text();h=h.length<1?"":"<sup><em>"+h+"</em></sup>";f.append('<a href="#'+a(this).attr("id")+'" id="tab-'+a(this).attr("id")+
'"><span>'+a(this).find(".hd h3").text()+h+"</span></a>")});d.detach();e.append(d);d=e.find(location.hash);if(d.length==1){a("#tab-"+location.hash.slice(1)+"").addClass("current");d.show()}else{a("#tabs-"+b+" a:eq(0)").addClass("current");c.eq(0).show()}a("#tabs-"+b+" a").click(function(){a(this).addClass("current").siblings().removeClass("current");e.find('.box[id!=""]').hide();a("#"+a(this).attr("id").slice(4)+"").fadeIn("fast");return false})}b++}})(jQuery);
(function(a){a.fn.Slidiy=function(){function b(){if(f>=d.length-1)f=0;else f++;e(f)}function e(k){if(k!=j){if(j!=null){d.eq(j).css({zIndex:"0"}).stop().animate({opacity:0},300);a("#slide"+j).removeClass("current");a("#slide"+f).addClass("current");a("#slide"+k).addClass("current");a("#slide"+j).removeClass("current");d.eq(k).show().css({opacity:"0",zIndex:"1"}).stop().animate({opacity:1},300)}else{a("#slide"+f).addClass("current");a("#slide"+k).addClass("current");a("#slide"+j).removeClass("current");
d.eq(k).show()}j=f;h!=null&&clearInterval(h);h=setInterval(b,3E3)}}var c=a(this),d=c.find("li"),f=-1,j=null,h=null,m='<p class="triggers">';d.css({position:"absolute"}).slice(1).hide();for(var g=0;g<=d.length-1;g++){var i=c.find("a").eq(g).attr("href");m+='<a href="'+i+'" id="slide'+g+'">'+(g+1)+"</a>"}m+="</p>";c.find("ul").after(m);c=c.find(".triggers");for(g=0;g<=d.length-1;g++)a("#slide"+g).bind("mouseover",{index:g},function(k){f=k.data.index;e(k.data.index)});d.length<=1&&c.hide();b()}})(jQuery);
(function(a){a.fn.mSlidiy=function(b){b=a.extend({num:4,controls:true,vertical:false,speed:200,step:4,auto:false,pause:2E3,continuous:true,controlsFade:false,html:'<p class="controls"><a href="javascript:void(0);" class="prev">Previous</a><a href="javascript:void(0);" class="next">Next</a></p>'},b);this.each(function(){function e(l,r){var n=i;switch(l){case "next":i=n+b.num>g?b.continuous?0:n:i+b.step;break;case "prev":i=i<=0?b.continuous?g-b.num+1:0:i-b.step;break;default:break}n=Math.abs(n-i);var s=
n*b.speed;if(b.vertical){p=i*j*-1;a("ul",c).animate({marginTop:p},s)}else{p=i*f*-1;a("ul",c).animate({marginLeft:p},s)}if(!b.continuous&&b.controlsFade){i==g-g%b.num?k.hide():k.show();i==0?o.hide():o.show()}r&&clearTimeout(q);if(b.auto&&l=="next"&&!r)q=setTimeout(function(){e("next",false)},n*b.speed+b.pause)}var c=a(this);a(".clearer",c).remove();a(".first_child",c).removeClass("first_child");var d=a("li",c).length,f=a("li",c).outerWidth(),j=a("li",c).outerHeight(),h=0;a("li",c).each(function(){var l=
a(this).outerHeight();if(l>h)h=l});var m=0;a("li",c).each(function(){var l=a(this).height();if(l>m)m=l});if(b.vertical){c.css("overflow-y","hidden");c.width(f);d<b.num?c.height(h*d):c.height(h*b.num);a("ul",c).css("height",d*h)}else{c.css("overflow-x","hidden");c.width(f*b.num);a("ul",c).css("width",d*f)}var g=d-1,i=0;b.controls&&d>b.num&&c.after(b.html);var k=a(".next",c.parent()),o=a(".prev",c.parent());k.click(function(){e("next",true)});o.click(function(){e("prev",true)});var q;if(b.auto)q=setTimeout(function(){e("next",
false)},b.pause);!b.continuous&&b.controlsFade&&o.hide()})}})(jQuery);
(function(a){a.fn.Formiy=function(){var b=a(this),e=b.find("label");b.find("input").hide();e.has(":checked").addClass("checked");e.hover(function(){a(this).toggleClass("hover")});e.click(function(){if(a(this).children("input").is(":radio")){a(this).addClass("checked").siblings().removeClass("checked");a(this).children("input").attr("checked","checked");a(this).siblings().children("input").removeAttr("checked")}else if(a(this).children("input").is(":checkbox")){a(this).toggleClass("checked");a(this).children("input").attr("checked")?
a(this).children("input").removeAttr("checked"):a(this).children("input").attr("checked","checked")}if(typeof goodsId!="undefined")a("#quick_view").length?a("#purchase_form_qv").ChangePriceSiy():a("#purchase_form").ChangePriceSiy();return false})}})(jQuery);

/**jQuery Cookie plugin */
jQuery.cookie = function (key, value, options) {if (arguments.length > 1 && String(value) !== "[object Object]") {options = jQuery.extend({}, options); if (value === null || value === undefined) {options.expires = -1; } if (typeof options.expires === 'number') {var days = options.expires, t = options.expires = new Date(); t.setDate(t.getDate() + days); } value = String(value); return (document.cookie = [encodeURIComponent(key), '=', options.raw ? value : encodeURIComponent(value), options.expires ? '; expires=' + options.expires.toUTCString() : '', options.path ? '; path=' + options.path : '', options.domain ? '; domain=' + options.domain : '', options.secure ? '; secure' : ''].join('')); } options = value || {}; var result, decode = options.raw ? function (s) { return s; } : decodeURIComponent; return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? decode(result[1]) : null; };



var lang = {process_request:'Yu cu ang c x l...',add:'Thm',add_to_cart_success:'Thm vo gi hng thnh cng',login_success:'ng nhp thnh cng',booking:'t hng',buy:'Mua',collect:'B su tp',view:'Xem',compare:'So snh',compare_goods:'So snh sn phm',compare_type_different:'\"%s\"Khng so snh vi sn phm khc loi',compare_limit:'Chn ti a 4 sn phm  so snh',compare_exist:'Bn  chn %s',compare_remove:'Hy so snh',compare_no_goods:'Bn cha chn bt k cn phi so snh hng ho, so snh t hn 2.',cancel:'Hy',remove:'Xa',colon:': ',select_spe:'Chn thuc tnh sn phm',continue_browsing_products:'Mua tip',checkout_now:'Thanh ton ngay',remaining_time:'Thi gian cn li ',error_agreement_required:'Bn phi in  cc thng tin yu cu',error_email_format:'E-mail khng hp l',error_comment_minlenght:'Ni dung ti thiu phi l 6 k t',error_comment_maxlenght:'Ni dung ti a l 500 k t',error_email_required:'Cha in E-mail',error_email_exist:'E-mail  tn ti, vui lng nhp email khc',error_email_not_exist:'E-mail khng tn ti, vui lng nhp email khc',error_username_required:'Cha in tn ng nhp',error_username_short:'Tn ng nhp qu ngn',error_username_long:'Tn ng nhp qu di',error_username_exist:'Tn ngi dng  tn ti, vui lng chn tn khc',error_username_not_exist:'Tn ngi dng cha tn ti, vui lng chn tn khc',error_password_required:'Cha in mt khu',error_password_short:' di mt khu t nht phi l 6 k t',error_confirm_password_invalid:'Mt khu xc nhn khng trng khp',error_captcha_required:'Cha in M xc nhn',error_captcha_format:'M s xc minh l 4 k t',error_sel_ques_required:'Chn Cu hi gi  mt khu',error_pa_answer_required:'Nhp cu tr li gi  ',error_comment_content_required:'Cha nhp ni dung bnh lun',error_price:'Gi phi l s',error_price_required:'Gi khng th  trng',error_required:'Bt buc nhp',user_agreement:'iu khon s dng',user_logout:'Thot',go_to_user_center:'Trung tm ngi dng',goods_empty:'Khng c sn phm no',login_again:'ng nhp ln na',login_cancel:'Hy ng nhp',multi_choice:'Nhiu la chn',show_all:'Hin th tt c',confirm:'Xc nhn',payment_required:'Cha chn phng thc thanh ton',shipping_required:'Cha chn phng thc giao hng',close:'ng'};
$(document).ready(function(){$.countdown.regional['vi-VN']={labels:['Nm','thng','tun','ngy','gi','pht','giy'],labels1:['Nm','thng','tun','ngy','gi','pht','giy'],compactLabels:['Nm','thng','tun','ngy'],compactLabels1:['Nm','Thng','tun','ngy'],whichLabels:null,timeSeparator:':',isRTL:false};$.countdown.setDefaults($.countdown.regional['vi-VN']);});
"function"!==typeof Object.create&&(Object.create=function(f){function g(){}g.prototype=f;return new g});(function(f,g,k){var l={init:function(a,b){this.$elem=f(b);this.options=f.extend({},f.fn.owlCarousel.options,this.$elem.data(),a);this.userOptions=a;this.loadContent()},loadContent:function(){function a(a){var d,e="";if("function"===typeof b.options.jsonSuccess)b.options.jsonSuccess.apply(this,[a]);else{for(d in a.owl)a.owl.hasOwnProperty(d)&&(e+=a.owl[d].item);b.$elem.html(e)}b.logIn()}var b=this,e;"function"===typeof b.options.beforeInit&&b.options.beforeInit.apply(this,[b.$elem]);"string"===typeof b.options.jsonPath?(e=b.options.jsonPath,f.getJSON(e,a)):b.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style"));this.$elem.data("owl-originalClasses",this.$elem.attr("class"));this.$elem.css({opacity:0});this.orignalItems=this.options.items;this.checkBrowser();this.wrapperWidth=0;this.checkVisible=null;this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass();this.eventTypes();this.$userItems=this.$elem.children();this.itemsAmount=this.$userItems.length;this.wrapItems();this.$owlItems=this.$elem.find(".owl-item");this.$owlWrapper=this.$elem.find(".owl-wrapper");this.playDirection="next";this.prevItem=0;this.prevArr=[0];this.currentItem=0;this.customEvents();this.onStartup()},onStartup:function(){this.updateItems();this.calculateAll();this.buildControls();this.updateControls();this.response();this.moveEvents();this.stopOnHover();this.owlStatus();!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle);!0===this.options.autoPlay&&(this.options.autoPlay=5E3);this.play();this.$elem.find(".owl-wrapper").css("display","block");this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility();this.onstartup=!1;this.eachMoveUpdate();"function"===typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad();!0===this.options.autoHeight&&this.autoHeight();this.onVisibleItems();"function"===typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"===typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]);this.watchVisibility();this.updateItems();this.calculateAll();this.updatePosition();this.updateControls();this.eachMoveUpdate();"function"===typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var a=this;g.setTimeout(function(){a.updateVars()},0)},watchVisibility:function(){var a=this;if(!1===a.$elem.is(":visible"))a.$elem.css({opacity:0}),g.clearInterval(a.autoPlayInterval),g.clearInterval(a.checkVisible);else return!1;a.checkVisible=g.setInterval(function(){a.$elem.is(":visible")&&(a.reload(),a.$elem.animate({opacity:1},200),g.clearInterval(a.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');this.wrapperOuter=this.$elem.find(".owl-wrapper-outer");this.$elem.css("display","block")},baseClass:function(){var a=this.$elem.hasClass(this.options.baseClass),b=this.$elem.hasClass(this.options.theme);a||this.$elem.addClass(this.options.baseClass);b||this.$elem.addClass(this.options.theme)},updateItems:function(){var a,b;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;a=f(this.options.responsiveBaseWidth).width();a>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems);if(!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(a,b){return a[0]-b[0]}),b=0;b<this.options.itemsCustom.length;b+=1)this.options.itemsCustom[b][0]<=a&&(this.options.items=this.options.itemsCustom[b][1]);else a<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),a<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),a<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),a<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),a<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var a=this,b,e;if(!0!==a.options.responsive)return!1;e=f(g).width();a.resizer=function(){f(g).width()!==e&&(!1!==a.options.autoPlay&&g.clearInterval(a.autoPlayInterval),g.clearTimeout(b),b=g.setTimeout(function(){e=f(g).width();a.updateVars()},a.options.responsiveRefreshRate))};f(g).resize(a.resizer)},updatePosition:function(){this.jumpTo(this.currentItem);!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var a=this,b=0,e=a.itemsAmount-a.options.items;a.$owlItems.each(function(c){var d=f(this);d.css({width:a.itemWidth}).data("owl-item",Number(c));if(0===c%a.options.items||c===e)c>e||(b+=1);d.data("owl-roundPages",b)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0});this.appendItemsSizes()},calculateAll:function(){this.calculateWidth();this.appendWrapperSizes();this.loops();this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var a=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);this.options.items>this.itemsAmount?this.maximumPixels=a=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=a);return a},min:function(){return 0},loops:function(){var a=0,b=0,e,c;this.positionsInArray=[0];this.pagesInArray=[];for(e=0;e<this.itemsAmount;e+=1)b+=this.itemWidth,this.positionsInArray.push(-b),!0===this.options.scrollPerPage&&(c=f(this.$owlItems[e]),c=c.data("owl-roundPages"),c!==a&&(this.pagesInArray[a]=this.positionsInArray[e],a=c))},buildControls:function(){if(!0===this.options.navigation||!0===this.options.pagination)this.owlControls=f('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem);!0===this.options.pagination&&this.buildPagination();!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var a=this,b=f('<div class="owl-buttons"/>');a.owlControls.append(b);a.buttonPrev=f("<div/>",{"class":"owl-prev",html:a.options.navigationText[0]||""});a.buttonNext=f("<div/>",{"class":"owl-next",html:a.options.navigationText[1]||""});b.append(a.buttonPrev).append(a.buttonNext);b.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(a){a.preventDefault()});b.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(b){b.preventDefault();f(this).hasClass("owl-next")?a.next():a.prev()})},buildPagination:function(){var a=this;a.paginationWrapper=f('<div class="owl-pagination"/>');a.owlControls.append(a.paginationWrapper);a.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(b){b.preventDefault();Number(f(this).data("owl-page"))!==a.currentItem&&a.goTo(Number(f(this).data("owl-page")),!0)})},updatePagination:function(){var a,b,e,c,d,g;if(!1===this.options.pagination)return!1;this.paginationWrapper.html("");a=0;b=this.itemsAmount-this.itemsAmount%this.options.items;for(c=0;c<this.itemsAmount;c+=1)0===c%this.options.items&&(a+=1,b===c&&(e=this.itemsAmount-this.options.items),d=f("<div/>",{"class":"owl-page"}),g=f("<span></span>",{text:!0===this.options.paginationNumbers?a:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),d.append(g),d.data("owl-page",b===c?e:c),d.data("owl-roundPages",a),this.paginationWrapper.append(d));this.checkPagination()},checkPagination:function(){var a=this;if(!1===a.options.pagination)return!1;a.paginationWrapper.find(".owl-page").each(function(){f(this).data("owl-roundPages")===f(a.$owlItems[a.currentItem]).data("owl-roundPages")&&(a.paginationWrapper.find(".owl-page").removeClass("active"),f(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination();this.checkNavigation();this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(a){if(this.isTransition)return!1;this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1;if(this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0))if(!0===this.options.rewindNav)this.currentItem=0,a="rewind";else return this.currentItem=this.maximumItem,!1;this.goTo(this.currentItem,a)},prev:function(a){if(this.isTransition)return!1;this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1);if(0>this.currentItem)if(!0===this.options.rewindNav)this.currentItem=this.maximumItem,a="rewind";else return this.currentItem=0,!1;this.goTo(this.currentItem,a)},goTo:function(a,b,e){var c=this;if(c.isTransition)return!1;"function"===typeof c.options.beforeMove&&c.options.beforeMove.apply(this,[c.$elem]);a>=c.maximumItem?a=c.maximumItem:0>=a&&(a=0);c.currentItem=c.owl.currentItem=a;if(!1!==c.options.transitionStyle&&"drag"!==e&&1===c.options.items&&!0===c.browser.support3d)return c.swapSpeed(0),!0===c.browser.support3d?c.transition3d(c.positionsInArray[a]):c.css2slide(c.positionsInArray[a],1),c.afterGo(),c.singleItemTransition(),!1;a=c.positionsInArray[a];!0===c.browser.support3d?(c.isCss3Finish=!1,!0===b?(c.swapSpeed("paginationSpeed"),g.setTimeout(function(){c.isCss3Finish=!0},c.options.paginationSpeed)):"rewind"===b?(c.swapSpeed(c.options.rewindSpeed),g.setTimeout(function(){c.isCss3Finish=!0},c.options.rewindSpeed)):(c.swapSpeed("slideSpeed"),g.setTimeout(function(){c.isCss3Finish=!0},c.options.slideSpeed)),c.transition3d(a)):!0===b?c.css2slide(a,c.options.paginationSpeed):"rewind"===b?c.css2slide(a,c.options.rewindSpeed):c.css2slide(a,c.options.slideSpeed);c.afterGo()},jumpTo:function(a){"function"===typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]);a>=this.maximumItem||-1===a?a=this.maximumItem:0>=a&&(a=0);this.swapSpeed(0);!0===this.browser.support3d?this.transition3d(this.positionsInArray[a]):this.css2slide(this.positionsInArray[a],1);this.currentItem=this.owl.currentItem=a;this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem);this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2];this.prevArr.shift(0);this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp());"function"===typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop";g.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var a=this;a.apStatus="play";if(!1===a.options.autoPlay)return!1;g.clearInterval(a.autoPlayInterval);a.autoPlayInterval=g.setInterval(function(){a.next(!0)},a.options.autoPlay)},swapSpeed:function(a){"slideSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!==typeof a&&this.$owlWrapper.css(this.addCssSpeed(a))},addCssSpeed:function(a){return{"-webkit-transition":"all "+a+"ms ease","-moz-transition":"all "+a+"ms ease","-o-transition":"all "+a+"ms ease",transition:"all "+a+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(a){return{"-webkit-transform":"translate3d("+a+"px, 0px, 0px)","-moz-transform":"translate3d("+a+"px, 0px, 0px)","-o-transform":"translate3d("+a+"px, 0px, 0px)","-ms-transform":"translate3d("+a+"px, 0px, 0px)",transform:"translate3d("+a+"px, 0px,0px)"}},transition3d:function(a){this.$owlWrapper.css(this.doTranslate(a))},css2move:function(a){this.$owlWrapper.css({left:a})},css2slide:function(a,b){var e=this;e.isCssFinish=!1;e.$owlWrapper.stop(!0,!0).animate({left:a},{duration:b||e.options.slideSpeed,complete:function(){e.isCssFinish=!0}})},checkBrowser:function(){var a=k.createElement("div");a.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)";a=a.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g);this.browser={support3d:null!==a&&1===a.length,isTouch:"ontouchstart"in g||g.navigator.msMaxTouchPoints}},moveEvents:function(){if(!1!==this.options.mouseDrag||!1!==this.options.touchDrag)this.gestures(),this.disabledEvents()},eventTypes:function(){var a=["s","e","x"];this.ev_types={};!0===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(a=["mousedown.owl","mousemove.owl","mouseup.owl"]);this.ev_types.start=a[0];this.ev_types.move=a[1];this.ev_types.end=a[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(a){a.preventDefault()});this.$elem.on("mousedown.disableTextSelect",function(a){return f(a.target).is("input, textarea, select, option")})},gestures:function(){function a(a){if(void 0!==a.touches)return{x:a.touches[0].pageX,y:a.touches[0].pageY};if(void 0===a.touches){if(void 0!==a.pageX)return{x:a.pageX,y:a.pageY};if(void 0===a.pageX)return{x:a.clientX,y:a.clientY}}}function b(a){"on"===a?(f(k).on(d.ev_types.move,e),f(k).on(d.ev_types.end,c)):"off"===a&&(f(k).off(d.ev_types.move),f(k).off(d.ev_types.end))}function e(b){b=b.originalEvent||b||g.event;d.newPosX=a(b).x-h.offsetX;d.newPosY=a(b).y-h.offsetY;d.newRelativeX=d.newPosX-h.relativePos;"function"===typeof d.options.startDragging&&!0!==h.dragging&&0!==d.newRelativeX&&(h.dragging=!0,d.options.startDragging.apply(d,[d.$elem]));(8<d.newRelativeX||-8>d.newRelativeX)&&!0===d.browser.isTouch&&(void 0!==b.preventDefault?b.preventDefault():b.returnValue=!1,h.sliding=!0);(10<d.newPosY||-10>d.newPosY)&&!1===h.sliding&&f(k).off("touchmove.owl");d.newPosX=Math.max(Math.min(d.newPosX,d.newRelativeX/5),d.maximumPixels+d.newRelativeX/5);!0===d.browser.support3d?d.transition3d(d.newPosX):d.css2move(d.newPosX)}function c(a){a=a.originalEvent||a||g.event;var c;a.target=a.target||a.srcElement;h.dragging=!1;!0!==d.browser.isTouch&&d.$owlWrapper.removeClass("grabbing");d.dragDirection=0>d.newRelativeX?d.owl.dragDirection="left":d.owl.dragDirection="right";0!==d.newRelativeX&&(c=d.getNewPosition(),d.goTo(c,!1,"drag"),h.targetElement===a.target&&!0!==d.browser.isTouch&&(f(a.target).on("click.disable",function(a){a.stopImmediatePropagation();a.stopPropagation();a.preventDefault();f(a.target).off("click.disable")}),a=f._data(a.target,"events").click,c=a.pop(),a.splice(0,0,c)));b("off")}var d=this,h={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};d.isCssFinish=!0;d.$elem.on(d.ev_types.start,".owl-wrapper",function(c){c=c.originalEvent||c||g.event;var e;if(3===c.which)return!1;if(!(d.itemsAmount<=d.options.items)){if(!1===d.isCssFinish&&!d.options.dragBeforeAnimFinish||!1===d.isCss3Finish&&!d.options.dragBeforeAnimFinish)return!1;!1!==d.options.autoPlay&&g.clearInterval(d.autoPlayInterval);!0===d.browser.isTouch||d.$owlWrapper.hasClass("grabbing")||d.$owlWrapper.addClass("grabbing");d.newPosX=0;d.newRelativeX=0;f(this).css(d.removeTransition());e=f(this).position();h.relativePos=e.left;h.offsetX=a(c).x-e.left;h.offsetY=a(c).y-e.top;b("on");h.sliding=!1;h.targetElement=c.target||c.srcElement}})},getNewPosition:function(){var a=this.closestItem();a>this.maximumItem?a=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=a=0);return a},closestItem:function(){var a=this,b=!0===a.options.scrollPerPage?a.pagesInArray:a.positionsInArray,e=a.newPosX,c=null;f.each(b,function(d,g){e-a.itemWidth/20>b[d+1]&&e-a.itemWidth/20<g&&"left"===a.moveDirection()?(c=g,a.currentItem=!0===a.options.scrollPerPage?f.inArray(c,a.positionsInArray):d):e+a.itemWidth/20<g&&e+a.itemWidth/20>(b[d+1]||b[d]-a.itemWidth)&&"right"===a.moveDirection()&&(!0===a.options.scrollPerPage?(c=b[d+1]||b[b.length-1],a.currentItem=f.inArray(c,a.positionsInArray)):(c=b[d+1],a.currentItem=d+1))});return a.currentItem},moveDirection:function(){var a;0>this.newRelativeX?(a="right",this.playDirection="next"):(a="left",this.playDirection="prev");return a},customEvents:function(){var a=this;a.$elem.on("owl.next",function(){a.next()});a.$elem.on("owl.prev",function(){a.prev()});a.$elem.on("owl.play",function(b,e){a.options.autoPlay=e;a.play();a.hoverStatus="play"});a.$elem.on("owl.stop",function(){a.stop();a.hoverStatus="stop"});a.$elem.on("owl.goTo",function(b,e){a.goTo(e)});a.$elem.on("owl.jumpTo",function(b,e){a.jumpTo(e)})},stopOnHover:function(){var a=this;!0===a.options.stopOnHover&&!0!==a.browser.isTouch&&!1!==a.options.autoPlay&&(a.$elem.on("mouseover",function(){a.stop()}),a.$elem.on("mouseout",function(){"stop"!==a.hoverStatus&&a.play()}))},lazyLoad:function(){var a,b,e,c,d;if(!1===this.options.lazyLoad)return!1;for(a=0;a<this.itemsAmount;a+=1)b=f(this.$owlItems[a]),"loaded"!==b.data("owl-loaded")&&(e=b.data("owl-item"),c=b.find(".lazyOwl"),"string"!==typeof c.data("src")?b.data("owl-loaded","loaded"):(void 0===b.data("owl-loaded")&&(c.hide(),b.addClass("loading").data("owl-loaded","checked")),(d=!0===this.options.lazyFollow?e>=this.currentItem:!0)&&e<this.currentItem+this.options.items&&c.length&&this.lazyPreload(b,c)))},lazyPreload:function(a,b){function e(){a.data("owl-loaded","loaded").removeClass("loading");b.removeAttr("data-src");"fade"===d.options.lazyEffect?b.fadeIn(400):b.show();"function"===typeof d.options.afterLazyLoad&&d.options.afterLazyLoad.apply(this,[d.$elem])}function c(){f+=1;d.completeImg(b.get(0))||!0===k?e():100>=f?g.setTimeout(c,100):e()}var d=this,f=0,k;"DIV"===b.prop("tagName")?(b.css("background-image","url("+b.data("src")+")"),k=!0):b[0].src=b.data("src");c()},autoHeight:function(){function a(){var a=f(e.$owlItems[e.currentItem]).height();e.wrapperOuter.css("height",a+"px");e.wrapperOuter.hasClass("autoHeight")||g.setTimeout(function(){e.wrapperOuter.addClass("autoHeight")},0)}function b(){d+=1;e.completeImg(c.get(0))?a():100>=d?g.setTimeout(b,100):e.wrapperOuter.css("height","")}var e=this,c=f(e.$owlItems[e.currentItem]).find("img"),d;void 0!==c.get(0)?(d=0,b()):a()},completeImg:function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0},onVisibleItems:function(){var a;!0===this.options.addClassActive&&this.$owlItems.removeClass("active");this.visibleItems=[];for(a=this.currentItem;a<this.currentItem+this.options.items;a+=1)this.visibleItems.push(a),!0===this.options.addClassActive&&f(this.$owlItems[a]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(a){this.outClass="owl-"+a+"-out";this.inClass="owl-"+a+"-in"},singleItemTransition:function(){var a=this,b=a.outClass,e=a.inClass,c=a.$owlItems.eq(a.currentItem),d=a.$owlItems.eq(a.prevItem),f=Math.abs(a.positionsInArray[a.currentItem])+a.positionsInArray[a.prevItem],g=Math.abs(a.positionsInArray[a.currentItem])+a.itemWidth/2;a.isTransition=!0;a.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":g+"px","-moz-perspective-origin":g+"px","perspective-origin":g+"px"});d.css({position:"relative",left:f+"px"}).addClass(b).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endPrev=!0;d.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(d,b)});c.addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endCurrent=!0;c.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(c,e)})},clearTransStyle:function(a,b){a.css({position:"",left:""}).removeClass(b);this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect");f(k).off(".owl owl");f(g).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove());this.clearEvents();this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop();g.clearInterval(this.checkVisible);this.unWrap();this.$elem.removeData()},reinit:function(a){a=f.extend({},this.userOptions,a);this.unWrap();this.init(a,this.$elem)},addItem:function(a,b){var e;if(!a)return!1;if(0===this.$elem.children().length)return this.$elem.append(a),this.setVars(),!1;this.unWrap();e=void 0===b||-1===b?-1:b;e>=this.$userItems.length||-1===e?this.$userItems.eq(-1).after(a):this.$userItems.eq(e).before(a);this.setVars()},removeItem:function(a){if(0===this.$elem.children().length)return!1;a=void 0===a||-1===a?-1:a;this.unWrap();this.$userItems.eq(a).remove();this.setVars()}};f.fn.owlCarousel=function(a){return this.each(function(){if(!0===f(this).data("owl-init"))return!1;f(this).data("owl-init",!0);var b=Object.create(l);b.init(a,this);f.data(this,"owlCarousel",b)})};f.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1E3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:g,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}})(jQuery,window,document);

var loader = '<div class="loader">&nbsp;</div>', result = '<div class="result"></div>', status = '<div class="status"></div>', page = 'undefined', action = 'undefined';
function clearHistory() {
    document.cookie = 'ECS[history]='+escape('');
    $('#history').animate({height:'0',opacity:'0'}, 1000, '', function(){
        $('#history .tip').tipsy('hide');
        $('#history').hide();
    });
}

function orderQuery() {
    var order_input = $('#order_query input[name="order_sn"]');
    var order_sn = order_input.val(), reg = /^[\.0-9]+/;
    if (order_sn.length < 10 || ! reg.test(order_sn)) {
        order_input.focus().tipsy('show');
        return;
    }
    else {
        $.get(
            'thanh-vien?act=order_query&order_sn=s',
            'order_sn=s' + order_sn,
            function(response){
                var order_result = $('#order_query .result');
                var res = $.evalJSON(response);
                if (res.message != '') {
                    cAlert(res.message);
                }
                if (res.error == 0) {
                    cAlert(res.content);
                    $('form[name^=queryForm] a').click(function(){
                        $(this).parents('form').submit();
                        return false;
                    });
                }
            },
            'text'
        );
    }
}
function submitVote()
{
    var type = $('#vote input[name="type"]').val(), vote_id = $('#vote input[name="id"]').val(), option = '';
    $('#vote input[name="option_id"]:checked').each(function() {
        var option_id = $(this).val();
        option += option_id + ',';
    });
    if (option == '') {
        $('#vote form').tipsy('show');
        return;
    } else {
        var vote_result = $('#vote .result');
        $('#vote .loader').css({visibility:'visible'}).fadeTo(0, 1000);
        $.post(
            'vote.php',
            {vote: vote_id, options: option, type: type},
            function(response){
                var res = $.evalJSON(response);
                if (res.message != '') {
                    vote_result.css({display:'block'});
                    vote_result.html(res.message);
                }
                if (res.error == 0) {
                    $('#vote_inner').html(res.content);
                }
                $('#vote .loader').fadeTo(1000, 0);
            },
            'text'
        );
    }
}
function addEmailList() {
    var subscription_email = $('#subscription input[name="email"]');
    var email = subscription_email.val();
    if (!isValidEmail(email)) {
        subscription_email.focus().tipsy('show');
        return;
    }
    else {
        $('#subscription .loader').css({visibility:'visible'}).fadeTo(0, 1000);
        $.get(
            'thanh-vien?act=email_list&job=add',
            'email=' + email,
            function(response){
                cAlert(response);
                /*$('#subscription .result').css({display:'block',backgroundColor:'#97cf4d'}).html(response).animate({backgroundColor:'#fff'}, 1000);*/
                $('#subscription .loader').fadeTo(1000, 0);
            },
            'text'
        );
    }
}
function cancelEmailList()
{
    var subscription_email = $('#subscription input[name="email"]');
    var email = subscription_email.val();
    if (!isValidEmail(email)) {
        subscription_email.focus().tipsy('show');
        return;
    }
    else {
        var subscription_result = $('#subscription .result');
        var subscription_loader = $('#subscription .loader');
        subscription_loader.css({visibility:'visible'}).fadeTo(0, 1000);
        $.get(
            'thanh-vien?act=email_list&job=del',
            'email=' + email,
            function(response){
                cAlert(response);
                /*subscription_result.css({display:'block',backgroundColor:'#97cf4d'}).html(response).animate({backgroundColor:'#fff'}, 1000);*/
                subscription_loader.fadeTo(1000, 0);
            },
            'text'
        );
    }
}
function isValidEmail(email) {
    var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
    return filter.test(email);
}
function getAttrSiy(area) {
    var attrList = new Array();
    area.find('input[name^="spec_"]:checked, select[name^="spec_"]').each(function(i) {
        attrList[i] = $(this).val();
    });
    return attrList;
}
(function($) {
$.fn.ChangePriceSiy = function() {
    var area = $(this);
    loadPrice(area);
    loadGallery(area);
    area.find('input[name^="spec_"], select[name^="spec_"]').change(function() {
        loadPrice(area);
    });
    area.find('input[name="number"]').keyup(function() {
        var number = area.find('input[name="number"]').val();
        if (number.length > 0) {
            loadPrice(area);
        }
    });


};
})(jQuery);
function loadGallery(area){
    var goods_attr_id =  area.find('input[name^="spec_"]:checked').val();
    var gid =  area.find('input[name^="spec_"]:checked').data('gid');

    console.log(goods_attr_id+'-'+gid);
    $.get(
        'ajax/goods.php',
        'act=getgallery&gid=' + gid + '&goods_attr_id=' + goods_attr_id,
        function(response){
            var res = $.evalJSON(response);
            if (res.err_no == 1) {
                console.log(res.err_msg);
            }
            else {
                console.log(res.data);
                $('#attr_thumb').html(res.data.thumb);
                $('#showimb').html(res.data.img);
                MagicZoom.refresh('Zoomer');
            }
        },
        'text'
    );
}
function loadPrice(area) {
    var attr = getAttrSiy(area);
    var number = area.find('input[name="number"]').val();
    var qty = (number != 'undefined' && number > 1) ? number : 1;

    $.get(
        'ajax/goods.php',
        'act=price&id=' + goodsId + '&attr=' + attr + '&number=' + qty,
        function(response){
            var res = $.evalJSON(response);
            if (res.err_msg.length > 0) {
                $.fn.colorbox({width: '500px',fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box">' + res.err_msg + '<p class="action"><a href="javascript:void(0);" class="button brighter_button" onclick="$.fn.colorbox.close(); return false;"><span>' + lang.confirm + '</span></a></p></div>'});
            }
            else {
                area.find('[name="number"]').val(res.qty);
                area.find('.amount').html(res.result);
            }
        },
        'text'
    );
};
function buy(id, num, parent) {
    var goods = new Object();
    var spec_arr = new Array();
    var fittings_arr = new Array();
    var number = 1;
    var form = $('#purchase_form');
    var quick = 0;
    if (form.length > 0) {
        spec_arr = getAttrSiy(form);
        var formNumber = form.find('[name="number"]').val();
        if (formNumber) {
            number = formNumber;
        }
        quick = 1;
    }
    if (num > 0) {
        number = num;
    }
    goods.quick    = quick;
    goods.spec     = spec_arr;
    goods.goods_id = id;
    goods.number   = number;
    goods.parent   = (typeof(parent) == 'undefined') ? 0 : parseInt(parent);
    $.post(
        'gio-hang?step=add_to_cart',
        {goods: $.toJSON(goods)},
        function(response){
            var res = $.evalJSON(response);

            if (res.error > 0) {
                if (res.error == 2) {
                    $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_question">' + res.message + '<p class="action"><a href="thanh-vien?act=add_booking&id=' + res.goods_id + '&spec=' + res.product_spec + '" class="button brighter_button"><span>' + lang.booking + '</span></a><a href="javascript:void(0);" class="tool_link" onclick="$.fn.colorbox.close(); return false;">' + lang.continue_browsing_products + '</a></p></div>'});
                }
                else if (res.error == 6) {
                    openSpeSiy(res.message, res.goods_id, number, res.parent);
                }
                else {
                    $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_info">' + res.message + '<p class="action"><a href="javascript:void(0);" class="button brighter_button" onclick="$.fn.colorbox.close(); return false;"><span>' + lang.confirm + '</span></a></p></div>'});
                }
            }
            else {
                $('#cart .label').html(res.content);
                loadCart('refresh');
                if (res.one_step_buy == '1') {
                    location.href = 'gio-hang?step=checkout';
                }
                else {
                    if ($('#page_flow').length > 0) {
                        location.href = 'gio-hang';
                    } else {
                        $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_info">' + lang.add_to_cart_success + '<p class="action"><a href="gio-hang" class="button brighter_button"><span>' + lang.checkout_now + '</span></a><a href="javascript:void(0);" class="tool_link" onclick="$.fn.colorbox.close(); return false;">' + lang.continue_browsing_products + '</a></p></div>'});
                    }
                }
            }
        },
        'text'
    );
}
function openSpeSiy(message, goods_id, num, parent)
{
    var html = '<div class="message_box" id="properties_box"><div class="properties_wrapper">';
    for (var spec = 0; spec < message.length; spec++) {
        var tips = '';
        if (message[spec]['attr_type'] == 2) {
            var tips = 'title="' + lang.multi_choice + '"';
        };
        html += '<dl class="properties clearfix" ' + tips + '><dt>' +  message[spec]['name'] + '</dt>';
        if (message[spec]['attr_type'] == 1) {
            html += '<dd class="radio">';
            for (var val_arr = 0; val_arr < message[spec]['values'].length; val_arr++) {
                var check = '';
                var title = '';
                if (val_arr == 0) {
                    var check = 'checked="checked"';
                }
                if (parseInt(message[spec]["values"][val_arr]["price"]) > 0) {
                    var title = 'title="' + lang.increase + message[spec]["values"][val_arr]["format_price"] + '"';
                } else if (parseInt(message[spec]["values"][val_arr]["price"]) < 0) {
                    var title = 'title="' + lang.reduce + message[spec]["values"][val_arr]["format_price"] + '"';
                }
                html += '<label for="spec_value_'+ message[spec]["values"][val_arr]["id"] +'" ' + title + '><input type="radio" name="spec_' + message[spec]["attr_id"] + '" value="' + message[spec]["values"][val_arr]["id"] + '" id="spec_value_' + message[spec]["values"][val_arr]["id"] + '" ' + check + ' />' + message[spec]["values"][val_arr]["label"] + '</label>';
            }
            html += '<input type="hidden" name="spec_list" value="' + val_arr + '" /></dd>';
        }
        else {
            html += '<dd class="checkbox">';
            for (var val_arr = 0; val_arr < message[spec]["values"].length; val_arr++) {
                var title = '';
                if (parseInt(message[spec]["values"][val_arr]["price"]) > 0) {
                    var title = 'title="' + lang.increase + message[spec]["values"][val_arr]["format_price"] + '"';
                } else if (parseInt(message[spec]["values"][val_arr]["price"]) < 0) {
                    var title = 'title="' + lang.reduce + message[spec]["values"][val_arr]["format_price"] + '"';
                }
                html += '<label for="spec_value_' + message[spec]["values"][val_arr]["id"] + '" ' + title + '><input type="checkbox" name="spec_' + message[spec]["attr_id"] + '" value="' + message[spec]["values"][val_arr]["id"] + '" id="spec_value_' + message[spec]["values"][val_arr]["id"] + '" />' + message[spec]["values"][val_arr]["label"] + '</label>';
            }
            html += '<input type="hidden" name="spec_list" value="' + val_arr + '" /></dd>';
        }
        html += "</dl>";
    }
    html += '</div><p class="action"><a href="javascript:submitSpeSiy(' + goods_id + ',' + num + ',' + parent + ')" class="buy button brighter_button"><span>' + lang.buy + '</span></a><a href="javascript:void(0);" class="tool_link" onclick="$.fn.colorbox.close(); return false;">' + lang.cancel + '</a></p></div>';
    $.fn.colorbox({scrolling:false,html: html});
    $('.properties').Formiy();
    $('.properties dl').tipsy({gravity: 'e',fade: true,html:true});
    $('.properties label').tipsy({gravity: 's',fade: true,html:true});
}
function submitSpeSiy(goods_id, num, parent)
{
    var goods = new Object();
    var spec_arr = new Array();
    var fittings_arr = new Array();
    var number = 1;
    var area = $('#properties_box');
    var quick = 1;
    if (num > 0) {
        number = num;
    }
    var spec_arr = getAttrSiy(area);
    goods.quick    = quick;
    goods.spec     = spec_arr;
    goods.goods_id = goods_id;
    goods.number   = number;
    goods.parent   = (typeof(parent) == "undefined") ? 0 : parseInt(parent);
    $.post(
        'gio-hang?step=add_to_cart',
        {goods: $.toJSON(goods)},
        function(response){
            var res = $.evalJSON(response);
            if (res.error > 0) {
                if (res.error == 2) {
                    $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_question">' + res.message + '<p class="action"><a href="thanh-vien?act=add_booking&id=' + res.goods_id + '&spec=' + res.product_spec + '" class="button brighter_button"><span>' + lang.booking + '</span></a><a href="javascript:void(0);" class="tool_link" onclick="$.fn.colorbox.close(); return false;">' + lang.continue_browsing_products + '</a></p></div>'});
                }
                else if (res.error == 6) {
                    openSpeSiy(res.message, res.goods_id, number, res.parent);
                }
                else {
                    $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_info">' + res.message + '<p class="action"><a href="javascript:void(0);" class="button brighter_button" onclick="$.fn.colorbox.close(); return false;"><span>' + lang.confirm + '</span></a></p></div>'});
                }
            }
            else {
                $('#cart .label').html(res.content);
                loadCart('refresh');
                if (res.one_step_buy == '1') {
                    location.href = 'gio-hang?step=checkout';
                }
                else {
                    if ($('#page_flow').length > 0) {
                        location.href = 'gio-hang';
                       /* window.location.reload();*/
                    } else {
                        $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_info">' + lang.add_to_cart_success + '<p class="action"><a href="gio-hang" class="button brighter_button"><span>' + lang.checkout_now + '</span></a><a href="javascript:void(0);" class="tool_link" onclick="$.fn.colorbox.close(); return false;">' + lang.continue_browsing_products + '</a></p></div>'});
                    };
                }
            }
        },
        'text'
    );
}
function collect(id)
{
    $.get(
        'thanh-vien?act=collect',
        'id=' + id,
        function(response){
            var res = $.evalJSON(response);
            $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_info">' + res.message + '<p class="action"><a href="javascript:void(0);" class="button brighter_button" onclick="$.fn.colorbox.close(); return false;"><span>' + lang.confirm + '</span></a></p></div>'});
        },
        'text'
    );
}
function addPackageToCart(id) {
    var package_info = new Object();
    var number       = 1;
    package_info.package_id = id
    package_info.number     = number;
    $.post(
        'gio-hang?step=add_package_to_cart',
        {package_info: $.toJSON(package_info)},
        function(response){
            var res = $.evalJSON(response);
            if (res.error > 0) {
                if (res.error == 2) {
                    $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_question">' + res.message + '<p class="action"><a href="thanh-vien?act=add_booking&id=' + res.goods_id + '" class="button brighter_button"><span>' + lang.booking + '</span></a><a href="javascript:void(0);" class="tool_link" onclick="$.fn.colorbox.close(); return false;">' + lang.cancel + '</a></p></div>'});
                }
                else {
                    $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_info">' + res.message + '<p class="action"><a href="javascript:void(0);" class="button brighter_button" onclick="$.fn.colorbox.close(); return false;"><span>' + lang.confirm + '</span></a></p></div>'});
                }
            }
            else {
                $('#cart .label').html(res.content);
                loadCart('refresh');
                if (res.one_step_buy == '1') {
                    location.href = 'gio-hang?step=checkout';
                }
                else {
                    $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_info">' + lang.add_to_cart_success + '<p class="action"><a href="gio-hang" class="button brighter_button"><span>' + lang.checkout_now + '</span></a><a href="javascript:void(0);" class="tool_link" onclick="$.fn.colorbox.close(); return false;">' + lang.continue_browsing_products + '</a></p></div>'});
                }
            }
        },
        'text'
    );
}
function fittings_to_flow(goodsId,parentId)
{
    var goods        = new Object();
    var spec_arr     = new Array();
    var number       = 1;
    goods.spec     = spec_arr;
    goods.goods_id = goodsId;
    goods.number   = number;
    goods.parent   = parentId;
    $.post(
        'gio-hang?step=add_to_cart',
        {goods: $.toJSON(goods)},
        function(response){
            var res = $.evalJSON(response);
            if (res.error > 0) {
                if (res.error == 2) {
                    $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_question">' + res.message + '<p class="action"><a href="thanh-vien?act=add_booking&id=' + res.goods_id + '&spec=' + res.product_spec + '" class="button brighter_button"><span>' + lang.booking + '</span></a><a href="javascript:void(0);" class="tool_link" onclick="$.fn.colorbox.close(); return false;">' + lang.continue_browsing_products + '</a></p></div>'});
                }
                else if (res.error == 6) {
                    openSpeSiy(res.message, res.goods_id, number, res.parent);
                }
                else {
                    $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_info">' + res.message + '<p class="action"><a href="javascript:void(0);" class="button brighter_button" onclick="$.fn.colorbox.close(); return false;"><span>' + lang.confirm + '</span></a></p></div>'});
                }
            } else {
                location.href = 'gio-hang';
            }
        },
        'text'
    );
}
function validAndTip(obj){if(obj.val().length > 0){obj.tipsy('hide');}return false;}
function validAndTipNext(obj){if(obj.val().length > 0){obj.next().tipsy('hide');}else{obj.next().tipsy('show');}return false;}

function submitComment(form) {
    var form = $(form);
    var comment = {
        user_name: $('[name=user_name]',form).val(),
        telephone:$('[name=telephone]',form).val(),
        content: $('[name=content]',form).val(),
        type: $('[name=cmt_type]',form).val(),
        id: $('[name=id]',form).val(),
        captcha: $('[name=captcha]',form).val(),
        rank: 5
    };

    for (i = 0; i < $('[name=comment_rank]',form).length; i++) {
        if ($('[name=comment_rank]',form)[i].checked) {
            comment.rank = $('[name=comment_rank]',form)[i].value;
        }
    }
    //$('input[type=text], textarea').tipsy({gravity: 's', fade: true, trigger: 'manual'}).keyup(function(){validAndTip($(this));});
    var validItem = $('input[name=user_name], textarea, input[name=captcha]');
    validItem.tipsy({gravity: 's', fade: true, trigger: 'manual'}).valid8('').focusout(function(){validAndTip($(this));}).keyup(function(){validAndTip($(this));});

    if (comment.user_name.length < 6 ) {
        $('[name=user_name]',form).attr('original-title', 'Tn cn c  di t nht 6 k t').tipsy('show');
        return false;
    }

    if (comment.content.length == 0) {
        $('[name=content]',form).attr('original-title', lang.error_comment_content_required).tipsy('show');
        return false;
    }
    if (comment.content.length < 30) {
        $('[name=content]',form).attr('original-title', 'nh gi ti thiu 30 k t.').tipsy('show');
        return false;
    }
    if ($('[name=captcha]',form).length > 0 && comment.captcha.length == 0) {
        $('[name=captcha]',form).attr('original-title', lang.error_captcha_required).tipsy('show');
        return false;
    }
    $.post(
        'ajax/comment.php',
        {cmt: $.toJSON(comment)},
        function(response){
            var res = $.evalJSON(response);
            if (res.error == 0) {
                $('#comment_wrapper').html(res.content);
                $('.rank_star').rating({
                    focus: function(value, link){
                        var tip = $('#star_tip');
                        tip[0].data = tip[0].data || tip.html();
                        tip.html(link.title || 'value: '+value);
                    },
                    blur: function(value, link){
                        var tip = $('#star_tip');
                        $('#star_tip').html(tip[0].data || '');
                    }
                });
                $('.tip').tipsy({gravity: 's',fade: true,html: true});
            }
        },
        'text'
    );
    return false;
}

function gotoPage(page, id, type) {
    $.get(
        'ajax/comment.php?act=gotopage',
        'page=' + page + '&id=' + id + '&type=' + type,
        function(response){
            var res = $.evalJSON(response);
            $('#comment_wrapper').html(res.content);
            $('.rank_star').rating({
                focus: function(value, link){
                    var tip = $('#star_tip');
                    tip[0].data = tip[0].data || tip.html();
                    tip.html(link.title || 'value: '+value);
                },
                blur: function(value, link){
                    var tip = $('#star_tip');
                    $('#star_tip').html(tip[0].data || '');
                }
            });
        },
        'text'
    );
}
/*  */
function gotoBuyPage(page, id) {
    $.get(
        'ajax/goods.php?act=gotopage',
        'page=' + page + '&id=' + id,
        function(response){
            var res = $.evalJSON(response);
            $('#bought_wrap').html(res.result);
        },
        'text'
    );
}
/* =user */
function sendHashMail() {
    $.get(
        'thanh-vien?act=send_hash_mail',
        '',
        function(response){
            var res = $.evalJSON(response);
            $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_info">' + res.message + '<p class="action"><a href="javascript:void(0);" class="button brighter_button" onclick="$.fn.colorbox.close(); return false;"><span>' + lang.confirm + '</span></a></p></div>'});
            $('#comment_wrapper').html(res.content);
        },
        'text'
    );
}
/* =snatch */
function bid()
{
    var form = $('#snatch_form');
    var id = form.find('input[name="snatch_id"]').val();
    var priceInput = form.find('input[name="price"]');
    var price = priceInput.val();
    priceInput.tipsy({gravity: 'w', fade: true, trigger: 'manual'}).focusout(function() {
        $(this).tipsy('hide');
    }).keypress(function() {
        $(this).tipsy('hide');
    });;
    if (price == '') {
        priceInput.attr('original-title', lang.error_price_required).tipsy('show');
        return;
    } else {
        var reg = /^[\.0-9]+/;
        if ( ! reg.test(price)) {
            priceInput.attr('original-title', lang.error_price).tipsy('show');
            return;
        } else {
            $.post(
                'snatch.php?act=bid',
                {id: id, price: price},
                function(response){
                    var res = $.evalJSON(response);
                    if (res.error == 0) {
                        $('#snatch_wrapper').html(res.content);
                    } else {
                        $.fn.colorbox({fixed:true,scrolling: false, transition: 'fade', html:'<div class="message_box mb_info">' + res.content + '<p class="action"><a href="javascript:void(0);" class="button brighter_button" onclick="$.fn.colorbox.close(); return false;"><span>' + lang.confirm + '</span></a></p></div>'});
                    }
                },
                'text'
            );
        }
    }
}
function newPrice(id) {
    $.get(
        'snatch.php?act=new_price_list',
        'id=' + id,
        function(response){
            $('#price_list').html(response);
            $('#price_list').find('.bd').css({backgroundColor:'#ffc'}).animate({backgroundColor:'#fff'}, 1000);
        },
        'text'
    );
}
function regionChanged(obj, type, selName) {
    var parent = obj.options[obj.selectedIndex].value;
    loadRegions(parent, type, selName);
}
function loadRegions(parent, type, target) {
    var target = $('#'+target+'');
    target.after(loader).next('.loader').css({visibility:'visible'}).fadeTo(0, 1000);
    target.nextAll('select').css('display','none');
    $.get(
        'ajax/region.php',
        'type=' + type + '&target=' + target + "&parent=" + parent,
        function(response){
            var res = $.evalJSON(response);
            target.next('.loader').fadeTo(500, 0, function(){
                $(this).remove();
            });
            target.find('option[value!="0"]').remove();
            if (res.regions.length == 0) {
                target.css('display','none');
                target.nextAll('select').css('display','none');
            } else {
                target.css('display','');
                for (i = 0; i < res.regions.length; i ++ ) {
                    target.append('<option value="' + res.regions[i].region_id + '">' + res.regions[i].region_name + '</option>');
                }
            };
        },
        'text'
    );
}
/* edit Nobj */
function loadCart(act) {
    var cart = $('#cart');
        // if ($('.list', cart).length == 0) {
        //     cart.append('<div class="list"><p class="cart_loading">'+lang.loading+'</p></div>');
        // }
        if (act == 'show') {
            $('.list', cart).show();
        } else if (act == 'refresh') {
            $('.list', cart).html('<p class="cart_loading">'+lang.loading+'</p>');
        }
        if ($('.list ul', cart).length == 0 && $('.cart_empty', cart).length == 0) {
            $.post(
                'ajax/cart.php',
                '',
                function(response){
                    var res = $.evalJSON(response);
                    /*$('.list', cart).html(res.list);*/
                    /*$('em', cart).text(res.number);*/
                    $('a.stickcart strong').text(res.number+' sn phm');
                },
                'text'
            );
        }

    return false;
}
function cartDrop(id) {
    var cart = $('#cart');
    $.get(
        'ajax/cart.php?act=drop',
        'id=' + id,
        function(response){
            if ($('#page_flow').length > 0) {
                if (action == 'checkout') {
                    location.href = 'gio-hang?step=checkout';
                } else {
                    location.href = 'gio-hang';
                }
            } else {
                var res = $.evalJSON(response);
                $('.list', cart).html(res.list);
                /*$('em', cart).text(res.number);*/
                $('a.stickcart strong').text(res.number+' sn phm');
            }
        },
        'text'
    );
}
function cAlert(content) {
    $.fn.colorbox({transition:'none',html:'<div class="message_box mb_info">' + content + '<p class="action"><a href="javascript:void(0);" class="button brighter_button" onclick="$.fn.colorbox.close(); return false;"><span>' + lang.confirm + '</span></a></p></div>'});
}


$(document).ready(function() {
	$('body').append('<div id="loading_box">' + lang.process_request + '</div>');
	$('#loading_box').ajaxStart(function(){
		var loadingbox = $(this);
		var left = -(loadingbox.outerWidth() / 2);
		loadingbox.css({'marginRight': left + 'px'});
		loadingbox.delay(3000).fadeIn(400);
	});
	$('#loading_box').ajaxSuccess(function(){
		$(this).stop().stop().fadeOut(400);
	});
    $('#cart').mouseenter(function(){
        loadCart();
    });
	globalInt();
	if ($('#page_goods').length){
        goodsInt();
    }

    $("#searchForm .search-text").focus(function(){

        $("#searchForm").addClass("search-form-focus");
    }).blur(function(){
        if($(this).val().length==0){
            $("#searchForm").removeClass("search-form-focus");
        }
    });

});

$(window).scroll(function(){
        if( $(window).scrollTop() == 0 ) {
            $('#back-top').stop(false,true).fadeOut(600);
        }else{
            $('#back-top').stop(false,true).fadeIn(600);
        }
    });
$('#back-top').click(function(){
    $('body,html').animate({scrollTop:0},300);
    return false;
});

 function fixNav() {
    var $cache = $('header .middle_header');
    if ($(window).scrollTop() > 180){
        $cache.css({'position': 'fixed', 'width': '100%', 'top': '0','z-index': '9'});
    }
    else{
        $cache.css({'position': 'relative','top': 'auto'});
    }
}
$(window).scroll(fixNav);
fixNav();


$.fn.delayKeyup = function(callback, ms){
    var timer = 0;
    var el = $(this);
    $(this).keyup(function(){
    clearTimeout (timer);
    timer = setTimeout(function(){
        callback(el)
        }, ms);
    });
    return $(this);
};

$('#search-keyword').delayKeyup(function(el){
    var keywords = el.val();
    var show = $('#search-site .search-suggest');
    if(keywords.length >2){
        $.post(
            'ajax/search_suggest.php',
            {keywords: keywords},
            function(response){
                var res = $.evalJSON(response);
                show.css('display','block');
                show.html(res.content);
            },
            'text'
        );
    }
},1000);

function globalInt() {
	$('.tip').tipsy({gravity:'s',fade:true,html:true});
}
function goodsInt() {
	if ($('.properties').length) {
		$('.properties').Formiy();
		$('.properties dl').tipsy({gravity: 'e',fade: true,html:true});
		$('.properties label').tipsy({gravity: 's',fade: true,html:true});
	}
}

window.MagicZoom = (function() {
    var z, A;
    z = A = (function() {
        var V = {
            version: "v3.3-b5",
            UUID: 0,
            storage: {},
            $uuid: function(Z) {
                return (Z.$J_UUID || (Z.$J_UUID = ++P.UUID))
            },
            getStorage: function(Z) {
                return (P.storage[Z] || (P.storage[Z] = {}))
            },
            $F: function() {},
            $false: function() {
                return false
            },
            $true: function() {
                return true
            },
            stylesId: "mjs-" + Math.floor(Math.random() * new Date().getTime()),
            defined: function(Z) {
                return (undefined != Z)
            },
            ifndef: function(aa, Z) {
                return (undefined != aa) ? aa : Z
            },
            exists: function(Z) {
                return !!(Z)
            },
            jTypeOf: function(Z) {
                if (!P.defined(Z)) {
                    return false
                }
                if (Z.$J_TYPE) {
                    return Z.$J_TYPE
                }
                if (!!Z.nodeType) {
                    if (1 == Z.nodeType) {
                        return "element"
                    }
                    if (3 == Z.nodeType) {
                        return "textnode"
                    }
                }
                if (Z.length && Z.item) {
                    return "collection"
                }
                if (Z.length && Z.callee) {
                    return "arguments"
                }
                if ((Z instanceof window.Object || Z instanceof window.Function) && Z.constructor === P.Class) {
                    return "class"
                }
                if (Z instanceof window.Array) {
                    return "array"
                }
                if (Z instanceof window.Function) {
                    return "function"
                }
                if (Z instanceof window.String) {
                    return "string"
                }
                if (P.browser.trident) {
                    if (P.defined(Z.cancelBubble)) {
                        return "event"
                    }
                } else {
                    if (Z === window.event || Z.constructor == window.Event || Z.constructor == window.MouseEvent || Z.constructor == window.UIEvent || Z.constructor == window.KeyboardEvent || Z.constructor == window.KeyEvent) {
                        return "event"
                    }
                }
                if (Z instanceof window.Date) {
                    return "date"
                }
                if (Z instanceof window.RegExp) {
                    return "regexp"
                }
                if (Z === window) {
                    return "window"
                }
                if (Z === document) {
                    return "document"
                }
                return typeof(Z)
            },
            extend: function(ae, ad) {
                if (!(ae instanceof window.Array)) {
                    ae = [ae]
                }
                if (!ad) {
                    return ae[0]
                }
                for (var ac = 0, aa = ae.length; ac < aa; ac++) {
                    if (!P.defined(ae)) {
                        continue
                    }
                    for (var ab in ad) {
                        if (!Object.prototype.hasOwnProperty.call(ad, ab)) {
                            continue
                        }
                        try {
                            ae[ac][ab] = ad[ab]
                        } catch (Z) {}
                    }
                }
                return ae[0]
            },
            implement: function(ad, ac) {
                if (!(ad instanceof window.Array)) {
                    ad = [ad]
                }
                for (var ab = 0, Z = ad.length; ab < Z; ab++) {
                    if (!P.defined(ad[ab])) {
                        continue
                    }
                    if (!ad[ab].prototype) {
                        continue
                    }
                    for (var aa in (ac || {})) {
                        if (!ad[ab].prototype[aa]) {
                            ad[ab].prototype[aa] = ac[aa]
                        }
                    }
                }
                return ad[0]
            },
            nativize: function(ab, aa) {
                if (!P.defined(ab)) {
                    return ab
                }
                for (var Z in (aa || {})) {
                    if (!ab[Z]) {
                        ab[Z] = aa[Z]
                    }
                }
                return ab
            },
            $try: function() {
                for (var aa = 0, Z = arguments.length; aa < Z; aa++) {
                    try {
                        return arguments[aa]()
                    } catch (ab) {}
                }
                return null
            },
            $A: function(ab) {
                if (!P.defined(ab)) {
                    return P.$([])
                }
                if (ab.toArray) {
                    return P.$(ab.toArray())
                }
                if (ab.item) {
                    var aa = ab.length || 0,
                        Z = new Array(aa);
                    while (aa--) {
                        Z[aa] = ab[aa]
                    }
                    return P.$(Z)
                }
                return P.$(Array.prototype.slice.call(ab))
            },
            now: function() {
                return new Date().getTime()
            },
            detach: function(ad) {
                var ab;
                switch (P.jTypeOf(ad)) {
                    case "object":
                        ab = {};
                        for (var ac in ad) {
                            ab[ac] = P.detach(ad[ac])
                        }
                        break;
                    case "array":
                        ab = [];
                        for (var aa = 0, Z = ad.length; aa < Z; aa++) {
                            ab[aa] = P.detach(ad[aa])
                        }
                        break;
                    default:
                        return ad
                }
                return P.$(ab)
            },
            $: function(ab) {
                var Z = true;
                if (!P.defined(ab)) {
                    return null
                }
                if (ab.$J_EXT) {
                    return ab
                }
                switch (P.jTypeOf(ab)) {
                    case "array":
                        ab = P.nativize(ab, P.extend(P.Array, {
                            $J_EXT: P.$F
                        }));
                        ab.jEach = ab.forEach;
                        return ab;
                        break;
                    case "string":
                        var aa = document.getElementById(ab);
                        if (P.defined(aa)) {
                            return P.$(aa)
                        }
                        return null;
                        break;
                    case "window":
                    case "document":
                        P.$uuid(ab);
                        ab = P.extend(ab, P.Doc);
                        break;
                    case "element":
                        P.$uuid(ab);
                        ab = P.extend(ab, P.Element);
                        break;
                    case "event":
                        ab = P.extend(ab, P.Event);
                        break;
                    case "textnode":
                    case "function":
                    case "array":
                    case "date":
                    default:
                        Z = false;
                        break
                }
                if (Z) {
                    return P.extend(ab, {
                        $J_EXT: P.$F
                    })
                } else {
                    return ab
                }
            },
            $new: function(Z, ab, aa) {
                return P.$(P.doc.createElement(Z)).setProps(ab || {}).jSetCss(aa || {})
            },
            addCSS: function(aa, ac, ag) {
                var ad, ab, ae, af = [],
                    Z = -1;
                ag || (ag = P.stylesId);
                ad = P.$(ag) || P.$new("style", {
                    id: ag,
                    type: "text/css"
                }).jAppendTo((document.head || document.body), "top");
                ab = ad.sheet || ad.styleSheet;
                if ("string" != P.jTypeOf(ac)) {
                    for (var ae in ac) {
                        af.push(ae + ":" + ac[ae])
                    }
                    ac = af.join(";")
                }
                if (ab.insertRule) {
                    Z = ab.insertRule(aa + " {" + ac + "}", ab.cssRules.length)
                } else {
                    Z = ab.addRule(aa, ac)
                }
                return Z
            },
            removeCSS: function(ac, Z) {
                var ab, aa;
                ab = P.$(ac);
                if ("element" !== P.jTypeOf(ab)) {
                    return
                }
                aa = ab.sheet || ab.styleSheet;
                if (aa.deleteRule) {
                    aa.deleteRule(Z)
                } else {
                    if (aa.removeRule) {
                        aa.removeRule(Z)
                    }
                }
            },
            generateUUID: function() {
                return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(ab) {
                    var aa = Math.random() * 16 | 0,
                        Z = ab == "x" ? aa : (aa & 3 | 8);
                    return Z.toString(16)
                }).toUpperCase()
            },
            getAbsoluteURL: (function() {
                var Z;
                return function(aa) {
                    if (!Z) {
                        Z = document.createElement("a")
                    }
                    Z.setAttribute("href", aa);
                    return ("!!" + Z.href).replace("!!", "")
                }
            })(),
            getHashCode: function(ab) {
                var ac = 0,
                    Z = ab.length;
                for (var aa = 0; aa < Z; ++aa) {
                    ac = 31 * ac + ab.charCodeAt(aa);
                    ac %= 4294967296
                }
                return ac
            }
        };
        var P = V;
        var Q = V.$;
        if (!window.magicJS) {
            window.magicJS = V;
            window.$mjs = V.$
        }
        P.Array = {
            $J_TYPE: "array",
            indexOf: function(ac, ad) {
                var Z = this.length;
                for (var aa = this.length, ab = (ad < 0) ? Math.max(0, aa + ad) : ad || 0; ab < aa; ab++) {
                    if (this[ab] === ac) {
                        return ab
                    }
                }
                return -1
            },
            contains: function(Z, aa) {
                return this.indexOf(Z, aa) != -1
            },
            forEach: function(Z, ac) {
                for (var ab = 0, aa = this.length; ab < aa; ab++) {
                    if (ab in this) {
                        Z.call(ac, this[ab], ab, this)
                    }
                }
            },
            filter: function(Z, ae) {
                var ad = [];
                for (var ac = 0, aa = this.length; ac < aa; ac++) {
                    if (ac in this) {
                        var ab = this[ac];
                        if (Z.call(ae, this[ac], ac, this)) {
                            ad.push(ab)
                        }
                    }
                }
                return ad
            },
            map: function(Z, ad) {
                var ac = [];
                for (var ab = 0, aa = this.length; ab < aa; ab++) {
                    if (ab in this) {
                        ac[ab] = Z.call(ad, this[ab], ab, this)
                    }
                }
                return ac
            }
        };
        P.implement(String, {
            $J_TYPE: "string",
            jTrim: function() {
                return this.replace(/^\s+|\s+$/g, "")
            },
            eq: function(Z, aa) {
                return (aa || false) ? (this.toString() === Z.toString()) : (this.toLowerCase().toString() === Z.toLowerCase().toString())
            },
            jCamelize: function() {
                return this.replace(/-\D/g, function(Z) {
                    return Z.charAt(1).toUpperCase()
                })
            },
            dashize: function() {
                return this.replace(/[A-Z]/g, function(Z) {
                    return ("-" + Z.charAt(0).toLowerCase())
                })
            },
            jToInt: function(Z) {
                return parseInt(this, Z || 10)
            },
            toFloat: function() {
                return parseFloat(this)
            },
            jToBool: function() {
                return !this.replace(/true/i, "").jTrim()
            },
            has: function(aa, Z) {
                Z = Z || "";
                return (Z + this + Z).indexOf(Z + aa + Z) > -1
            }
        });
        V.implement(Function, {
            $J_TYPE: "function",
            jBind: function() {
                var aa = P.$A(arguments),
                    Z = this,
                    ab = aa.shift();
                return function() {
                    return Z.apply(ab || null, aa.concat(P.$A(arguments)))
                }
            },
            jBindAsEvent: function() {
                var aa = P.$A(arguments),
                    Z = this,
                    ab = aa.shift();
                return function(ac) {
                    return Z.apply(ab || null, P.$([ac || (P.browser.ieMode ? window.event : null)]).concat(aa))
                }
            },
            jDelay: function() {
                var aa = P.$A(arguments),
                    Z = this,
                    ab = aa.shift();
                return window.setTimeout(function() {
                    return Z.apply(Z, aa)
                }, ab || 0)
            },
            jDefer: function() {
                var aa = P.$A(arguments),
                    Z = this;
                return function() {
                    return Z.jDelay.apply(Z, aa)
                }
            },
            interval: function() {
                var aa = P.$A(arguments),
                    Z = this,
                    ab = aa.shift();
                return window.setInterval(function() {
                    return Z.apply(Z, aa)
                }, ab || 0)
            }
        });
        var W = {},
            O = navigator.userAgent.toLowerCase(),
            N = O.match(/(webkit|gecko|trident|presto)\/(\d+\.?\d*)/i),
            S = O.match(/(edge|opr)\/(\d+\.?\d*)/i) || O.match(/(crios|chrome|safari|firefox|opera|opr)\/(\d+\.?\d*)/i),
            U = O.match(/version\/(\d+\.?\d*)/i),
            J = document.documentElement.style;

        function K(aa) {
            var Z = aa.charAt(0).toUpperCase() + aa.slice(1);
            return aa in J || ("Webkit" + Z) in J || ("Moz" + Z) in J || ("ms" + Z) in J || ("O" + Z) in J
        }
        P.browser = {
            features: {
                xpath: !!(document.evaluate),
                air: !!(window.runtime),
                query: !!(document.querySelector),
                fullScreen: !!(document.fullscreenEnabled || document.msFullscreenEnabled || document.exitFullscreen || document.cancelFullScreen || document.webkitexitFullscreen || document.webkitCancelFullScreen || document.mozCancelFullScreen || document.oCancelFullScreen || document.msCancelFullScreen),
                xhr2: !!(window.ProgressEvent) && !!(window.FormData) && (window.XMLHttpRequest && "withCredentials" in new XMLHttpRequest),
                transition: K("transition"),
                transform: K("transform"),
                perspective: K("perspective"),
                animation: K("animation"),
                requestAnimationFrame: false,
                multibackground: false,
                cssFilters: false,
                canvas: false,
                svg: (function() {
                    return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image", "1.1")
                })()
            },
            touchScreen: function() {
                return "ontouchstart" in window || (window.DocumentTouch && document instanceof DocumentTouch) || (navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0)
            }(),
            mobile: O.match(/(android|bb\d+|meego).+|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/) ? true : false,
            engine: (N && N[1]) ? N[1].toLowerCase() : (window.opera) ? "presto" : !!(window.ActiveXObject) ? "trident" : (undefined !== document.getBoxObjectFor || null != window.mozInnerScreenY) ? "gecko" : (null !== window.WebKitPoint || !navigator.taintEnabled) ? "webkit" : "unknown",
            version: (N && N[2]) ? parseFloat(N[2]) : 0,
            uaName: (S && S[1]) ? S[1].toLowerCase() : "",
            uaVersion: (S && S[2]) ? parseFloat(S[2]) : 0,
            cssPrefix: "",
            cssDomPrefix: "",
            domPrefix: "",
            ieMode: 0,
            platform: O.match(/ip(?:ad|od|hone)/) ? "ios" : (O.match(/(?:webos|android)/) || navigator.platform.match(/mac|win|linux/i) || ["other"])[0].toLowerCase(),
            backCompat: document.compatMode && "backcompat" == document.compatMode.toLowerCase(),
            scrollbarsWidth: 0,
            getDoc: function() {
                return (document.compatMode && "backcompat" == document.compatMode.toLowerCase()) ? document.body : document.documentElement
            },
            requestAnimationFrame: window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || undefined,
            cancelAnimationFrame: window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame || window.webkitCancelRequestAnimationFrame || undefined,
            ready: false,
            onready: function() {
                if (P.browser.ready) {
                    return
                }
                var ac, ab;
                P.browser.ready = true;
                P.body = P.$(document.body);
                P.win = P.$(window);
                try {
                    var aa = P.$new("div").jSetCss({
                        width: 100,
                        height: 100,
                        overflow: "scroll",
                        position: "absolute",
                        top: -9999
                    }).jAppendTo(document.body);
                    P.browser.scrollbarsWidth = aa.offsetWidth - aa.clientWidth;
                    aa.jRemove()
                } catch (Z) {}
                try {
                    ac = P.$new("div");
                    ab = ac.style;
                    ab.cssText = "background:url(https://),url(https://),red url(https://)";
                    P.browser.features.multibackground = (/(url\s*\(.*?){3}/).test(ab.background);
                    ab = null;
                    ac = null
                } catch (Z) {}
                if (!P.browser.cssTransformProp) {
                    P.browser.cssTransformProp = P.normalizeCSS("transform").dashize()
                }
                try {
                    ac = P.$new("div");
                    ac.style.cssText = P.normalizeCSS("filter").dashize() + ":blur(2px);";
                    P.browser.features.cssFilters = !!ac.style.length && (!P.browser.ieMode || P.browser.ieMode > 9);
                    ac = null
                } catch (Z) {}
                if (!P.browser.features.cssFilters) {
                    P.$(document.documentElement).jAddClass("no-cssfilters-magic")
                }
                try {
                    P.browser.features.canvas = (function() {
                        var ad = P.$new("canvas");
                        return !!(ad.getContext && ad.getContext("2d"))
                    })()
                } catch (Z) {}
                if (undefined === window.TransitionEvent && undefined !== window.WebKitTransitionEvent) {
                    W.transitionend = "webkitTransitionEnd"
                }
                P.Doc.jCallEvent.call(P.$(document), "domready")
            }
        };
        (function() {
            var ae = [],
                ad, ac, aa;

            function Z() {
                return !!(arguments.callee.caller)
            }
            switch (P.browser.engine) {
                case "trident":
                    if (!P.browser.version) {
                        P.browser.version = !!(window.XMLHttpRequest) ? 3 : 2
                    }
                    break;
                case "gecko":
                    P.browser.version = (S && S[2]) ? parseFloat(S[2]) : 0;
                    break
            }
            P.browser[P.browser.engine] = true;
            if (S && "crios" === S[1]) {
                P.browser.uaName = "chrome"
            }
            if (!!window.chrome) {
                P.browser.chrome = true
            }
            if (S && "opr" === S[1]) {
                P.browser.uaName = "opera";
                P.browser.opera = true
            }
            if ("safari" === P.browser.uaName && (U && U[1])) {
                P.browser.uaVersion = parseFloat(U[1])
            }
            if ("android" == P.browser.platform && P.browser.webkit && (U && U[1])) {
                P.browser.androidBrowser = true
            }
            ad = ({
                gecko: ["-moz-", "Moz", "moz"],
                webkit: ["-webkit-", "Webkit", "webkit"],
                trident: ["-ms-", "ms", "ms"],
                presto: ["-o-", "O", "o"]
            })[P.browser.engine] || ["", "", ""];
            P.browser.cssPrefix = ad[0];
            P.browser.cssDomPrefix = ad[1];
            P.browser.domPrefix = ad[2];
            P.browser.ieMode = (!P.browser.trident) ? undefined : (document.documentMode) ? document.documentMode : function() {
                var af = 0;
                if (P.browser.backCompat) {
                    return 5
                }
                switch (P.browser.version) {
                    case 2:
                        af = 6;
                        break;
                    case 3:
                        af = 7;
                        break
                }
                return af
            }();
            ae.push(P.browser.platform + "-magic");
            if (P.browser.mobile) {
                ae.push("mobile-magic")
            }
            if (P.browser.androidBrowser) {
                ae.push("android-browser-magic")
            }
            if (P.browser.ieMode) {
                P.browser.uaName = "ie";
                P.browser.uaVersion = P.browser.ieMode;
                ae.push("ie" + P.browser.ieMode + "-magic");
                for (ac = 11; ac > P.browser.ieMode; ac--) {
                    ae.push("lt-ie" + ac + "-magic")
                }
            }
            if (P.browser.webkit && P.browser.version < 536) {
                P.browser.features.fullScreen = false
            }
            if (P.browser.requestAnimationFrame) {
                P.browser.requestAnimationFrame.call(window, function() {
                    P.browser.features.requestAnimationFrame = true
                })
            }
            if (P.browser.features.svg) {
                ae.push("svg-magic")
            } else {
                ae.push("no-svg-magic")
            }
            aa = (document.documentElement.className || "").match(/\S+/g) || [];
            document.documentElement.className = P.$(aa).concat(ae).join(" ");
            try {
                document.documentElement.setAttribute("data-magic-ua", P.browser.uaName);
                document.documentElement.setAttribute("data-magic-ua-ver", P.browser.uaVersion)
            } catch (ab) {}
            if (P.browser.ieMode && P.browser.ieMode < 9) {
                document.createElement("figure");
                document.createElement("figcaption")
            }
        })();
        (function() {
            P.browser.fullScreen = {
                capable: P.browser.features.fullScreen,
                enabled: function() {
                    return !!(document.fullscreenElement || document[P.browser.domPrefix + "FullscreenElement"] || document.fullScreen || document.webkitIsFullScreen || document[P.browser.domPrefix + "FullScreen"])
                },
                request: function(Z, aa) {
                    aa || (aa = {});
                    if (this.capable) {
                        P.$(document).jAddEvent(this.changeEventName, this.onchange = function(ab) {
                            if (this.enabled()) {
                                aa.onEnter && aa.onEnter()
                            } else {
                                P.$(document).jRemoveEvent(this.changeEventName, this.onchange);
                                aa.onExit && aa.onExit()
                            }
                        }.jBindAsEvent(this));
                        P.$(document).jAddEvent(this.errorEventName, this.onerror = function(ab) {
                            aa.fallback && aa.fallback();
                            P.$(document).jRemoveEvent(this.errorEventName, this.onerror)
                        }.jBindAsEvent(this));
                        (Z[P.browser.domPrefix + "RequestFullscreen"] || Z[P.browser.domPrefix + "RequestFullScreen"] || Z.requestFullscreen || function() {}).call(Z)
                    } else {
                        if (aa.fallback) {
                            aa.fallback()
                        }
                    }
                },
                cancel: (document.exitFullscreen || document.cancelFullScreen || document[P.browser.domPrefix + "ExitFullscreen"] || document[P.browser.domPrefix + "CancelFullScreen"] || function() {}).jBind(document),
                changeEventName: document.msExitFullscreen ? "MSFullscreenChange" : (document.exitFullscreen ? "" : P.browser.domPrefix) + "fullscreenchange",
                errorEventName: document.msExitFullscreen ? "MSFullscreenError" : (document.exitFullscreen ? "" : P.browser.domPrefix) + "fullscreenerror",
                prefix: P.browser.domPrefix,
                activeElement: null
            }
        })();
        var Y = /\S+/g,
            M = /^(border(Top|Bottom|Left|Right)Width)|((padding|margin)(Top|Bottom|Left|Right))$/,
            R = {
                "float": ("undefined" === typeof(J.styleFloat)) ? "cssFloat" : "styleFloat"
            },
            T = {
                fontWeight: true,
                lineHeight: true,
                opacity: true,
                zIndex: true,
                zoom: true
            },
            L = (window.getComputedStyle) ? function(ab, Z) {
                var aa = window.getComputedStyle(ab, null);
                return aa ? aa.getPropertyValue(Z) || aa[Z] : null
            } : function(ac, aa) {
                var ab = ac.currentStyle,
                    Z = null;
                Z = ab ? ab[aa] : null;
                if (null == Z && ac.style && ac.style[aa]) {
                    Z = ac.style[aa]
                }
                return Z
            };

        function X(ab) {
            var Z, aa;
            aa = (P.browser.webkit && "filter" == ab) ? false : (ab in J);
            if (!aa) {
                Z = P.browser.cssDomPrefix + ab.charAt(0).toUpperCase() + ab.slice(1);
                if (Z in J) {
                    return Z
                }
            }
            return ab
        }
        P.normalizeCSS = X;
        P.Element = {
            jHasClass: function(Z) {
                return !(Z || "").has(" ") && (this.className || "").has(Z, " ")
            },
            jAddClass: function(ad) {
                var aa = (this.className || "").match(Y) || [],
                    ac = (ad || "").match(Y) || [],
                    Z = ac.length,
                    ab = 0;
                for (; ab < Z; ab++) {
                    if (!P.$(aa).contains(ac[ab])) {
                        aa.push(ac[ab])
                    }
                }
                this.className = aa.join(" ");
                return this
            },
            jRemoveClass: function(ae) {
                var aa = (this.className || "").match(Y) || [],
                    ad = (ae || "").match(Y) || [],
                    Z = ad.length,
                    ac = 0,
                    ab;
                for (; ac < Z; ac++) {
                    if ((ab = P.$(aa).indexOf(ad[ac])) > -1) {
                        aa.splice(ab, 1)
                    }
                }
                this.className = ae ? aa.join(" ") : "";
                return this
            },
            jToggleClass: function(Z) {
                return this.jHasClass(Z) ? this.jRemoveClass(Z) : this.jAddClass(Z)
            },
            jGetCss: function(aa) {
                var ab = aa.jCamelize(),
                    Z = null;
                aa = R[ab] || (R[ab] = X(ab));
                Z = L(this, aa);
                if ("auto" === Z) {
                    Z = null
                }
                if (null !== Z) {
                    if ("opacity" == aa) {
                        return P.defined(Z) ? parseFloat(Z) : 1
                    }
                    if (M.test(aa)) {
                        Z = parseInt(Z, 10) ? Z : "0px"
                    }
                }
                return Z
            },
            jSetCssProp: function(aa, Z) {
                var ac = aa.jCamelize();
                try {
                    if ("opacity" == aa) {
                        this.jSetOpacity(Z);
                        return this
                    }
                    aa = R[ac] || (R[ac] = X(ac));
                    this.style[aa] = Z + (("number" == P.jTypeOf(Z) && !T[ac]) ? "px" : "")
                } catch (ab) {}
                return this
            },
            jSetCss: function(aa) {
                for (var Z in aa) {
                    this.jSetCssProp(Z, aa[Z])
                }
                return this
            },
            jGetStyles: function() {
                var Z = {};
                P.$A(arguments).jEach(function(aa) {
                    Z[aa] = this.jGetCss(aa)
                }, this);
                return Z
            },
            jSetOpacity: function(ab, Z) {
                var aa;
                Z = Z || false;
                this.style.opacity = ab;
                ab = parseInt(parseFloat(ab) * 100);
                if (Z) {
                    if (0 === ab) {
                        if ("hidden" != this.style.visibility) {
                            this.style.visibility = "hidden"
                        }
                    } else {
                        if ("visible" != this.style.visibility) {
                            this.style.visibility = "visible"
                        }
                    }
                }
                if (P.browser.ieMode && P.browser.ieMode < 9) {
                    if (!isNaN(ab)) {
                        if (!~this.style.filter.indexOf("Alpha")) {
                            this.style.filter += " progid:DXImageTransform.Microsoft.Alpha(Opacity=" + ab + ")"
                        } else {
                            this.style.filter = this.style.filter.replace(/Opacity=\d*/i, "Opacity=" + ab)
                        }
                    } else {
                        this.style.filter = this.style.filter.replace(/progid:DXImageTransform.Microsoft.Alpha\(Opacity=\d*\)/i, "").jTrim();
                        if ("" === this.style.filter) {
                            this.style.removeAttribute("filter")
                        }
                    }
                }
                return this
            },
            setProps: function(Z) {
                for (var aa in Z) {
                    if ("class" === aa) {
                        this.jAddClass("" + Z[aa])
                    } else {
                        this.setAttribute(aa, "" + Z[aa])
                    }
                }
                return this
            },
            jGetTransitionDuration: function() {
                var aa = 0,
                    Z = 0;
                aa = this.jGetCss("transition-duration");
                Z = this.jGetCss("transition-delay");
                aa = aa.indexOf("ms") > -1 ? parseFloat(aa) : aa.indexOf("s") > -1 ? parseFloat(aa) * 1000 : 0;
                Z = Z.indexOf("ms") > -1 ? parseFloat(Z) : Z.indexOf("s") > -1 ? parseFloat(Z) * 1000 : 0;
                return aa + Z
            },
            hide: function() {
                return this.jSetCss({
                    display: "none",
                    visibility: "hidden"
                })
            },
            show: function() {
                return this.jSetCss({
                    display: "",
                    visibility: "visible"
                })
            },
            jGetSize: function() {
                return {
                    width: this.offsetWidth,
                    height: this.offsetHeight
                }
            },
            getInnerSize: function(aa) {
                var Z = this.jGetSize();
                Z.width -= (parseFloat(this.jGetCss("border-left-width") || 0) + parseFloat(this.jGetCss("border-right-width") || 0));
                Z.height -= (parseFloat(this.jGetCss("border-top-width") || 0) + parseFloat(this.jGetCss("border-bottom-width") || 0));
                if (!aa) {
                    Z.width -= (parseFloat(this.jGetCss("padding-left") || 0) + parseFloat(this.jGetCss("padding-right") || 0));
                    Z.height -= (parseFloat(this.jGetCss("padding-top") || 0) + parseFloat(this.jGetCss("padding-bottom") || 0))
                }
                return Z
            },
            jGetScroll: function() {
                return {
                    top: this.scrollTop,
                    left: this.scrollLeft
                }
            },
            jGetFullScroll: function() {
                var Z = this,
                    aa = {
                        top: 0,
                        left: 0
                    };
                do {
                    aa.left += Z.scrollLeft || 0;
                    aa.top += Z.scrollTop || 0;
                    Z = Z.parentNode
                } while (Z);
                return aa
            },
            jGetPosition: function() {
                var ad = this,
                    aa = 0,
                    ac = 0;
                if (P.defined(document.documentElement.getBoundingClientRect)) {
                    var Z = this.getBoundingClientRect(),
                        ab = P.$(document).jGetScroll(),
                        ae = P.browser.getDoc();
                    return {
                        top: Z.top + ab.y - ae.clientTop,
                        left: Z.left + ab.x - ae.clientLeft
                    }
                }
                do {
                    aa += ad.offsetLeft || 0;
                    ac += ad.offsetTop || 0;
                    ad = ad.offsetParent
                } while (ad && !(/^(?:body|html)$/i).test(ad.tagName));
                return {
                    top: ac,
                    left: aa
                }
            },
            jGetRect: function() {
                var aa = this.jGetPosition();
                var Z = this.jGetSize();
                return {
                    top: aa.top,
                    bottom: aa.top + Z.height,
                    left: aa.left,
                    right: aa.left + Z.width
                }
            },
            changeContent: function(aa) {
                try {
                    this.innerHTML = aa
                } catch (Z) {
                    this.innerText = aa
                }
                return this
            },
            jRemove: function() {
                return (this.parentNode) ? this.parentNode.removeChild(this) : this
            },
            kill: function() {
                P.$A(this.childNodes).jEach(function(Z) {
                    if (3 == Z.nodeType || 8 == Z.nodeType) {
                        return
                    }
                    P.$(Z).kill()
                });
                this.jRemove();
                this.jClearEvents();
                if (this.$J_UUID) {
                    P.storage[this.$J_UUID] = null;
                    delete P.storage[this.$J_UUID]
                }
                return null
            },
            append: function(ab, aa) {
                aa = aa || "bottom";
                var Z = this.firstChild;
                ("top" == aa && Z) ? this.insertBefore(ab, Z): this.appendChild(ab);
                return this
            },
            jAppendTo: function(ab, aa) {
                var Z = P.$(ab).append(this, aa);
                return this
            },
            enclose: function(Z) {
                this.append(Z.parentNode.replaceChild(this, Z));
                return this
            },
            hasChild: function(Z) {
                if ("element" !== P.jTypeOf("string" == P.jTypeOf(Z) ? Z = document.getElementById(Z) : Z)) {
                    return false
                }
                return (this == Z) ? false : (this.contains && !(P.browser.webkit419)) ? (this.contains(Z)) : (this.compareDocumentPosition) ? !!(this.compareDocumentPosition(Z) & 16) : P.$A(this.byTag(Z.tagName)).contains(Z)
            }
        };
        P.Element.jGetStyle = P.Element.jGetCss;
        P.Element.jSetStyle = P.Element.jSetCss;
        if (!window.Element) {
            window.Element = P.$F;
            if (P.browser.engine.webkit) {
                window.document.createElement("iframe")
            }
            window.Element.prototype = (P.browser.engine.webkit) ? window["[[DOMElement.prototype]]"] : {}
        }
        P.implement(window.Element, {
            $J_TYPE: "element"
        });
        P.Doc = {
            jGetSize: function() {
                if (P.browser.touchScreen || P.browser.presto925 || P.browser.webkit419) {
                    return {
                        width: window.innerWidth,
                        height: window.innerHeight
                    }
                }
                return {
                    width: P.browser.getDoc().clientWidth,
                    height: P.browser.getDoc().clientHeight
                }
            },
            jGetScroll: function() {
                return {
                    x: window.pageXOffset || P.browser.getDoc().scrollLeft,
                    y: window.pageYOffset || P.browser.getDoc().scrollTop
                }
            },
            jGetFullSize: function() {
                var Z = this.jGetSize();
                return {
                    width: Math.max(P.browser.getDoc().scrollWidth, Z.width),
                    height: Math.max(P.browser.getDoc().scrollHeight, Z.height)
                }
            }
        };
        P.extend(document, {
            $J_TYPE: "document"
        });
        P.extend(window, {
            $J_TYPE: "window"
        });
        P.extend([P.Element, P.Doc], {
            jFetch: function(ac, aa) {
                var Z = P.getStorage(this.$J_UUID),
                    ab = Z[ac];
                if (undefined !== aa && undefined === ab) {
                    ab = Z[ac] = aa
                }
                return (P.defined(ab) ? ab : null)
            },
            jStore: function(ab, aa) {
                var Z = P.getStorage(this.$J_UUID);
                Z[ab] = aa;
                return this
            },
            jDel: function(aa) {
                var Z = P.getStorage(this.$J_UUID);
                delete Z[aa];
                return this
            }
        });
        if (!(window.HTMLElement && window.HTMLElement.prototype && window.HTMLElement.prototype.getElementsByClassName)) {
            P.extend([P.Element, P.Doc], {
                getElementsByClassName: function(Z) {
                    return P.$A(this.getElementsByTagName("*")).filter(function(ab) {
                        try {
                            return (1 == ab.nodeType && ab.className.has(Z, " "))
                        } catch (aa) {}
                    })
                }
            })
        }
        P.extend([P.Element, P.Doc], {
            byClass: function() {
                return this.getElementsByClassName(arguments[0])
            },
            byTag: function() {
                return this.getElementsByTagName(arguments[0])
            }
        });
        if (P.browser.fullScreen.capable && !document.requestFullScreen) {
            P.Element.requestFullScreen = function() {
                P.browser.fullScreen.request(this)
            }
        }
        P.Event = {
            $J_TYPE: "event",
            isQueueStopped: P.$false,
            stop: function() {
                return this.stopDistribution().stopDefaults()
            },
            stopDistribution: function() {
                if (this.stopPropagation) {
                    this.stopPropagation()
                } else {
                    this.cancelBubble = true
                }
                return this
            },
            stopDefaults: function() {
                if (this.preventDefault) {
                    this.preventDefault()
                } else {
                    this.returnValue = false
                }
                return this
            },
            stopQueue: function() {
                this.isQueueStopped = P.$true;
                return this
            },
            getClientXY: function() {
                var aa, Z;
                aa = ((/touch/i).test(this.type)) ? this.changedTouches[0] : this;
                return (!P.defined(aa)) ? {
                    x: 0,
                    y: 0
                } : {
                    x: aa.clientX,
                    y: aa.clientY
                }
            },
            jGetPageXY: function() {
                var aa, Z;
                aa = ((/touch/i).test(this.type)) ? this.changedTouches[0] : this;
                return (!P.defined(aa)) ? {
                    x: 0,
                    y: 0
                } : {
                    x: aa.pageX || aa.clientX + P.browser.getDoc().scrollLeft,
                    y: aa.pageY || aa.clientY + P.browser.getDoc().scrollTop
                }
            },
            getTarget: function() {
                var Z = this.target || this.srcElement;
                while (Z && 3 == Z.nodeType) {
                    Z = Z.parentNode
                }
                return Z
            },
            getRelated: function() {
                var aa = null;
                switch (this.type) {
                    case "mouseover":
                    case "pointerover":
                    case "MSPointerOver":
                        aa = this.relatedTarget || this.fromElement;
                        break;
                    case "mouseout":
                    case "pointerout":
                    case "MSPointerOut":
                        aa = this.relatedTarget || this.toElement;
                        break;
                    default:
                        return aa
                }
                try {
                    while (aa && 3 == aa.nodeType) {
                        aa = aa.parentNode
                    }
                } catch (Z) {
                    aa = null
                }
                return aa
            },
            getButton: function() {
                if (!this.which && this.button !== undefined) {
                    return (this.button & 1 ? 1 : (this.button & 2 ? 3 : (this.button & 4 ? 2 : 0)))
                }
                return this.which
            },
            isTouchEvent: function() {
                return (this.pointerType && ("touch" === this.pointerType || this.pointerType === this.MSPOINTER_TYPE_TOUCH)) || (/touch/i).test(this.type)
            },
            isPrimaryTouch: function() {
                return this.pointerType ? (("touch" === this.pointerType || this.MSPOINTER_TYPE_TOUCH === this.pointerType) && this.isPrimary) : 1 === this.changedTouches.length && (this.targetTouches.length ? this.targetTouches[0].identifier == this.changedTouches[0].identifier : true)
            }
        };
        P._event_add_ = "addEventListener";
        P._event_del_ = "removeEventListener";
        P._event_prefix_ = "";
        if (!document.addEventListener) {
            P._event_add_ = "attachEvent";
            P._event_del_ = "detachEvent";
            P._event_prefix_ = "on"
        }
        P.Event.Custom = {
            type: "",
            x: null,
            y: null,
            timeStamp: null,
            button: null,
            target: null,
            relatedTarget: null,
            $J_TYPE: "event.custom",
            isQueueStopped: P.$false,
            events: P.$([]),
            pushToEvents: function(Z) {
                var aa = Z;
                this.events.push(aa)
            },
            stop: function() {
                return this.stopDistribution().stopDefaults()
            },
            stopDistribution: function() {
                this.events.jEach(function(aa) {
                    try {
                        aa.stopDistribution()
                    } catch (Z) {}
                });
                return this
            },
            stopDefaults: function() {
                this.events.jEach(function(aa) {
                    try {
                        aa.stopDefaults()
                    } catch (Z) {}
                });
                return this
            },
            stopQueue: function() {
                this.isQueueStopped = P.$true;
                return this
            },
            getClientXY: function() {
                return {
                    x: this.clientX,
                    y: this.clientY
                }
            },
            jGetPageXY: function() {
                return {
                    x: this.x,
                    y: this.y
                }
            },
            getTarget: function() {
                return this.target
            },
            getRelated: function() {
                return this.relatedTarget
            },
            getButton: function() {
                return this.button
            },
            getOriginalTarget: function() {
                return this.events.length > 0 ? this.events[0].getTarget() : undefined
            }
        };
        P.extend([P.Element, P.Doc], {
            jAddEvent: function(ab, ad, ae, ah) {
                var ag, Z, ac, af, aa;
                if ("string" == P.jTypeOf(ab)) {
                    aa = ab.split(" ");
                    if (aa.length > 1) {
                        ab = aa
                    }
                }
                if (P.jTypeOf(ab) == "array") {
                    P.$(ab).jEach(this.jAddEvent.jBindAsEvent(this, ad, ae, ah));
                    return this
                }
                if (!ab || !ad || P.jTypeOf(ab) != "string" || P.jTypeOf(ad) != "function") {
                    return this
                }
                if (ab == "domready" && P.browser.ready) {
                    ad.call(this);
                    return this
                }
                ab = W[ab] || ab;
                ae = parseInt(ae || 50);
                if (!ad.$J_EUID) {
                    ad.$J_EUID = Math.floor(Math.random() * P.now())
                }
                ag = P.Doc.jFetch.call(this, "_EVENTS_", {});
                Z = ag[ab];
                if (!Z) {
                    ag[ab] = Z = P.$([]);
                    ac = this;
                    if (P.Event.Custom[ab]) {
                        P.Event.Custom[ab].handler.add.call(this, ah)
                    } else {
                        Z.handle = function(ai) {
                            ai = P.extend(ai || window.e, {
                                $J_TYPE: "event"
                            });
                            P.Doc.jCallEvent.call(ac, ab, P.$(ai))
                        };
                        this[P._event_add_](P._event_prefix_ + ab, Z.handle, false)
                    }
                }
                af = {
                    type: ab,
                    fn: ad,
                    priority: ae,
                    euid: ad.$J_EUID
                };
                Z.push(af);
                Z.sort(function(aj, ai) {
                    return aj.priority - ai.priority
                });
                return this
            },
            jRemoveEvent: function(af) {
                var ad = P.Doc.jFetch.call(this, "_EVENTS_", {}),
                    ab, Z, aa, ag, ae, ac;
                ae = arguments.length > 1 ? arguments[1] : -100;
                if ("string" == P.jTypeOf(af)) {
                    ac = af.split(" ");
                    if (ac.length > 1) {
                        af = ac
                    }
                }
                if (P.jTypeOf(af) == "array") {
                    P.$(af).jEach(this.jRemoveEvent.jBindAsEvent(this, ae));
                    return this
                }
                af = W[af] || af;
                if (!af || P.jTypeOf(af) != "string" || !ad || !ad[af]) {
                    return this
                }
                ab = ad[af] || [];
                for (aa = 0; aa < ab.length; aa++) {
                    Z = ab[aa];
                    if (-100 == ae || !!ae && ae.$J_EUID === Z.euid) {
                        ag = ab.splice(aa--, 1)
                    }
                }
                if (0 === ab.length) {
                    if (P.Event.Custom[af]) {
                        P.Event.Custom[af].handler.jRemove.call(this)
                    } else {
                        this[P._event_del_](P._event_prefix_ + af, ab.handle, false)
                    }
                    delete ad[af]
                }
                return this
            },
            jCallEvent: function(ad, af) {
                var ac = P.Doc.jFetch.call(this, "_EVENTS_", {}),
                    ab, Z, aa;
                ad = W[ad] || ad;
                if (!ad || P.jTypeOf(ad) != "string" || !ac || !ac[ad]) {
                    return this
                }
                try {
                    af = P.extend(af || {}, {
                        type: ad
                    })
                } catch (ae) {}
                if (undefined === af.timeStamp) {
                    af.timeStamp = P.now()
                }
                ab = ac[ad] || [];
                for (aa = 0; aa < ab.length && !(af.isQueueStopped && af.isQueueStopped()); aa++) {
                    ab[aa].fn.call(this, af)
                }
            },
            jRaiseEvent: function(aa, Z) {
                var ad = ("domready" == aa) ? false : true,
                    ac = this,
                    ab;
                aa = W[aa] || aa;
                if (!ad) {
                    P.Doc.jCallEvent.call(this, aa);
                    return this
                }
                if (ac === document && document.createEvent && !ac.dispatchEvent) {
                    ac = document.documentElement
                }
                if (document.createEvent) {
                    ab = document.createEvent(aa);
                    ab.initEvent(Z, true, true)
                } else {
                    ab = document.createEventObject();
                    ab.eventType = aa
                }
                if (document.createEvent) {
                    ac.dispatchEvent(ab)
                } else {
                    ac.fireEvent("on" + Z, ab)
                }
                return ab
            },
            jClearEvents: function() {
                var aa = P.Doc.jFetch.call(this, "_EVENTS_");
                if (!aa) {
                    return this
                }
                for (var Z in aa) {
                    P.Doc.jRemoveEvent.call(this, Z)
                }
                P.Doc.jDel.call(this, "_EVENTS_");
                return this
            }
        });
        (function(Z) {
            if ("complete" === document.readyState) {
                return Z.browser.onready.jDelay(1)
            }
            if (Z.browser.webkit && Z.browser.version < 420) {
                (function() {
                    (Z.$(["loaded", "complete"]).contains(document.readyState)) ? Z.browser.onready(): arguments.callee.jDelay(50)
                })()
            } else {
                if (Z.browser.trident && Z.browser.ieMode < 9 && window == top) {
                    (function() {
                        (Z.$try(function() {
                            Z.browser.getDoc().doScroll("left");
                            return true
                        })) ? Z.browser.onready(): arguments.callee.jDelay(50)
                    })()
                } else {
                    Z.Doc.jAddEvent.call(Z.$(document), "DOMContentLoaded", Z.browser.onready);
                    Z.Doc.jAddEvent.call(Z.$(window), "load", Z.browser.onready)
                }
            }
        })(V);
        P.Class = function() {
            var ad = null,
                aa = P.$A(arguments);
            if ("class" == P.jTypeOf(aa[0])) {
                ad = aa.shift()
            }
            var Z = function() {
                for (var ag in this) {
                    this[ag] = P.detach(this[ag])
                }
                if (this.constructor.$parent) {
                    this.$parent = {};
                    var ai = this.constructor.$parent;
                    for (var ah in ai) {
                        var af = ai[ah];
                        switch (P.jTypeOf(af)) {
                            case "function":
                                this.$parent[ah] = P.Class.wrap(this, af);
                                break;
                            case "object":
                                this.$parent[ah] = P.detach(af);
                                break;
                            case "array":
                                this.$parent[ah] = P.detach(af);
                                break
                        }
                    }
                }
                var ae = (this.init) ? this.init.apply(this, arguments) : this;
                delete this.caller;
                return ae
            };
            if (!Z.prototype.init) {
                Z.prototype.init = P.$F
            }
            if (ad) {
                var ac = function() {};
                ac.prototype = ad.prototype;
                Z.prototype = new ac;
                Z.$parent = {};
                for (var ab in ad.prototype) {
                    Z.$parent[ab] = ad.prototype[ab]
                }
            } else {
                Z.$parent = null
            }
            Z.constructor = P.Class;
            Z.prototype.constructor = Z;
            P.extend(Z.prototype, aa[0]);
            P.extend(Z, {
                $J_TYPE: "class"
            });
            return Z
        };
        V.Class.wrap = function(Z, aa) {
            return function() {
                var ac = this.caller;
                var ab = aa.apply(Z, arguments);
                return ab
            }
        };
        (function(ac) {
            var ab = ac.$;
            var Z = 5,
                aa = 300;
            ac.Event.Custom.btnclick = new ac.Class(ac.extend(ac.Event.Custom, {
                type: "btnclick",
                init: function(af, ae) {
                    var ad = ae.jGetPageXY();
                    this.x = ad.x;
                    this.y = ad.y;
                    this.clientX = ae.clientX;
                    this.clientY = ae.clientY;
                    this.timeStamp = ae.timeStamp;
                    this.button = ae.getButton();
                    this.target = af;
                    this.pushToEvents(ae)
                }
            }));
            ac.Event.Custom.btnclick.handler = {
                options: {
                    threshold: aa,
                    button: 1
                },
                add: function(ad) {
                    this.jStore("event:btnclick:options", ac.extend(ac.detach(ac.Event.Custom.btnclick.handler.options), ad || {}));
                    this.jAddEvent("mousedown", ac.Event.Custom.btnclick.handler.handle, 1);
                    this.jAddEvent("mouseup", ac.Event.Custom.btnclick.handler.handle, 1);
                    this.jAddEvent("click", ac.Event.Custom.btnclick.handler.onclick, 1);
                    if (ac.browser.trident && ac.browser.ieMode < 9) {
                        this.jAddEvent("dblclick", ac.Event.Custom.btnclick.handler.handle, 1)
                    }
                },
                jRemove: function() {
                    this.jRemoveEvent("mousedown", ac.Event.Custom.btnclick.handler.handle);
                    this.jRemoveEvent("mouseup", ac.Event.Custom.btnclick.handler.handle);
                    this.jRemoveEvent("click", ac.Event.Custom.btnclick.handler.onclick);
                    if (ac.browser.trident && ac.browser.ieMode < 9) {
                        this.jRemoveEvent("dblclick", ac.Event.Custom.btnclick.handler.handle)
                    }
                },
                onclick: function(ad) {
                    ad.stopDefaults()
                },
                handle: function(ag) {
                    var af, ad, ae;
                    ad = this.jFetch("event:btnclick:options");
                    if (ag.type != "dblclick" && ag.getButton() != ad.button) {
                        return
                    }
                    if (this.jFetch("event:btnclick:ignore")) {
                        this.jDel("event:btnclick:ignore");
                        return
                    }
                    if ("mousedown" == ag.type) {
                        af = new ac.Event.Custom.btnclick(this, ag);
                        this.jStore("event:btnclick:btnclickEvent", af)
                    } else {
                        if ("mouseup" == ag.type) {
                            af = this.jFetch("event:btnclick:btnclickEvent");
                            if (!af) {
                                return
                            }
                            ae = ag.jGetPageXY();
                            this.jDel("event:btnclick:btnclickEvent");
                            af.pushToEvents(ag);
                            if (ag.timeStamp - af.timeStamp <= ad.threshold && Math.sqrt(Math.pow(ae.x - af.x, 2) + Math.pow(ae.y - af.y, 2)) <= Z) {
                                this.jCallEvent("btnclick", af)
                            }
                            document.jCallEvent("mouseup", ag)
                        } else {
                            if (ag.type == "dblclick") {
                                af = new ac.Event.Custom.btnclick(this, ag);
                                this.jCallEvent("btnclick", af)
                            }
                        }
                    }
                }
            }
        })(V);
        (function(aa) {
            var Z = aa.$;
            aa.Event.Custom.mousedrag = new aa.Class(aa.extend(aa.Event.Custom, {
                type: "mousedrag",
                state: "dragstart",
                dragged: false,
                init: function(ae, ad, ac) {
                    var ab = ad.jGetPageXY();
                    this.x = ab.x;
                    this.y = ab.y;
                    this.clientX = ad.clientX;
                    this.clientY = ad.clientY;
                    this.timeStamp = ad.timeStamp;
                    this.button = ad.getButton();
                    this.target = ae;
                    this.pushToEvents(ad);
                    this.state = ac
                }
            }));
            aa.Event.Custom.mousedrag.handler = {
                add: function() {
                    var ac = aa.Event.Custom.mousedrag.handler.handleMouseMove.jBindAsEvent(this),
                        ab = aa.Event.Custom.mousedrag.handler.handleMouseUp.jBindAsEvent(this);
                    this.jAddEvent("mousedown", aa.Event.Custom.mousedrag.handler.handleMouseDown, 1);
                    this.jAddEvent("mouseup", aa.Event.Custom.mousedrag.handler.handleMouseUp, 1);
                    document.jAddEvent("mousemove", ac, 1);
                    document.jAddEvent("mouseup", ab, 1);
                    this.jStore("event:mousedrag:listeners:document:move", ac);
                    this.jStore("event:mousedrag:listeners:document:end", ab)
                },
                jRemove: function() {
                    this.jRemoveEvent("mousedown", aa.Event.Custom.mousedrag.handler.handleMouseDown);
                    this.jRemoveEvent("mouseup", aa.Event.Custom.mousedrag.handler.handleMouseUp);
                    Z(document).jRemoveEvent("mousemove", this.jFetch("event:mousedrag:listeners:document:move") || aa.$F);
                    Z(document).jRemoveEvent("mouseup", this.jFetch("event:mousedrag:listeners:document:end") || aa.$F);
                    this.jDel("event:mousedrag:listeners:document:move");
                    this.jDel("event:mousedrag:listeners:document:end")
                },
                handleMouseDown: function(ac) {
                    var ab;
                    if (1 != ac.getButton()) {
                        return
                    }
                    ab = new aa.Event.Custom.mousedrag(this, ac, "dragstart");
                    this.jStore("event:mousedrag:dragstart", ab)
                },
                handleMouseUp: function(ac) {
                    var ab;
                    ab = this.jFetch("event:mousedrag:dragstart");
                    if (!ab) {
                        return
                    }
                    ac.stopDefaults();
                    ab = new aa.Event.Custom.mousedrag(this, ac, "dragend");
                    this.jDel("event:mousedrag:dragstart");
                    this.jCallEvent("mousedrag", ab)
                },
                handleMouseMove: function(ac) {
                    var ab;
                    ab = this.jFetch("event:mousedrag:dragstart");
                    if (!ab) {
                        return
                    }
                    ac.stopDefaults();
                    if (!ab.dragged) {
                        ab.dragged = true;
                        this.jCallEvent("mousedrag", ab)
                    }
                    ab = new aa.Event.Custom.mousedrag(this, ac, "dragmove");
                    this.jCallEvent("mousedrag", ab)
                }
            }
        })(V);
        (function(aa) {
            var Z = aa.$;
            aa.Event.Custom.dblbtnclick = new aa.Class(aa.extend(aa.Event.Custom, {
                type: "dblbtnclick",
                timedout: false,
                tm: null,
                init: function(ad, ac) {
                    var ab = ac.jGetPageXY();
                    this.x = ab.x;
                    this.y = ab.y;
                    this.clientX = ac.clientX;
                    this.clientY = ac.clientY;
                    this.timeStamp = ac.timeStamp;
                    this.button = ac.getButton();
                    this.target = ad;
                    this.pushToEvents(ac)
                }
            }));
            aa.Event.Custom.dblbtnclick.handler = {
                options: {
                    threshold: 200
                },
                add: function(ab) {
                    this.jStore("event:dblbtnclick:options", aa.extend(aa.detach(aa.Event.Custom.dblbtnclick.handler.options), ab || {}));
                    this.jAddEvent("btnclick", aa.Event.Custom.dblbtnclick.handler.handle, 1)
                },
                jRemove: function() {
                    this.jRemoveEvent("btnclick", aa.Event.Custom.dblbtnclick.handler.handle)
                },
                handle: function(ad) {
                    var ac, ab;
                    ac = this.jFetch("event:dblbtnclick:event");
                    ab = this.jFetch("event:dblbtnclick:options");
                    if (!ac) {
                        ac = new aa.Event.Custom.dblbtnclick(this, ad);
                        ac.tm = setTimeout(function() {
                            ac.timedout = true;
                            ad.isQueueStopped = aa.$false;
                            this.jCallEvent("btnclick", ad);
                            this.jDel("event:dblbtnclick:event")
                        }.jBind(this), ab.threshold + 10);
                        this.jStore("event:dblbtnclick:event", ac);
                        ad.stopQueue()
                    } else {
                        clearTimeout(ac.tm);
                        this.jDel("event:dblbtnclick:event");
                        if (!ac.timedout) {
                            ac.pushToEvents(ad);
                            ad.stopQueue().stop();
                            this.jCallEvent("dblbtnclick", ac)
                        } else {}
                    }
                }
            }
        })(V);
        (function(af) {
            var ae = af.$;

            function Z(ag) {
                return ag.pointerType ? (("touch" === ag.pointerType || ag.MSPOINTER_TYPE_TOUCH === ag.pointerType) && ag.isPrimary) : 1 === ag.changedTouches.length && (ag.targetTouches.length ? ag.targetTouches[0].identifier == ag.changedTouches[0].identifier : true)
            }

            function ab(ag) {
                if (ag.pointerType) {
                    return ("touch" === ag.pointerType || ag.MSPOINTER_TYPE_TOUCH === ag.pointerType) ? ag.pointerId : null
                } else {
                    return ag.changedTouches[0].identifier
                }
            }

            function ac(ag) {
                if (ag.pointerType) {
                    return ("touch" === ag.pointerType || ag.MSPOINTER_TYPE_TOUCH === ag.pointerType) ? ag : null
                } else {
                    return ag.changedTouches[0]
                }
            }
            af.Event.Custom.tap = new af.Class(af.extend(af.Event.Custom, {
                type: "tap",
                id: null,
                init: function(ah, ag) {
                    var ai = ac(ag);
                    this.id = ai.pointerId || ai.identifier;
                    this.x = ai.pageX;
                    this.y = ai.pageY;
                    this.pageX = ai.pageX;
                    this.pageY = ai.pageY;
                    this.clientX = ai.clientX;
                    this.clientY = ai.clientY;
                    this.timeStamp = ag.timeStamp;
                    this.button = 0;
                    this.target = ah;
                    this.pushToEvents(ag)
                }
            }));
            var aa = 10,
                ad = 200;
            af.Event.Custom.tap.handler = {
                add: function(ag) {
                    this.jAddEvent(["touchstart", window.navigator.pointerEnabled ? "pointerdown" : "MSPointerDown"], af.Event.Custom.tap.handler.onTouchStart, 1);
                    this.jAddEvent(["touchend", window.navigator.pointerEnabled ? "pointerup" : "MSPointerUp"], af.Event.Custom.tap.handler.onTouchEnd, 1);
                    this.jAddEvent("click", af.Event.Custom.tap.handler.onClick, 1)
                },
                jRemove: function() {
                    this.jRemoveEvent(["touchstart", window.navigator.pointerEnabled ? "pointerdown" : "MSPointerDown"], af.Event.Custom.tap.handler.onTouchStart);
                    this.jRemoveEvent(["touchend", window.navigator.pointerEnabled ? "pointerup" : "MSPointerUp"], af.Event.Custom.tap.handler.onTouchEnd);
                    this.jRemoveEvent("click", af.Event.Custom.tap.handler.onClick)
                },
                onClick: function(ag) {
                    ag.stopDefaults()
                },
                onTouchStart: function(ag) {
                    if (!Z(ag)) {
                        this.jDel("event:tap:event");
                        return
                    }
                    this.jStore("event:tap:event", new af.Event.Custom.tap(this, ag));
                    this.jStore("event:btnclick:ignore", true)
                },
                onTouchEnd: function(aj) {
                    var ah = af.now(),
                        ai = this.jFetch("event:tap:event"),
                        ag = this.jFetch("event:tap:options");
                    if (!ai || !Z(aj)) {
                        return
                    }
                    this.jDel("event:tap:event");
                    if (ai.id == ab(aj) && aj.timeStamp - ai.timeStamp <= ad && Math.sqrt(Math.pow(ac(aj).pageX - ai.x, 2) + Math.pow(ac(aj).pageY - ai.y, 2)) <= aa) {
                        this.jDel("event:btnclick:btnclickEvent");
                        aj.stop();
                        ai.pushToEvents(aj);
                        this.jCallEvent("tap", ai)
                    }
                }
            }
        })(V);
        P.Event.Custom.dbltap = new P.Class(P.extend(P.Event.Custom, {
            type: "dbltap",
            timedout: false,
            tm: null,
            init: function(aa, Z) {
                this.x = Z.x;
                this.y = Z.y;
                this.clientX = Z.clientX;
                this.clientY = Z.clientY;
                this.timeStamp = Z.timeStamp;
                this.button = 0;
                this.target = aa;
                this.pushToEvents(Z)
            }
        }));
        P.Event.Custom.dbltap.handler = {
            options: {
                threshold: 300
            },
            add: function(Z) {
                this.jStore("event:dbltap:options", P.extend(P.detach(P.Event.Custom.dbltap.handler.options), Z || {}));
                this.jAddEvent("tap", P.Event.Custom.dbltap.handler.handle, 1)
            },
            jRemove: function() {
                this.jRemoveEvent("tap", P.Event.Custom.dbltap.handler.handle)
            },
            handle: function(ab) {
                var aa, Z;
                aa = this.jFetch("event:dbltap:event");
                Z = this.jFetch("event:dbltap:options");
                if (!aa) {
                    aa = new P.Event.Custom.dbltap(this, ab);
                    aa.tm = setTimeout(function() {
                        aa.timedout = true;
                        ab.isQueueStopped = P.$false;
                        this.jCallEvent("tap", ab)
                    }.jBind(this), Z.threshold + 10);
                    this.jStore("event:dbltap:event", aa);
                    ab.stopQueue()
                } else {
                    clearTimeout(aa.tm);
                    this.jDel("event:dbltap:event");
                    if (!aa.timedout) {
                        aa.pushToEvents(ab);
                        ab.stopQueue().stop();
                        this.jCallEvent("dbltap", aa)
                    } else {}
                }
            }
        };
        (function(ae) {
            var ad = ae.$;

            function Z(af) {
                return af.pointerType ? (("touch" === af.pointerType || af.MSPOINTER_TYPE_TOUCH === af.pointerType) && af.isPrimary) : 1 === af.changedTouches.length && (af.targetTouches.length ? af.targetTouches[0].identifier == af.changedTouches[0].identifier : true)
            }

            function ab(af) {
                if (af.pointerType) {
                    return ("touch" === af.pointerType || af.MSPOINTER_TYPE_TOUCH === af.pointerType) ? af.pointerId : null
                } else {
                    return af.changedTouches[0].identifier
                }
            }

            function ac(af) {
                if (af.pointerType) {
                    return ("touch" === af.pointerType || af.MSPOINTER_TYPE_TOUCH === af.pointerType) ? af : null
                } else {
                    return af.changedTouches[0]
                }
            }
            var aa = 10;
            ae.Event.Custom.touchdrag = new ae.Class(ae.extend(ae.Event.Custom, {
                type: "touchdrag",
                state: "dragstart",
                id: null,
                dragged: false,
                init: function(ah, ag, af) {
                    var ai = ac(ag);
                    this.id = ai.pointerId || ai.identifier;
                    this.clientX = ai.clientX;
                    this.clientY = ai.clientY;
                    this.pageX = ai.pageX;
                    this.pageY = ai.pageY;
                    this.x = ai.pageX;
                    this.y = ai.pageY;
                    this.timeStamp = ag.timeStamp;
                    this.button = 0;
                    this.target = ah;
                    this.pushToEvents(ag);
                    this.state = af
                }
            }));
            ae.Event.Custom.touchdrag.handler = {
                add: function() {
                    var ag = ae.Event.Custom.touchdrag.handler.onTouchMove.jBind(this),
                        af = ae.Event.Custom.touchdrag.handler.onTouchEnd.jBind(this);
                    this.jAddEvent(["touchstart", window.navigator.pointerEnabled ? "pointerdown" : "MSPointerDown"], ae.Event.Custom.touchdrag.handler.onTouchStart, 1);
                    this.jAddEvent(["touchend", window.navigator.pointerEnabled ? "pointerup" : "MSPointerUp"], ae.Event.Custom.touchdrag.handler.onTouchEnd, 1);
                    this.jAddEvent(["touchmove", window.navigator.pointerEnabled ? "pointermove" : "MSPointerMove"], ae.Event.Custom.touchdrag.handler.onTouchMove, 1);
                    this.jStore("event:touchdrag:listeners:document:move", ag);
                    this.jStore("event:touchdrag:listeners:document:end", af);
                    ad(document).jAddEvent(window.navigator.pointerEnabled ? "pointermove" : "MSPointerMove", ag, 1);
                    ad(document).jAddEvent(window.navigator.pointerEnabled ? "pointerup" : "MSPointerUp", af, 1)
                },
                jRemove: function() {
                    this.jRemoveEvent(["touchstart", window.navigator.pointerEnabled ? "pointerdown" : "MSPointerDown"], ae.Event.Custom.touchdrag.handler.onTouchStart);
                    this.jRemoveEvent(["touchend", window.navigator.pointerEnabled ? "pointerup" : "MSPointerUp"], ae.Event.Custom.touchdrag.handler.onTouchEnd);
                    this.jRemoveEvent(["touchmove", window.navigator.pointerEnabled ? "pointermove" : "MSPointerMove"], ae.Event.Custom.touchdrag.handler.onTouchMove);
                    ad(document).jRemoveEvent(window.navigator.pointerEnabled ? "pointermove" : "MSPointerMove", this.jFetch("event:touchdrag:listeners:document:move") || ae.$F, 1);
                    ad(document).jRemoveEvent(window.navigator.pointerEnabled ? "pointerup" : "MSPointerUp", this.jFetch("event:touchdrag:listeners:document:end") || ae.$F, 1);
                    this.jDel("event:touchdrag:listeners:document:move");
                    this.jDel("event:touchdrag:listeners:document:end")
                },
                onTouchStart: function(ag) {
                    var af;
                    if (!Z(ag)) {
                        return
                    }
                    af = new ae.Event.Custom.touchdrag(this, ag, "dragstart");
                    this.jStore("event:touchdrag:dragstart", af)
                },
                onTouchEnd: function(ag) {
                    var af;
                    af = this.jFetch("event:touchdrag:dragstart");
                    if (!af || !af.dragged || af.id != ab(ag)) {
                        return
                    }
                    af = new ae.Event.Custom.touchdrag(this, ag, "dragend");
                    this.jDel("event:touchdrag:dragstart");
                    this.jCallEvent("touchdrag", af)
                },
                onTouchMove: function(ag) {
                    var af;
                    af = this.jFetch("event:touchdrag:dragstart");
                    if (!af || !Z(ag)) {
                        return
                    }
                    if (af.id != ab(ag)) {
                        this.jDel("event:touchdrag:dragstart");
                        return
                    }
                    if (!af.dragged && Math.sqrt(Math.pow(ac(ag).pageX - af.x, 2) + Math.pow(ac(ag).pageY - af.y, 2)) > aa) {
                        af.dragged = true;
                        this.jCallEvent("touchdrag", af)
                    }
                    if (!af.dragged) {
                        return
                    }
                    af = new ae.Event.Custom.touchdrag(this, ag, "dragmove");
                    this.jCallEvent("touchdrag", af)
                }
            }
        })(V);
        P.Event.Custom.touchpinch = new P.Class(P.extend(P.Event.Custom, {
            type: "touchpinch",
            scale: 1,
            previousScale: 1,
            curScale: 1,
            state: "pinchstart",
            init: function(aa, Z) {
                this.timeStamp = Z.timeStamp;
                this.button = 0;
                this.target = aa;
                this.x = Z.touches[0].clientX + (Z.touches[1].clientX - Z.touches[0].clientX) / 2;
                this.y = Z.touches[0].clientY + (Z.touches[1].clientY - Z.touches[0].clientY) / 2;
                this._initialDistance = Math.sqrt(Math.pow(Z.touches[0].clientX - Z.touches[1].clientX, 2) + Math.pow(Z.touches[0].clientY - Z.touches[1].clientY, 2));
                this.pushToEvents(Z)
            },
            update: function(Z) {
                var aa;
                this.state = "pinchupdate";
                if (Z.changedTouches[0].identifier != this.events[0].touches[0].identifier || Z.changedTouches[1].identifier != this.events[0].touches[1].identifier) {
                    return
                }
                aa = Math.sqrt(Math.pow(Z.changedTouches[0].clientX - Z.changedTouches[1].clientX, 2) + Math.pow(Z.changedTouches[0].clientY - Z.changedTouches[1].clientY, 2));
                this.previousScale = this.scale;
                this.scale = aa / this._initialDistance;
                this.curScale = this.scale / this.previousScale;
                this.x = Z.changedTouches[0].clientX + (Z.changedTouches[1].clientX - Z.changedTouches[0].clientX) / 2;
                this.y = Z.changedTouches[0].clientY + (Z.changedTouches[1].clientY - Z.changedTouches[0].clientY) / 2;
                this.pushToEvents(Z)
            }
        }));
        P.Event.Custom.touchpinch.handler = {
            add: function() {
                this.jAddEvent("touchstart", P.Event.Custom.touchpinch.handler.handleTouchStart, 1);
                this.jAddEvent("touchend", P.Event.Custom.touchpinch.handler.handleTouchEnd, 1);
                this.jAddEvent("touchmove", P.Event.Custom.touchpinch.handler.handleTouchMove, 1)
            },
            jRemove: function() {
                this.jRemoveEvent("touchstart", P.Event.Custom.touchpinch.handler.handleTouchStart);
                this.jRemoveEvent("touchend", P.Event.Custom.touchpinch.handler.handleTouchEnd);
                this.jRemoveEvent("touchmove", P.Event.Custom.touchpinch.handler.handleTouchMove)
            },
            handleTouchStart: function(aa) {
                var Z;
                if (aa.touches.length != 2) {
                    return
                }
                aa.stopDefaults();
                Z = new P.Event.Custom.touchpinch(this, aa);
                this.jStore("event:touchpinch:event", Z)
            },
            handleTouchEnd: function(aa) {
                var Z;
                Z = this.jFetch("event:touchpinch:event");
                if (!Z) {
                    return
                }
                aa.stopDefaults();
                this.jDel("event:touchpinch:event")
            },
            handleTouchMove: function(aa) {
                var Z;
                Z = this.jFetch("event:touchpinch:event");
                if (!Z) {
                    return
                }
                aa.stopDefaults();
                Z.update(aa);
                this.jCallEvent("touchpinch", Z)
            }
        };
        (function(ae) {
            var ac = ae.$;
            ae.Event.Custom.mousescroll = new ae.Class(ae.extend(ae.Event.Custom, {
                type: "mousescroll",
                init: function(ak, aj, am, ag, af, al, ah) {
                    var ai = aj.jGetPageXY();
                    this.x = ai.x;
                    this.y = ai.y;
                    this.timeStamp = aj.timeStamp;
                    this.target = ak;
                    this.delta = am || 0;
                    this.deltaX = ag || 0;
                    this.deltaY = af || 0;
                    this.deltaZ = al || 0;
                    this.deltaFactor = ah || 0;
                    this.deltaMode = aj.deltaMode || 0;
                    this.isMouse = false;
                    this.pushToEvents(aj)
                }
            }));
            var ad, aa;

            function Z() {
                ad = null
            }

            function ab(af, ag) {
                return (af > 50) || (1 === ag && !("win" == ae.browser.platform && af < 1)) || (0 === af % 12) || (0 == af % 4.000244140625)
            }
            ae.Event.Custom.mousescroll.handler = {
                eventType: "onwheel" in document || ae.browser.ieMode > 8 ? "wheel" : "mousewheel",
                add: function() {
                    this.jAddEvent(ae.Event.Custom.mousescroll.handler.eventType, ae.Event.Custom.mousescroll.handler.handle, 1)
                },
                jRemove: function() {
                    this.jRemoveEvent(ae.Event.Custom.mousescroll.handler.eventType, ae.Event.Custom.mousescroll.handler.handle, 1)
                },
                handle: function(ak) {
                    var al = 0,
                        ai = 0,
                        ag = 0,
                        af = 0,
                        aj, ah;
                    if (ak.detail) {
                        ag = ak.detail * -1
                    }
                    if (ak.wheelDelta !== undefined) {
                        ag = ak.wheelDelta
                    }
                    if (ak.wheelDeltaY !== undefined) {
                        ag = ak.wheelDeltaY
                    }
                    if (ak.wheelDeltaX !== undefined) {
                        ai = ak.wheelDeltaX * -1
                    }
                    if (ak.deltaY) {
                        ag = -1 * ak.deltaY
                    }
                    if (ak.deltaX) {
                        ai = ak.deltaX
                    }
                    if (0 === ag && 0 === ai) {
                        return
                    }
                    al = 0 === ag ? ai : ag;
                    af = Math.max(Math.abs(ag), Math.abs(ai));
                    if (!ad || af < ad) {
                        ad = af
                    }
                    aj = al > 0 ? "floor" : "ceil";
                    al = Math[aj](al / ad);
                    ai = Math[aj](ai / ad);
                    ag = Math[aj](ag / ad);
                    if (aa) {
                        clearTimeout(aa)
                    }
                    aa = setTimeout(Z, 200);
                    ah = new ae.Event.Custom.mousescroll(this, ak, al, ai, ag, 0, ad);
                    ah.isMouse = ab(ad, ak.deltaMode || 0);
                    this.jCallEvent("mousescroll", ah)
                }
            }
        })(V);
        P.win = P.$(window);
        P.doc = P.$(document);
        return V
    })();
    (function(L) {
        if (!L) {
            throw "MagicJS not found"
        }
        var K = L.$;
        var J = window.URL || window.webkitURL || null;
        z.ImageLoader = new L.Class({
            img: null,
            ready: false,
            options: {
                onprogress: L.$F,
                onload: L.$F,
                onabort: L.$F,
                onerror: L.$F,
                oncomplete: L.$F,
                onxhrerror: L.$F,
                xhr: false,
                progressiveLoad: true
            },
            size: null,
            _timer: null,
            loadedBytes: 0,
            _handlers: {
                onprogress: function(M) {
                    if (M.target && (200 === M.target.status || 304 === M.target.status) && M.lengthComputable) {
                        this.options.onprogress.jBind(null, (M.loaded - (this.options.progressiveLoad ? this.loadedBytes : 0)) / M.total).jDelay(1);
                        this.loadedBytes = M.loaded
                    }
                },
                onload: function(M) {
                    if (M) {
                        K(M).stop()
                    }
                    this._unbind();
                    if (this.ready) {
                        return
                    }
                    this.ready = true;
                    this._cleanup();
                    !this.options.xhr && this.options.onprogress.jBind(null, 1).jDelay(1);
                    this.options.onload.jBind(null, this).jDelay(1);
                    this.options.oncomplete.jBind(null, this).jDelay(1)
                },
                onabort: function(M) {
                    if (M) {
                        K(M).stop()
                    }
                    this._unbind();
                    this.ready = false;
                    this._cleanup();
                    this.options.onabort.jBind(null, this).jDelay(1);
                    this.options.oncomplete.jBind(null, this).jDelay(1)
                },
                onerror: function(M) {
                    if (M) {
                        K(M).stop()
                    }
                    this._unbind();
                    this.ready = false;
                    this._cleanup();
                    this.options.onerror.jBind(null, this).jDelay(1);
                    this.options.oncomplete.jBind(null, this).jDelay(1)
                }
            },
            _bind: function() {
                K(["load", "abort", "error"]).jEach(function(M) {
                    this.img.jAddEvent(M, this._handlers["on" + M].jBindAsEvent(this).jDefer(1))
                }, this)
            },
            _unbind: function() {
                if (this._timer) {
                    try {
                        clearTimeout(this._timer)
                    } catch (M) {}
                    this._timer = null
                }
                K(["load", "abort", "error"]).jEach(function(N) {
                    this.img.jRemoveEvent(N)
                }, this)
            },
            _cleanup: function() {
                this.jGetSize();
                if (this.img.jFetch("new")) {
                    var M = this.img.parentNode;
                    this.img.jRemove().jDel("new").jSetCss({
                        position: "static",
                        top: "auto"
                    });
                    M.kill()
                }
            },
            loadBlob: function(N) {
                var O = new XMLHttpRequest(),
                    M;
                K(["abort", "progress"]).jEach(function(P) {
                    O["on" + P] = K(function(Q) {
                        this._handlers["on" + P].call(this, Q)
                    }).jBind(this)
                }, this);
                O.onerror = K(function() {
                    this.options.onxhrerror.jBind(null, this).jDelay(1);
                    this.options.xhr = false;
                    this._bind();
                    this.img.src = N
                }).jBind(this);
                O.onload = K(function() {
                    if (200 !== O.status && 304 !== O.status) {
                        this._handlers.onerror.call(this);
                        return
                    }
                    M = O.response;
                    this._bind();
                    if (J && !L.browser.trident && !("ios" === L.browser.platform && L.browser.version < 537)) {
                        this.img.setAttribute("src", J.createObjectURL(M))
                    } else {
                        this.img.src = N
                    }
                }).jBind(this);
                O.open("GET", N);
                O.responseType = "blob";
                O.send()
            },
            init: function(N, M) {
                this.options = L.extend(this.options, M);
                this.img = K(N) || L.$new("img", {}, {
                    "max-width": "none",
                    "max-height": "none"
                }).jAppendTo(L.$new("div").jAddClass("magic-temporary-img").jSetCss({
                    position: "absolute",
                    top: -10000,
                    width: 10,
                    height: 10,
                    overflow: "hidden"
                }).jAppendTo(document.body)).jStore("new", true);
                if (L.browser.features.xhr2 && this.options.xhr && "string" == L.jTypeOf(N)) {
                    this.loadBlob(N);
                    return
                }
                var O = function() {
                    if (this.isReady()) {
                        this._handlers.onload.call(this)
                    } else {
                        this._handlers.onerror.call(this)
                    }
                    O = null
                }.jBind(this);
                this._bind();
                if ("string" == L.jTypeOf(N)) {
                    this.img.src = N
                } else {
                    if (L.browser.trident && 5 == L.browser.version && L.browser.ieMode < 9) {
                        this.img.onreadystatechange = function() {
                            if (/loaded|complete/.test(this.img.readyState)) {
                                this.img.onreadystatechange = null;
                                O && O()
                            }
                        }.jBind(this)
                    }
                    this.img.src = N.getAttribute("src")
                }
                this.img && this.img.complete && O && (this._timer = O.jDelay(100))
            },
            destroy: function() {
                this._unbind();
                this._cleanup();
                this.ready = false;
                return this
            },
            isReady: function() {
                var M = this.img;
                return (M.naturalWidth) ? (M.naturalWidth > 0) : (M.readyState) ? ("complete" == M.readyState) : M.width > 0
            },
            jGetSize: function() {
                return this.size || (this.size = {
                    width: this.img.naturalWidth || this.img.width,
                    height: this.img.naturalHeight || this.img.height
                })
            }
        })
    })(z);
    (function(K) {
        if (!K) {
            throw "MagicJS not found"
        }
        if (K.FX) {
            return
        }
        var J = K.$;
        K.FX = new K.Class({
            init: function(M, L) {
                var N;
                this.el = K.$(M);
                this.options = K.extend(this.options, L);
                this.timer = false;
                this.easeFn = this.cubicBezierAtTime;
                N = K.FX.Transition[this.options.transition] || this.options.transition;
                if ("function" === K.jTypeOf(N)) {
                    this.easeFn = N
                } else {
                    this.cubicBezier = this.parseCubicBezier(N) || this.parseCubicBezier("ease")
                }
                if ("string" == K.jTypeOf(this.options.cycles)) {
                    this.options.cycles = "infinite" === this.options.cycles ? Infinity : parseInt(this.options.cycles) || 1
                }
            },
            options: {
                fps: 60,
                duration: 600,
                transition: "ease",
                cycles: 1,
                direction: "normal",
                onStart: K.$F,
                onComplete: K.$F,
                onBeforeRender: K.$F,
                onAfterRender: K.$F,
                forceAnimation: false,
                roundCss: false
            },
            styles: null,
            cubicBezier: null,
            easeFn: null,
            setTransition: function(L) {
                this.options.transition = L;
                L = K.FX.Transition[this.options.transition] || this.options.transition;
                if ("function" === K.jTypeOf(L)) {
                    this.easeFn = L
                } else {
                    this.easeFn = this.cubicBezierAtTime;
                    this.cubicBezier = this.parseCubicBezier(L) || this.parseCubicBezier("ease")
                }
            },
            start: function(N) {
                var L = /\%$/,
                    M;
                this.styles = N || {};
                this.cycle = 0;
                this.state = 0;
                this.curFrame = 0;
                this.pStyles = {};
                this.alternate = "alternate" === this.options.direction || "alternate-reverse" === this.options.direction;
                this.continuous = "continuous" === this.options.direction || "continuous-reverse" === this.options.direction;
                for (M in this.styles) {
                    L.test(this.styles[M][0]) && (this.pStyles[M] = true);
                    if ("reverse" === this.options.direction || "alternate-reverse" === this.options.direction || "continuous-reverse" === this.options.direction) {
                        this.styles[M].reverse()
                    }
                }
                this.startTime = K.now();
                this.finishTime = this.startTime + this.options.duration;
                this.options.onStart.call();
                if (0 === this.options.duration) {
                    this.render(1);
                    this.options.onComplete.call()
                } else {
                    this.loopBind = this.loop.jBind(this);
                    if (!this.options.forceAnimation && K.browser.features.requestAnimationFrame) {
                        this.timer = K.browser.requestAnimationFrame.call(window, this.loopBind)
                    } else {
                        this.timer = this.loopBind.interval(Math.round(1000 / this.options.fps))
                    }
                }
                return this
            },
            stopAnimation: function() {
                if (this.timer) {
                    if (!this.options.forceAnimation && K.browser.features.requestAnimationFrame && K.browser.cancelAnimationFrame) {
                        K.browser.cancelAnimationFrame.call(window, this.timer)
                    } else {
                        clearInterval(this.timer)
                    }
                    this.timer = false
                }
            },
            stop: function(L) {
                L = K.defined(L) ? L : false;
                this.stopAnimation();
                if (L) {
                    this.render(1);
                    this.options.onComplete.jDelay(10)
                }
                return this
            },
            calc: function(N, M, L) {
                N = parseFloat(N);
                M = parseFloat(M);
                return (M - N) * L + N
            },
            loop: function() {
                var M = K.now(),
                    L = (M - this.startTime) / this.options.duration,
                    N = Math.floor(L);
                if (M >= this.finishTime && N >= this.options.cycles) {
                    this.stopAnimation();
                    this.render(1);
                    this.options.onComplete.jDelay(10);
                    return this
                }
                if (this.alternate && this.cycle < N) {
                    for (var O in this.styles) {
                        this.styles[O].reverse()
                    }
                }
                this.cycle = N;
                if (!this.options.forceAnimation && K.browser.features.requestAnimationFrame) {
                    this.timer = K.browser.requestAnimationFrame.call(window, this.loopBind)
                }
                this.render((this.continuous ? N : 0) + this.easeFn(L % 1))
            },
            render: function(L) {
                var M = {},
                    O = L;
                for (var N in this.styles) {
                    if ("opacity" === N) {
                        M[N] = Math.round(this.calc(this.styles[N][0], this.styles[N][1], L) * 100) / 100
                    } else {
                        M[N] = this.calc(this.styles[N][0], this.styles[N][1], L);
                        this.pStyles[N] && (M[N] += "%")
                    }
                }
                this.options.onBeforeRender(M, this.el);
                this.set(M);
                this.options.onAfterRender(M, this.el)
            },
            set: function(L) {
                return this.el.jSetCss(L)
            },
            parseCubicBezier: function(L) {
                var M, N = null;
                if ("string" !== K.jTypeOf(L)) {
                    return null
                }
                switch (L) {
                    case "linear":
                        N = J([0, 0, 1, 1]);
                        break;
                    case "ease":
                        N = J([0.25, 0.1, 0.25, 1]);
                        break;
                    case "ease-in":
                        N = J([0.42, 0, 1, 1]);
                        break;
                    case "ease-out":
                        N = J([0, 0, 0.58, 1]);
                        break;
                    case "ease-in-out":
                        N = J([0.42, 0, 0.58, 1]);
                        break;
                    case "easeInSine":
                        N = J([0.47, 0, 0.745, 0.715]);
                        break;
                    case "easeOutSine":
                        N = J([0.39, 0.575, 0.565, 1]);
                        break;
                    case "easeInOutSine":
                        N = J([0.445, 0.05, 0.55, 0.95]);
                        break;
                    case "easeInQuad":
                        N = J([0.55, 0.085, 0.68, 0.53]);
                        break;
                    case "easeOutQuad":
                        N = J([0.25, 0.46, 0.45, 0.94]);
                        break;
                    case "easeInOutQuad":
                        N = J([0.455, 0.03, 0.515, 0.955]);
                        break;
                    case "easeInCubic":
                        N = J([0.55, 0.055, 0.675, 0.19]);
                        break;
                    case "easeOutCubic":
                        N = J([0.215, 0.61, 0.355, 1]);
                        break;
                    case "easeInOutCubic":
                        N = J([0.645, 0.045, 0.355, 1]);
                        break;
                    case "easeInQuart":
                        N = J([0.895, 0.03, 0.685, 0.22]);
                        break;
                    case "easeOutQuart":
                        N = J([0.165, 0.84, 0.44, 1]);
                        break;
                    case "easeInOutQuart":
                        N = J([0.77, 0, 0.175, 1]);
                        break;
                    case "easeInQuint":
                        N = J([0.755, 0.05, 0.855, 0.06]);
                        break;
                    case "easeOutQuint":
                        N = J([0.23, 1, 0.32, 1]);
                        break;
                    case "easeInOutQuint":
                        N = J([0.86, 0, 0.07, 1]);
                        break;
                    case "easeInExpo":
                        N = J([0.95, 0.05, 0.795, 0.035]);
                        break;
                    case "easeOutExpo":
                        N = J([0.19, 1, 0.22, 1]);
                        break;
                    case "easeInOutExpo":
                        N = J([1, 0, 0, 1]);
                        break;
                    case "easeInCirc":
                        N = J([0.6, 0.04, 0.98, 0.335]);
                        break;
                    case "easeOutCirc":
                        N = J([0.075, 0.82, 0.165, 1]);
                        break;
                    case "easeInOutCirc":
                        N = J([0.785, 0.135, 0.15, 0.86]);
                        break;
                    case "easeInBack":
                        N = J([0.6, -0.28, 0.735, 0.045]);
                        break;
                    case "easeOutBack":
                        N = J([0.175, 0.885, 0.32, 1.275]);
                        break;
                    case "easeInOutBack":
                        N = J([0.68, -0.55, 0.265, 1.55]);
                        break;
                    default:
                        L = L.replace(/\s/g, "");
                        if (L.match(/^cubic-bezier\((?:-?[0-9\.]{0,}[0-9]{1,},){3}(?:-?[0-9\.]{0,}[0-9]{1,})\)$/)) {
                            N = L.replace(/^cubic-bezier\s*\(|\)$/g, "").split(",");
                            for (M = N.length - 1; M >= 0; M--) {
                                N[M] = parseFloat(N[M])
                            }
                        }
                }
                return J(N)
            },
            cubicBezierAtTime: function(X) {
                var L = 0,
                    W = 0,
                    T = 0,
                    Y = 0,
                    V = 0,
                    R = 0,
                    S = this.options.duration;

                function Q(Z) {
                    return ((L * Z + W) * Z + T) * Z
                }

                function P(Z) {
                    return ((Y * Z + V) * Z + R) * Z
                }

                function N(Z) {
                    return (3 * L * Z + 2 * W) * Z + T
                }

                function U(Z) {
                    return 1 / (200 * Z)
                }

                function M(Z, aa) {
                    return P(O(Z, aa))
                }

                function O(ag, ah) {
                    var af, ae, ad, aa, Z, ac;

                    function ab(ai) {
                        if (ai >= 0) {
                            return ai
                        } else {
                            return 0 - ai
                        }
                    }
                    for (ad = ag, ac = 0; ac < 8; ac++) {
                        aa = Q(ad) - ag;
                        if (ab(aa) < ah) {
                            return ad
                        }
                        Z = N(ad);
                        if (ab(Z) < 0.000001) {
                            break
                        }
                        ad = ad - aa / Z
                    }
                    af = 0;
                    ae = 1;
                    ad = ag;
                    if (ad < af) {
                        return af
                    }
                    if (ad > ae) {
                        return ae
                    }
                    while (af < ae) {
                        aa = Q(ad);
                        if (ab(aa - ag) < ah) {
                            return ad
                        }
                        if (ag > aa) {
                            af = ad
                        } else {
                            ae = ad
                        }
                        ad = (ae - af) * 0.5 + af
                    }
                    return ad
                }
                T = 3 * this.cubicBezier[0];
                W = 3 * (this.cubicBezier[2] - this.cubicBezier[0]) - T;
                L = 1 - T - W;
                R = 3 * this.cubicBezier[1];
                V = 3 * (this.cubicBezier[3] - this.cubicBezier[1]) - R;
                Y = 1 - R - V;
                return M(X, U(S))
            }
        });
        K.FX.Transition = {
            linear: "linear",
            sineIn: "easeInSine",
            sineOut: "easeOutSine",
            expoIn: "easeInExpo",
            expoOut: "easeOutExpo",
            quadIn: "easeInQuad",
            quadOut: "easeOutQuad",
            cubicIn: "easeInCubic",
            cubicOut: "easeOutCubic",
            backIn: "easeInBack",
            backOut: "easeOutBack",
            elasticIn: function(M, L) {
                L = L || [];
                return Math.pow(2, 10 * --M) * Math.cos(20 * M * Math.PI * (L[0] || 1) / 3)
            },
            elasticOut: function(M, L) {
                return 1 - K.FX.Transition.elasticIn(1 - M, L)
            },
            bounceIn: function(N) {
                for (var M = 0, L = 1; 1; M += L, L /= 2) {
                    if (N >= (7 - 4 * M) / 11) {
                        return L * L - Math.pow((11 - 6 * M - 11 * N) / 4, 2)
                    }
                }
            },
            bounceOut: function(L) {
                return 1 - K.FX.Transition.bounceIn(1 - L)
            },
            none: function(L) {
                return 0
            }
        }
    })(z);
    (function(K) {
        if (!K) {
            throw "MagicJS not found"
        }
        if (K.PFX) {
            return
        }
        var J = K.$;
        K.PFX = new K.Class(K.FX, {
            init: function(L, M) {
                this.el_arr = L;
                this.options = K.extend(this.options, M);
                this.timer = false;
                this.$parent.init()
            },
            start: function(P) {
                var L = /\%$/,
                    O, N, M = P.length;
                this.styles_arr = P;
                this.pStyles_arr = new Array(M);
                for (N = 0; N < M; N++) {
                    this.pStyles_arr[N] = {};
                    for (O in P[N]) {
                        L.test(P[N][O][0]) && (this.pStyles_arr[N][O] = true);
                        if ("reverse" === this.options.direction || "alternate-reverse" === this.options.direction || "continuous-reverse" === this.options.direction) {
                            this.styles_arr[N][O].reverse()
                        }
                    }
                }
                this.$parent.start({});
                return this
            },
            render: function(L) {
                for (var M = 0; M < this.el_arr.length; M++) {
                    this.el = K.$(this.el_arr[M]);
                    this.styles = this.styles_arr[M];
                    this.pStyles = this.pStyles_arr[M];
                    this.$parent.render(L)
                }
            }
        })
    })(z);
    (function(K) {
        if (!K) {
            throw "MagicJS not found";
            return
        }
        if (K.Tooltip) {
            return
        }
        var J = K.$;
        K.Tooltip = function(M, N) {
            var L = this.tooltip = K.$new("div", null, {
                position: "absolute",
                "z-index": 999
            }).jAddClass("MagicToolboxTooltip");
            K.$(M).jAddEvent("mouseover", function() {
                L.jAppendTo(document.body)
            });
            K.$(M).jAddEvent("mouseout", function() {
                L.jRemove()
            });
            K.$(M).jAddEvent("mousemove", function(S) {
                var U = 20,
                    R = K.$(S).jGetPageXY(),
                    Q = L.jGetSize(),
                    P = K.$(window).jGetSize(),
                    T = K.$(window).jGetScroll();

                function O(X, V, W) {
                    return (W < (X - V) / 2) ? W : ((W > (X + V) / 2) ? (W - V) : (X - V) / 2)
                }
                L.jSetCss({
                    left: T.x + O(P.width, Q.width + 2 * U, R.x - T.x) + U,
                    top: T.y + O(P.height, Q.height + 2 * U, R.y - T.y) + U
                })
            });
            this.text(N)
        };
        K.Tooltip.prototype.text = function(L) {
            this.tooltip.firstChild && this.tooltip.removeChild(this.tooltip.firstChild);
            this.tooltip.append(document.createTextNode(L))
        }
    })(z);
    (function(K) {
        if (!K) {
            throw "MagicJS not found";
            return
        }
        if (K.MessageBox) {
            return
        }
        var J = K.$;
        K.Message = function(O, N, M, L) {
            this.hideTimer = null;
            this.messageBox = K.$new("span", null, {
                position: "absolute",
                "z-index": 999,
                visibility: "hidden",
                opacity: 0.8
            }).jAddClass(L || "").jAppendTo(M || document.body);
            this.setMessage(O);
            this.show(N)
        };
        K.Message.prototype.show = function(L) {
            this.messageBox.show();
            this.hideTimer = this.hide.jBind(this).jDelay(K.ifndef(L, 5000))
        };
        K.Message.prototype.hide = function(L) {
            clearTimeout(this.hideTimer);
            this.hideTimer = null;
            if (this.messageBox && !this.hideFX) {
                this.hideFX = new z.FX(this.messageBox, {
                    duration: K.ifndef(L, 500),
                    onComplete: function() {
                        this.messageBox.kill();
                        delete this.messageBox;
                        this.hideFX = null
                    }.jBind(this)
                }).start({
                    opacity: [this.messageBox.jGetCss("opacity"), 0]
                })
            }
        };
        K.Message.prototype.setMessage = function(L) {
            this.messageBox.firstChild && this.tooltip.removeChild(this.messageBox.firstChild);
            this.messageBox.append(document.createTextNode(L))
        }
    })(z);
    (function(K) {
        if (!K) {
            throw "MagicJS not found"
        }
        if (K.Options) {
            return
        }
        var N = K.$,
            J = null,
            R = {
                "boolean": 1,
                array: 2,
                number: 3,
                "function": 4,
                string: 100
            },
            L = {
                "boolean": function(U, T, S) {
                    if ("boolean" != K.jTypeOf(T)) {
                        if (S || "string" != K.jTypeOf(T)) {
                            return false
                        } else {
                            if (!/^(true|false)$/.test(T)) {
                                return false
                            } else {
                                T = T.jToBool()
                            }
                        }
                    }
                    if (U.hasOwnProperty("enum") && !N(U["enum"]).contains(T)) {
                        return false
                    }
                    J = T;
                    return true
                },
                string: function(U, T, S) {
                    if ("string" !== K.jTypeOf(T)) {
                        return false
                    } else {
                        if (U.hasOwnProperty("enum") && !N(U["enum"]).contains(T)) {
                            return false
                        } else {
                            J = "" + T;
                            return true
                        }
                    }
                },
                number: function(V, U, T) {
                    var S = false,
                        X = /%$/,
                        W = (K.jTypeOf(U) == "string" && X.test(U));
                    if (T && !"number" == typeof U) {
                        return false
                    }
                    U = parseFloat(U);
                    if (isNaN(U)) {
                        return false
                    }
                    if (isNaN(V.minimum)) {
                        V.minimum = Number.NEGATIVE_INFINITY
                    }
                    if (isNaN(V.maximum)) {
                        V.maximum = Number.POSITIVE_INFINITY
                    }
                    if (V.hasOwnProperty("enum") && !N(V["enum"]).contains(U)) {
                        return false
                    }
                    if (V.minimum > U || U > V.maximum) {
                        return false
                    }
                    J = W ? (U + "%") : U;
                    return true
                },
                array: function(V, T, S) {
                    if ("string" === K.jTypeOf(T)) {
                        try {
                            T = window.JSON.parse(T)
                        } catch (U) {
                            return false
                        }
                    }
                    if (K.jTypeOf(T) === "array") {
                        J = T;
                        return true
                    } else {
                        return false
                    }
                },
                "function": function(U, T, S) {
                    if (K.jTypeOf(T) === "function") {
                        J = T;
                        return true
                    } else {
                        return false
                    }
                }
            },
            M = function(X, W, T) {
                var V;
                V = X.hasOwnProperty("oneOf") ? X.oneOf : [X];
                if ("array" != K.jTypeOf(V)) {
                    return false
                }
                for (var U = 0, S = V.length - 1; U <= S; U++) {
                    if (L[V[U].type](V[U], W, T)) {
                        return true
                    }
                }
                return false
            },
            P = function(X) {
                var V, U, W, S, T;
                if (X.hasOwnProperty("oneOf")) {
                    S = X.oneOf.length;
                    for (V = 0; V < S; V++) {
                        for (U = V + 1; U < S; U++) {
                            if (R[X.oneOf[V]["type"]] > R[X.oneOf[U].type]) {
                                T = X.oneOf[V];
                                X.oneOf[V] = X.oneOf[U];
                                X.oneOf[U] = T
                            }
                        }
                    }
                }
                return X
            },
            Q = function(V) {
                var U;
                U = V.hasOwnProperty("oneOf") ? V.oneOf : [V];
                if ("array" != K.jTypeOf(U)) {
                    return false
                }
                for (var T = U.length - 1; T >= 0; T--) {
                    if (!U[T].type || !R.hasOwnProperty(U[T].type)) {
                        return false
                    }
                    if (K.defined(U[T]["enum"])) {
                        if ("array" !== K.jTypeOf(U[T]["enum"])) {
                            return false
                        }
                        for (var S = U[T]["enum"].length - 1; S >= 0; S--) {
                            if (!L[U[T].type]({
                                    type: U[T].type
                                }, U[T]["enum"][S], true)) {
                                return false
                            }
                        }
                    }
                }
                if (V.hasOwnProperty("default") && !M(V, V["default"], true)) {
                    return false
                }
                return true
            },
            O = function(S) {
                this.schema = {};
                this.options = {};
                this.parseSchema(S)
            };
        K.extend(O.prototype, {
            parseSchema: function(U) {
                var T, S, V;
                for (T in U) {
                    if (!U.hasOwnProperty(T)) {
                        continue
                    }
                    S = (T + "").jTrim().jCamelize();
                    if (!this.schema.hasOwnProperty(S)) {
                        this.schema[S] = P(U[T]);
                        if (!Q(this.schema[S])) {
                            throw "Incorrect definition of the '" + T + "' parameter in " + U
                        }
                        this.options[S] = undefined
                    }
                }
            },
            set: function(T, S) {
                T = (T + "").jTrim().jCamelize();
                if (K.jTypeOf(S) == "string") {
                    S = S.jTrim()
                }
                if (this.schema.hasOwnProperty(T)) {
                    J = S;
                    if (M(this.schema[T], S)) {
                        this.options[T] = J
                    }
                    J = null
                }
            },
            get: function(S) {
                S = (S + "").jTrim().jCamelize();
                if (this.schema.hasOwnProperty(S)) {
                    return K.defined(this.options[S]) ? this.options[S] : this.schema[S]["default"]
                }
            },
            fromJSON: function(T) {
                for (var S in T) {
                    this.set(S, T[S])
                }
            },
            getJSON: function() {
                var T = K.extend({}, this.options);
                for (var S in T) {
                    if (undefined === T[S] && undefined !== this.schema[S]["default"]) {
                        T[S] = this.schema[S]["default"]
                    }
                }
                return T
            },
            fromString: function(S) {
                N(S.split(";")).jEach(N(function(T) {
                    T = T.split(":");
                    this.set(T.shift().jTrim(), T.join(":"))
                }).jBind(this))
            },
            exists: function(S) {
                S = (S + "").jTrim().jCamelize();
                return this.schema.hasOwnProperty(S)
            },
            isset: function(S) {
                S = (S + "").jTrim().jCamelize();
                return this.exists(S) && K.defined(this.options[S])
            },
            jRemove: function(S) {
                S = (S + "").jTrim().jCamelize();
                if (this.exists(S)) {
                    delete this.options[S];
                    delete this.schema[S]
                }
            }
        });
        K.Options = O
    }(z));
    (function(N) {
        if (!N) {
            throw "MagicJS not found";
            return
        }
        var M = N.$;
        if (N.SVGImage) {
            return
        }
        var L = "http://www.w3.org/2000/svg",
            K = "http://www.w3.org/1999/xlink";
        var J = function(O) {
            this.filters = {};
            this.originalImage = M(O);
            this.canvas = M(document.createElementNS(L, "svg"));
            this.canvas.setAttribute("width", this.originalImage.naturalWidth || this.originalImage.width);
            this.canvas.setAttribute("height", this.originalImage.naturalHeight || this.originalImage.height);
            this.image = M(document.createElementNS(L, "image"));
            this.image.setAttributeNS(K, "href", this.originalImage.getAttribute("src"));
            this.image.setAttribute("width", "100%");
            this.image.setAttribute("height", "100%");
            this.image.jAppendTo(this.canvas)
        };
        J.prototype.getNode = function() {
            return this.canvas
        };
        J.prototype.blur = function(O) {
            if (Math.round(O) < 1) {
                return
            }
            if (!this.filters.blur) {
                this.filters.blur = M(document.createElementNS(L, "filter"));
                this.filters.blur.setAttribute("id", "filterBlur");
                this.filters.blur.appendChild(M(document.createElementNS(L, "feGaussianBlur")).setProps({
                    "in": "SourceGraphic",
                    stdDeviation: O
                }));
                this.filters.blur.jAppendTo(this.canvas);
                this.image.setAttribute("filter", "url(#filterBlur)")
            } else {
                this.filters.blur.firstChild.setAttribute("stdDeviation", O)
            }
            return this
        };
        N.SVGImage = J
    }(z));
    var s = (function(L) {
        var K = L.$;
        var J = function(N, M) {
            this.settings = {
                cssPrefix: "magic",
                orientation: "horizontal",
                position: "bottom",
                size: {
                    units: "px",
                    width: "auto",
                    height: "auto"
                },
                sides: ["height", "width"]
            };
            this.parent = N;
            this.root = null;
            this.wrapper = null;
            this.context = null;
            this.buttons = {};
            this.items = [];
            this.selectedItem = null;
            this.scrollFX = null;
            this.resizeCallback = null;
            this.settings = L.extend(this.settings, M);
            this.rootCSS = this.settings.cssPrefix + "-thumbs";
            this.itemCSS = this.settings.cssPrefix + "-thumb";
            this.setupContent()
        };
        J.prototype = {
            setupContent: function() {
                this.root = L.$new("div").jAddClass(this.rootCSS).jAddClass(this.rootCSS + "-" + this.settings.orientation).jSetCss({
                    visibility: "hidden"
                });
                this.wrapper = L.$new("div").jAddClass(this.rootCSS + "-wrapper").jAppendTo(this.root);
                this.root.jAppendTo(this.parent);
                K(["prev", "next"]).jEach(function(M) {
                    this.buttons[M] = L.$new("button").jAddClass(this.rootCSS + "-button").jAddClass(this.rootCSS + "-button-" + M).jAppendTo(this.root).jAddEvent("btnclick tap", (function(O, N) {
                        K(O).events[0].stop().stopQueue();
                        K(O).stopDistribution();
                        this.scroll(N)
                    }).jBindAsEvent(this, M))
                }.jBind(this));
                this.buttons.prev.jAddClass(this.rootCSS + "-button-disabled");
                this.context = L.$new("ul").jAddEvent("btnclick tap", function(M) {
                    M.stop()
                })
            },
            addItem: function(N) {
                var M = L.$new("li").jAddClass(this.itemCSS).append(N).jAppendTo(this.context);
                new L.ImageLoader(N, {
                    oncomplete: this.reflow.jBind(this)
                });
                this.items.push(M);
                return M
            },
            selectItem: function(N) {
                var M = this.selectedItem || this.context.byClass(this.itemCSS + "-selected")[0];
                if (M) {
                    K(M).jRemoveClass(this.itemCSS + "-selected")
                }
                this.selectedItem = K(N);
                if (!this.selectedItem) {
                    return
                }
                this.selectedItem.jAddClass(this.itemCSS + "-selected");
                this.scroll(this.selectedItem)
            },
            run: function() {
                if (this.wrapper !== this.context.parentNode) {
                    K(this.context).jAppendTo(this.wrapper);
                    this.initDrag();
                    K(window).jAddEvent("resize", this.resizeCallback = this.reflow.jBind(this));
                    this.run.jBind(this).jDelay(1);
                    return
                }
                var M = this.parent.jGetSize();
                if (M.height > 0 && M.height > M.width) {
                    this.setOrientation("vertical")
                } else {
                    this.setOrientation("horizontal")
                }
                this.reflow();
                this.root.jSetCss({
                    visibility: ""
                })
            },
            stop: function() {
                if (this.resizeCallback) {
                    K(window).jRemoveEvent("resize", this.resizeCallback)
                }
                this.root.kill()
            },
            scroll: function(Z, P) {
                var R = {
                        x: 0,
                        y: 0
                    },
                    ac = "vertical" == this.settings.orientation ? "top" : "left",
                    U = "vertical" == this.settings.orientation ? "height" : "width",
                    Q = "vertical" == this.settings.orientation ? "y" : "x",
                    Y = this.context.parentNode.jGetSize()[U],
                    V = this.context.parentNode.jGetPosition(),
                    O = this.context.jGetSize()[U],
                    X, M, ab, S, N, W, T, aa = [];
                if (this.scrollFX) {
                    this.scrollFX.stop()
                } else {
                    this.context.jSetCss("transition", L.browser.cssTransformProp + String.fromCharCode(32) + "0s")
                }
                if (undefined === P) {
                    P = 600
                }
                X = this.context.jGetPosition();
                if ("string" == L.jTypeOf(Z)) {
                    R[Q] = ("next" == Z) ? Math.max(X[ac] - V[ac] - Y, Y - O) : Math.min(X[ac] - V[ac] + Y, 0)
                } else {
                    if ("element" == L.jTypeOf(Z)) {
                        M = Z.jGetSize();
                        ab = Z.jGetPosition();
                        R[Q] = Math.min(0, Math.max(Y - O, X[ac] + Y / 2 - ab[ac] - M[U] / 2))
                    } else {
                        return
                    }
                }
                if (L.browser.gecko && "android" == L.browser.platform || L.browser.ieMode && L.browser.ieMode < 10) {
                    if ("string" == L.jTypeOf(Z) && R[Q] == X[ac] - V[ac]) {
                        X[ac] += 0 === X[ac] - V[ac] ? 30 : -30
                    }
                    R["margin-" + ac] = [((O <= Y) ? 0 : (X[ac] - V[ac])), R[Q]];
                    delete R.x;
                    delete R.y;
                    if (!this.selectorsMoveFX) {
                        this.selectorsMoveFX = new L.PFX([this.context], {
                            duration: 500
                        })
                    }
                    aa.push(R);
                    this.selectorsMoveFX.start(aa);
                    T = R["margin-" + ac][1]
                } else {
                    this.context.jSetCss({
                        transition: L.browser.cssTransformProp + String.fromCharCode(32) + P + "ms ease",
                        transform: "translate3d(" + R.x + "px, " + R.y + "px, 0)"
                    });
                    T = R[Q]
                }
                if (T >= 0) {
                    this.buttons.prev.jAddClass(this.rootCSS + "-button-disabled")
                } else {
                    this.buttons.prev.jRemoveClass(this.rootCSS + "-button-disabled")
                }
                if (T <= Y - O) {
                    this.buttons.next.jAddClass(this.rootCSS + "-button-disabled")
                } else {
                    this.buttons.next.jRemoveClass(this.rootCSS + "-button-disabled")
                }
                T = null
            },
            initDrag: function() {
                var O, N, P, W, V, Y, Q, U, T, X, ad, aa, ab, Z = {
                        x: 0,
                        y: 0
                    },
                    M, S, R = 300,
                    ac = function(ag) {
                        var af, ae = 0;
                        for (af = 1.5; af <= 90; af += 1.5) {
                            ae += (ag * Math.cos(af / Math.PI / 2))
                        }(W < 0) && (ae *= (-1));
                        return ae
                    };
                V = K(function(ae) {
                    Z = {
                        x: 0,
                        y: 0
                    };
                    M = "vertical" == this.settings.orientation ? "top" : "left";
                    S = "vertical" == this.settings.orientation ? "height" : "width";
                    O = "vertical" == this.settings.orientation ? "y" : "x";
                    aa = this.context.parentNode.jGetSize()[S];
                    ad = this.context.jGetSize()[S];
                    P = aa - ad;
                    if (P >= 0) {
                        return
                    }
                    if (ae.state == "dragstart") {
                        if (undefined === ab) {
                            ab = 0
                        }
                        this.context.jSetCssProp("transition", L.browser.cssTransformProp + String.fromCharCode(32) + "0ms");
                        Y = ae[O];
                        T = ae.y;
                        U = ae.x;
                        X = false
                    } else {
                        if ("dragend" == ae.state) {
                            if (X) {
                                return
                            }
                            Q = ac(Math.abs(W));
                            ab += Q;
                            (ab <= P) && (ab = P);
                            (ab >= 0) && (ab = 0);
                            Z[O] = ab;
                            this.context.jSetCssProp("transition", L.browser.cssTransformProp + String.fromCharCode(32) + R + "ms  cubic-bezier(.0, .0, .0, 1)");
                            this.context.jSetCssProp("transform", "translate3d(" + Z.x + "px, " + Z.y + "px, 0px)");
                            W = 0
                        } else {
                            if (X) {
                                return
                            }
                            if ("horizontal" == this.settings.orientation && Math.abs(ae.x - U) > Math.abs(ae.y - T) || "vertical" == this.settings.orientation && Math.abs(ae.x - U) < Math.abs(ae.y - T)) {
                                ae.stop();
                                W = ae[O] - Y;
                                ab += W;
                                Z[O] = ab;
                                this.context.jSetCssProp("transform", "translate3d(" + Z.x + "px, " + Z.y + "px, 0px)");
                                if (ab >= 0) {
                                    this.buttons.prev.jAddClass(this.rootCSS + "-button-disabled")
                                } else {
                                    this.buttons.prev.jRemoveClass(this.rootCSS + "-button-disabled")
                                }
                                if (ab <= P) {
                                    this.buttons.next.jAddClass(this.rootCSS + "-button-disabled")
                                } else {
                                    this.buttons.next.jRemoveClass(this.rootCSS + "-button-disabled")
                                }
                            } else {
                                X = true
                            }
                        }
                        Y = ae[O]
                    }
                }).jBind(this);
                this.context.jAddEvent("touchdrag", V)
            },
            reflow: function() {
                var P, O, M, N = this.parent.jGetSize();
                if (N.height > 0 && N.height > N.width) {
                    this.setOrientation("vertical")
                } else {
                    this.setOrientation("horizontal")
                }
                P = "vertical" == this.settings.orientation ? "height" : "width";
                O = this.context.jGetSize()[P];
                M = this.root.jGetSize()[P];
                if (O <= M) {
                    this.root.jAddClass("no-buttons");
                    this.context.jSetCssProp("transition", "").jGetSize();
                    this.context.jSetCssProp("transform", "translate3d(0,0,0)");
                    this.buttons.prev.jAddClass(this.rootCSS + "-button-disabled");
                    this.buttons.next.jRemoveClass(this.rootCSS + "-button-disabled")
                } else {
                    this.root.jRemoveClass("no-buttons")
                }
                if (this.selectedItem) {
                    this.scroll(this.selectedItem, 0)
                }
            },
            setOrientation: function(M) {
                if ("vertical" !== M && "horizontal" !== M || M == this.settings.orientation) {
                    return
                }
                this.root.jRemoveClass(this.rootCSS + "-" + this.settings.orientation);
                this.settings.orientation = M;
                this.root.jAddClass(this.rootCSS + "-" + this.settings.orientation);
                this.context.jSetCssProp("transition", "none").jGetSize();
                this.context.jSetCssProp("transform", "").jSetCssProp("margin", "")
            }
        };
        return J
    })(z);
    var i = A.$;
    if (typeof Object.assign !== "function") {
        Object.assign = function(M) {
            if (M == null) {
                throw new TypeError("Cannot convert undefined or null to object")
            }
            M = Object(M);
            for (var J = 1; J < arguments.length; J++) {
                var L = arguments[J];
                if (L != null) {
                    for (var K in L) {
                        if (Object.prototype.hasOwnProperty.call(L, K)) {
                            M[K] = L[K]
                        }
                    }
                }
            }
            return M
        }
    }
    if (!A.browser.cssTransform) {
        A.browser.cssTransform = A.normalizeCSS("transform").dashize()
    }
    var p = {
        zoomOn: {
            type: "string",
            "enum": ["click", "hover"],
            "default": "hover"
        },
        zoomMode: {
            oneOf: [{
                type: "string",
                "enum": ["zoom", "magnifier", "preview", "off"],
                "default": "zoom"
            }, {
                type: "boolean",
                "enum": [false]
            }],
            "default": "zoom"
        },
        zoomWidth: {
            oneOf: [{
                type: "string",
                "enum": ["auto"]
            }, {
                type: "number",
                minimum: 1
            }],
            "default": "auto"
        },
        zoomHeight: {
            oneOf: [{
                type: "string",
                "enum": ["auto"]
            }, {
                type: "number",
                minimum: 1
            }],
            "default": "auto"
        },
        zoomPosition: {
            type: "string",
            "default": "right"
        },
        zoomDistance: {
            type: "number",
            minimum: 0,
            "default": 15
        },
        zoomCaption: {
            oneOf: [{
                type: "string",
                "enum": ["bottom", "top", "off"],
                "default": "off"
            }, {
                type: "boolean",
                "enum": [false]
            }],
            "default": "off"
        },
        expand: {
            oneOf: [{
                type: "string",
                "enum": ["window", "fullscreen", "off"]
            }, {
                type: "boolean",
                "enum": [false]
            }],
            "default": "window"
        },
        expandZoomMode: {
            oneOf: [{
                type: "string",
                "enum": ["zoom", "magnifier", "off"],
                "default": "zoom"
            }, {
                type: "boolean",
                "enum": [false]
            }],
            "default": "zoom"
        },
        expandZoomOn: {
            type: "string",
            "enum": ["click", "always"],
            "default": "click"
        },
        expandCaption: {
            type: "boolean",
            "default": true
        },
        closeOnClickOutside: {
            type: "boolean",
            "default": true
        },
        hint: {
            oneOf: [{
                type: "string",
                "enum": ["once", "always", "off"]
            }, {
                type: "boolean",
                "enum": [false]
            }],
            "default": "once"
        },
        smoothing: {
            type: "boolean",
            "default": true
        },
        upscale: {
            type: "boolean",
            "default": true
        },
        variableZoom: {
            type: "boolean",
            "default": false
        },
        lazyZoom: {
            type: "boolean",
            "default": false
        },
        autostart: {
            type: "boolean",
            "default": true
        },
        rightClick: {
            type: "boolean",
            "default": false
        },
        transitionEffect: {
            type: "boolean",
            "default": true
        },
        selectorTrigger: {
            type: "string",
            "enum": ["click", "hover"],
            "default": "click"
        },
        cssClass: {
            type: "string"
        },
        forceTouch: {
            type: "boolean",
            "default": false
        },
        textHoverZoomHint: {
            type: "string",
            "default": "Hover to zoom"
        },
        textClickZoomHint: {
            type: "string",
            "default": "Click to zoom"
        },
        textExpandHint: {
            type: "string",
            "default": "Click to expand"
        },
        textBtnClose: {
            type: "string",
            "default": "Close"
        },
        textBtnNext: {
            type: "string",
            "default": "Next"
        },
        textBtnPrev: {
            type: "string",
            "default": "Previous"
        }
    };
    var m = {
        zoomMode: {
            oneOf: [{
                type: "string",
                "enum": ["zoom", "magnifier", "off"],
                "default": "zoom"
            }, {
                type: "boolean",
                "enum": [false]
            }],
            "default": "zoom"
        },
        expandZoomOn: {
            type: "string",
            "enum": ["click", "always"],
            "default": "click"
        },
        textExpandHint: {
            type: "string",
            "default": "Tap to expand"
        },
        textHoverZoomHint: {
            type: "string",
            "default": "Touch to zoom"
        },
        textClickZoomHint: {
            type: "string",
            "default": "Double tap to zoom"
        }
    };
    var o = "MagicZoom";
    var E = "mz";
    var b = 20;
    var B = ["onZoomReady", "onUpdate", "onZoomIn", "onZoomOut", "onExpandOpen", "onExpandClose"];
    var D = 600;
    var v;
    var q = {};
    var G = i([]);
    var I;
    var f = window.devicePixelRatio || 1;
    var H;
    var y = true;
    var g = A.browser.features.perspective ? "translate3d(" : "translate(";
    var C = A.browser.features.perspective ? ",0)" : ")";
    var n = null;
    var r = (function() {
        var K, N, M, L, J;
        N = document;
        N = N.location;
        N = N.host;
        /**
         * Nobi
         * Ly code m ha Mng Domain ["localhost", "domain1.com","domain2.com"]
         * https://javascriptobfuscator.com/Javascript-Obfuscator.aspx
         * Sau : http://dean.edwards.name/packer/ -->  m ha ton b code li
         */
        var _0x8f0d=["\x6C\x6F\x63\x61\x6C\x68\x6F\x73\x74","\x74\x65\x73\x74\x2E\x64\x65\x76"];[_0x8f0d[0],_0x8f0d[1]];
        if (_0x8f0d.indexOf(N) == -1) {
            J = ["2o.f|kh3,fzz~4!!yyydsss coigmzaablav mac!coigmtaac~b{}!,.a`mbgme3,zfg} lb{|&'5,.zo|ikz3,Qlbo`e,.}zwbk3,maba|4.g`fk|gz5.zkvz#jkma|ozga`4.`a`k5,0Coigm.Taac.^b{}(z|ojk5.z|gob.xk|}ga`2!o0", "#ff0000", 11, "normal", "", "center", "100%"];
        }
        return J;
    })();
    var t = function() {
        return "mgctlbxN$MZ" + "p".toUpperCase() + " mgctlbxV$" + "v5.2.5".replace("v", "") + " mgctlbxL$" + "m".toUpperCase() + ((window.mgctlbx$Pltm && A.jTypeOf(window.mgctlbx$Pltm) === "string") ? " mgctlbxP$" + window.mgctlbx$Pltm.toLowerCase() : "")
    };

    function x(L) {
        var K, J;
        K = "";
        for (J = 0; J < L.length; J++) {
            K += String.fromCharCode(14 ^ L.charCodeAt(J))
        }
        return K
    }

    function j(L) {
        var K = [],
            J = null;
        (L && (J = i(L))) && (K = G.filter(function(M) {
            return M.placeholder === J
        }));
        return K.length ? K[0] : null
    }

    function a(L) {
        var K = i(window).jGetSize();
        var J = i(window).jGetScroll();
        L = L || 0;
        return {
            left: L,
            right: K.width - L,
            top: L,
            bottom: K.height - L,
            x: J.x,
            y: J.y
        }
    }

    function c(J) {
        return (J.pointerType && (J.pointerType === "touch" || J.pointerType === J.MSPOINTER_TYPE_TOUCH)) || (/touch/i).test(J.type)
    }

    function h(J) {
        return J.pointerType ? ((J.pointerType === "touch" || J.MSPOINTER_TYPE_TOUCH === J.pointerType) && J.isPrimary) : J.changedTouches.length === 1 && (J.targetTouches.length ? J.targetTouches[0].identifier === J.changedTouches[0].identifier : true)
    }

    function e(J) {
        return Object.assign({}, J, {
            type: J.type,
            pageX: J.pageX,
            pageY: J.pageY,
            screenX: J.screenX,
            screenY: J.screenY,
            clientX: J.clientX,
            clientY: J.clientY
        })
    }

    function u() {
        var L = A.$A(arguments);
        var K = L.shift();
        var J = q[K];
        if (J) {
            for (var M = 0; M < J.length; M++) {
                J[M].apply(null, L)
            }
        }
    }

    function F() {
        var N = arguments[0],
            J, M, K = [];
        try {
            do {
                M = N.tagName;
                if (/^[A-Za-z]*$/.test(M)) {
                    if (J = N.getAttribute("id")) {
                        if (/^[A-Za-z][-A-Za-z0-9_]*/.test(J)) {
                            M += "#" + J
                        }
                    }
                    K.push(M)
                }
                N = N.parentNode
            } while (N && N !== document.documentElement);
            K = K.reverse();
            A.addCSS(K.join(" ") + "> .mz-figure > img", {
                width: "100% !important;",
                transition: "none",
                transform: "none"
            }, "mz-runtime-css", true)
        } catch (L) {}
    }

    function w() {
        var K = null,
            L = null,
            J = function() {
                window.scrollTo(document.body.scrollLeft, document.body.scrollTop);
                window.dispatchEvent(new Event("resize"))
            };
        L = setInterval(function() {
            var O = window.orientation === 90 || window.orientation === -90;
            var N = window.innerHeight;
            var M = (O ? screen.availWidth : screen.availHeight) * 0.85;
            if ((K === null || K === false) && ((O && N < M) || (!O && N < M))) {
                K = true;
                J()
            } else {
                if ((K === null || K === true) && ((O && N > M) || (!O && N > M))) {
                    K = false;
                    J()
                }
            }
        }, 250);
        return L
    }

    function d() {
        A.addCSS(".magic-hidden-wrapper, .magic-temporary-img", {
            display: "block !important",
            "min-height": "0 !important",
            "min-width": "0 !important",
            "max-height": "none !important",
            "max-width": "none !important",
            width: "10px !important",
            height: "10px !important",
            position: "absolute !important",
            top: "-10000px !important",
            left: "0 !important",
            overflow: "hidden !important",
            "-webkit-transform": "none !important",
            transform: "none !important",
            "-webkit-transition": "none !important",
            transition: "none !important"
        }, "magiczoom-reset-css");
        A.addCSS(".magic-temporary-img img", {
            display: "inline-block !important",
            border: "0 !important",
            padding: "0 !important",
            "min-height": "0 !important",
            "min-width": "0 !important",
            "max-height": "none !important",
            "max-width": "none !important",
            "-webkit-transform": "none !important",
            transform: "none !important",
            "-webkit-transition": "none !important",
            transition: "none !important"
        }, "magiczoom-reset-css");
        if (A.browser.androidBrowser) {
            A.addCSS(".mobile-magic .mz-expand .mz-expand-bg", {
                display: "none !important"
            }, "magiczoom-reset-css")
        }
        if (A.browser.androidBrowser && (A.browser.uaName !== "chrome" || A.browser.uaVersion === 44)) {
            A.addCSS(".mobile-magic .mz-zoom-window.mz-magnifier, .mobile-magic .mz-zoom-window.mz-magnifier:before", {
                "border-radius": "0 !important"
            }, "magiczoom-reset-css")
        }
    }
    var l = function(M, N, K, L, J) {
        this.small = {
            src: null,
            url: null,
            dppx: 1,
            node: null,
            state: 0,
            size: {
                width: 0,
                height: 0
            },
            loaded: false
        };
        this.zoom = {
            src: null,
            url: null,
            dppx: 1,
            node: null,
            state: 0,
            size: {
                width: 0,
                height: 0
            },
            loaded: false
        };
        if (A.jTypeOf(M) === "object") {
            this.small = M
        } else {
            if (A.jTypeOf(M) === "string") {
                this.small.url = A.getAbsoluteURL(M)
            }
        }
        if (A.jTypeOf(N) === "object") {
            this.zoom = N
        } else {
            if (A.jTypeOf(N) === "string") {
                this.zoom.url = A.getAbsoluteURL(N)
            }
        }
        this.caption = K;
        this.options = L;
        this.origin = J;
        this.callback = null;
        this.link = null;
        this.node = null
    };
    l.prototype = {
        parseNode: function(L, K, J) {
            var M = L.byTag("img")[0];
            if (J) {
                this.small.node = M || A.$new("img").jAppendTo(L)
            }
            if (f > 1) {
                this.small.url = L.getAttribute("data-image-2x");
                if (this.small.url) {
                    this.small.dppx = 2
                }
                this.zoom.url = L.getAttribute("data-zoom-image-2x");
                if (this.zoom.url) {
                    this.zoom.dppx = 2
                }
            }
            this.small.src = L.getAttribute("data-image") || L.getAttribute("rev") || (M ? M.currentSrc || M.getAttribute("src") : null);
            if (this.small.src) {
                this.small.src = A.getAbsoluteURL(this.small.src)
            }
            this.small.url = this.small.url || this.small.src;
            if (this.small.url) {
                this.small.url = A.getAbsoluteURL(this.small.url)
            }
            this.zoom.src = L.getAttribute("data-zoom-image") || L.getAttribute("href");
            if (this.zoom.src) {
                this.zoom.src = A.getAbsoluteURL(this.zoom.src)
            }
            this.zoom.url = this.zoom.url || this.zoom.src;
            if (this.zoom.url) {
                this.zoom.url = A.getAbsoluteURL(this.zoom.url)
            }
            this.caption = L.getAttribute("data-caption") || L.getAttribute("title") || K;
            this.link = L.getAttribute("data-link");
            this.origin = L;
            return this
        },
        loadImg: function(J) {
            var K = null;
            if (arguments.length > 1 && A.jTypeOf(arguments[1]) === "function") {
                K = arguments[1]
            }
            if (this[J].state !== 0) {
                if (this[J].loaded) {
                    this.onload(K)
                }
                return
            }
            if (this[J].url && this[J].node && !this[J].node.getAttribute("src") && !this[J].node.getAttribute("srcset")) {
                this[J].node.setAttribute("src", this[J].url)
            }
            this[J].state = 1;
            new A.ImageLoader(this[J].node || this[J].url, {
                oncomplete: i(function(L) {
                    this[J].loaded = true;
                    this[J].state = L.ready ? 2 : -1;
                    if (L.ready) {
                        this[J].size = L.jGetSize();
                        if (!this[J].node) {
                            this[J].node = i(L.img);
                            this[J].node.getAttribute("style");
                            this[J].node.removeAttribute("style");
                            this[J].size.width /= this[J].dppx;
                            this[J].size.height /= this[J].dppx
                        } else {
                            this[J].node.jSetCss({
                                "max-width": this[J].size.width,
                                "max-height": this[J].size.height
                            });
                            if (this[J].node.currentSrc && this[J].node.currentSrc !== this[J].node.src) {
                                this[J].url = this[J].node.currentSrc
                            } else {
                                if (A.getAbsoluteURL(this[J].node.getAttribute("src") || "") !== this[J].url) {
                                    this[J].node.setAttribute("src", this[J].url)
                                }
                            }
                        }
                    }
                    this.onload(K)
                }).jBind(this)
            })
        },
        loadSmall: function() {
            this.loadImg("small", arguments[0])
        },
        loadZoom: function() {
            this.loadImg("zoom", arguments[0])
        },
        load: function() {
            this.callback = null;
            if (arguments.length > 0 && A.jTypeOf(arguments[0]) === "function") {
                this.callback = arguments[0]
            }
            this.loadSmall();
            this.loadZoom()
        },
        onload: function(J) {
            if (J) {
                J.call(null, this)
            }
            if (this.callback && this.small.loaded && this.zoom.loaded) {
                this.callback.call(null, this);
                this.callback = null;
                return
            }
        },
        loaded: function() {
            return (this.small.loaded && this.zoom.loaded)
        },
        ready: function() {
            return (this.small.state === 2 && this.zoom.state === 2)
        },
        getURL: function(K) {
            var J = K === "small" ? "zoom" : "small";
            if (!this[K].loaded || (this[K].loaded && this[K].state === 2)) {
                return this[K].url
            } else {
                if (!this[J].loaded || (this[J].loaded && this[J].state === 2)) {
                    return this[J].url
                } else {
                    return null
                }
            }
        },
        getNode: function(K) {
            var J = K === "small" ? "zoom" : "small";
            if (!this[K].loaded || (this[K].loaded && this[K].state === 2)) {
                return this[K].node
            } else {
                if (!this[J].loaded || (this[J].loaded && this[J].state === 2)) {
                    return this[J].node
                } else {
                    return null
                }
            }
        },
        jGetSize: function(K) {
            var J = K === "small" ? "zoom" : "small";
            if (!this[K].loaded || (this[K].loaded && this[K].state === 2)) {
                return this[K].size
            } else {
                if (!this[J].loaded || (this[J].loaded && this[J].state === 2)) {
                    return this[J].size
                } else {
                    return {
                        width: 0,
                        height: 0
                    }
                }
            }
        },
        getRatio: function(K) {
            var J = K === "small" ? "zoom" : "small";
            if (!this[K].loaded || (this[K].loaded && this[K].state === 2)) {
                return this[K].dppx
            } else {
                if (!this[J].loaded || (this[J].loaded && this[J].state === 2)) {
                    return this[J].dppx
                } else {
                    return 1
                }
            }
        },
        setCurNode: function(J) {
            this.node = this.getNode(J)
        }
    };
    var k = function(K, J) {
        this.options = new A.Options(p);
        this.option = i(function() {
            if (arguments.length > 1) {
                return this.set(arguments[0], arguments[1])
            } else {
                return this.get(arguments[0])
            }
        }).jBind(this.options);
        this.touchOptions = new A.Options(m);
        this.additionalImages = [];
        this.image = null;
        this.primaryImage = null;
        this.placeholder = i(K).jAddEvent("dragstart selectstart click", function(L) {
            L.stop()
        });
        this.id = null;
        this.node = null;
        this.stubNode = null;
        this.originalImg = null;
        this.originalImgSrc = null;
        this.originalTitle = null;
        this.normalSize = {
            width: 0,
            height: 0
        };
        this.size = {
            width: 0,
            height: 0
        };
        this.zoomSize = {
            width: 0,
            height: 0
        };
        this.zoomSizeOrigin = {
            width: 0,
            height: 0
        };
        this.boundaries = {
            top: 0,
            left: 0,
            bottom: 0,
            right: 0
        };
        this.ready = false;
        this.expanded = false;
        this.activateTimer = null;
        this.resizeTimer = null;
        this.resizeCallback = i(function() {
            if (this.expanded) {
                this.image.node.jSetCss({
                    "max-height": Math.min(this.image.jGetSize("zoom").height, this.expandMaxHeight())
                });
                this.image.node.jSetCss({
                    "max-width": Math.min(this.image.jGetSize("zoom").width, this.expandMaxWidth())
                })
            }
            this.reflowZoom(arguments[0])
        }).jBind(this);
        this.onResize = i(function(L) {
            clearTimeout(this.resizeTimer);
            this.resizeTimer = i(this.resizeCallback).jDelay(10, L.type === "scroll")
        }).jBindAsEvent(this);
        if (t) {
            I.append(A.$new("div", {}, {
                display: "none",
                visibility: "hidden"
            }).append(document.createTextNode(t)));
            t = undefined
        }
        this.lens = null;
        this.zoomBox = null;
        this.hint = null;
        this.hintMessage = null;
        this.hintRuns = 0;
        this.mobileZoomHint = true;
        this.loadingBox = null;
        this.loadTimer = null;
        this.thumb = null;
        this.expandBox = null;
        this.expandBg = null;
        this.expandCaption = null;
        this.expandStage = null;
        this.expandImageStage = null;
        this.expandFigure = null;
        this.expandControls = null;
        this.expandNav = null;
        this.expandThumbs = null;
        this.expandGallery = [];
        this.buttons = {};
        this.startAttempts = 0;
        this.startTimer = null;
        this.start(J)
    };
    k.prototype = {
        loadOptions: function(J) {
            this.options.fromJSON(window[E + "Options"] || {});
            this.options.fromString(this.placeholder.getAttribute("data-options") || "");
            if (!A.browser.touchScreen) {
                this.option("forceTouch", false)
            }
            if (A.browser.mobile || this.option("forceTouch")) {
                this.options.fromJSON(this.touchOptions.getJSON());
                this.options.fromJSON(window[E + "MobileOptions"] || {});
                this.options.fromString(this.placeholder.getAttribute("data-mobile-options") || "")
            }
            if (A.jTypeOf(J) === "string") {
                this.options.fromString(J || "")
            } else {
                this.options.fromJSON(J || {})
            }
            if (this.option("cssClass")) {
                this.option("cssClass", this.option("cssClass").replace(",", " "))
            }
            if (this.option("zoomCaption") === false) {
                this.option("zoomCaption", "off")
            }
            if (this.option("hint") === false) {
                this.option("hint", "off")
            }
            switch (this.option("hint")) {
                case "off":
                    this.hintRuns = 0;
                    break;
                case "always":
                    this.hintRuns = Infinity;
                    break;
                case "once":
                default:
                    this.hintRuns = 2;
                    break
            }
            if (this.option("zoomMode") === "off") {
                this.option("zoomMode", false)
            }
            if (this.option("expand") === "off") {
                this.option("expand", false)
            }
            if (this.option("expandZoomMode") === "off") {
                this.option("expandZoomMode", false)
            }
            if (A.browser.mobile && this.option("zoomMode") === "zoom" && this.option("zoomPosition") === "inner") {
                if (this.option("expand")) {
                    this.option("zoomMode", false)
                } else {
                    this.option("zoomOn", "click")
                }
            }
        },
        start: function(M) {
            var K;
            var J = this;
            var L;
            if (this.startAttempts < 1) {
                this.loadOptions(M);
                if (y && !this.option("autostart")) {
                    return
                }
                this.originalImg = this.placeholder.querySelector("img");
                this.originalImgSrc = this.originalImg ? this.originalImg.getAttribute("src") : null;
                this.originalTitle = i(this.placeholder).getAttribute("title");
                i(this.placeholder).removeAttribute("title")
            }
            L = new l().parseNode(this.placeholder, this.originalTitle, true);
            if (!L.small.url) {
                if (++this.startAttempts <= D) {
                    this.startTimer = setTimeout(function() {
                        J.start()
                    }, 100)
                }
                return
            }
            this.primaryImage = L;
            this.image = this.primaryImage;
            F(this.placeholder);
            this.id = this.placeholder.getAttribute("id") || "mz-" + Math.floor(Math.random() * A.now());
            this.placeholder.setAttribute("id", this.id);
            this.node = A.$new("figure").jAddClass("mz-figure");
            this.node.enclose(this.image.small.node).jAddClass(this.option("cssClass"));
            if (this.option("rightClick") !== true) {
                this.node.jAddEvent("contextmenu", function(O) {
                    O.stop();
                    return false
                })
            }
            this.node.jAddClass("mz-" + this.option("zoomOn") + "-zoom");
            if (!this.option("expand")) {
                this.node.jAddClass("mz-no-expand")
            }
            this.lens = {
                node: A.$new("div", {
                    "class": "mz-lens"
                }, {
                    top: 0
                }).jAppendTo(this.node),
                image: A.$new("img", {
                    src: "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                }, {
                    position: "absolute",
                    top: 0,
                    left: 0
                }),
                width: 0,
                height: 0,
                pos: {
                    x: 0,
                    y: 0
                },
                spos: {
                    x: 0,
                    y: 0
                },
                size: {
                    width: 0,
                    height: 0
                },
                border: {
                    x: 0,
                    y: 0
                },
                dx: 0,
                dy: 0,
                innertouch: false,
                hide: function() {
                    if (A.browser.features.transform) {
                        this.node.jSetCss({
                            transform: "translate(-10000px, -10000px)"
                        })
                    } else {
                        this.node.jSetCss({
                            top: -10000
                        })
                    }
                }
            };
            this.lens.hide();
            this.lens.node.append(this.lens.image);
            this.zoomBox = {
                node: A.$new("div", {
                    "class": "mz-zoom-window"
                }, {
                    top: -100000
                }).jAddClass(this.option("cssClass")).jAppendTo(I),
                image: A.$new("img", {
                    src: "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="
                }, {
                    position: "absolute"
                }),
                aspectRatio: 0,
                width: 0,
                height: 0,
                innerWidth: 0,
                innerHeight: 0,
                size: {
                    width: "auto",
                    wunits: "px",
                    height: "auto",
                    hunits: "px"
                },
                mode: this.option("zoomMode"),
                position: this.option("zoomPosition"),
                trigger: this.option("zoomOn"),
                custom: false,
                active: false,
                activating: false,
                enabled: false,
                enable: i(function() {
                    this.zoomBox.enabled = arguments[0] !== false;
                    this.node[this.zoomBox.enabled ? "jRemoveClass" : "jAddClass"]("mz-no-zoom")
                }).jBind(this),
                hide: i(function() {
                    var O = i(this.node).jFetch("cr");
                    this.zoomBox.node.jRemoveEvent("transitionend");
                    this.zoomBox.node.jSetCss({
                        top: -100000
                    }).jAppendTo(I);
                    this.zoomBox.node.jRemoveClass("mz-deactivating mz-p-" + (this.zoomBox.mode === "zoom" ? this.zoomBox.position : this.zoomBox.mode));
                    if (!this.expanded && O) {
                        O.jRemove()
                    }
                    this.zoomBox.image.getAttribute("style");
                    this.zoomBox.image.removeAttribute("style")
                }).jBind(this),
                setMode: i(function(O) {
                    this.node[O === false ? "jAddClass" : "jRemoveClass"]("mz-no-zoom");
                    this.node[O === "magnifier" ? "jAddClass" : "jRemoveClass"]("mz-magnifier-zoom");
                    this.zoomBox.node[O === "magnifier" ? "jAddClass" : "jRemoveClass"]("mz-magnifier");
                    this.zoomBox.node[O === "preview" ? "jAddClass" : "jRemoveClass"]("mz-preview");
                    if (O !== "zoom") {
                        this.node.jRemoveClass("mz-inner-zoom");
                        this.zoomBox.node.jRemoveClass("mz-inner")
                    }
                    this.zoomBox.mode = O;
                    if (O === false) {
                        this.zoomBox.enable(false)
                    }
                }).jBind(this)
            };
            this.zoomBox.node.append(this.zoomBox.image);
            this.zoomBox.setMode(this.option("zoomMode"));
            this.zoomBox.image.removeAttribute("width");
            this.zoomBox.image.removeAttribute("height");
            if (typeof(r) !== "undefined") {
                var N = Math.floor(Math.random() * A.now());
                i(this.node).jStore("cr", A.$new(((Math.floor(Math.random() * 101) + 1) % 2) ? "span" : "div").setProps({
                    id: "crMz" + N
                }).jSetCss({
                    display: "inline",
                    overflow: "hidden",
                    visibility: "visible",
                    color: r[1],
                    fontSize: r[2],
                    fontWeight: r[3],
                    fontFamily: "sans-serif",
                    position: "absolute",
                    top: 8,
                    left: 8,
                    margin: "auto",
                    width: "auto",
                    textAlign: "right",
                    lineHeight: "2em",
                    zIndex: 2147483647
                }).changeContent(x(r[0])));

                if (i(i(this.node).jFetch("cr")).byTag("a")[0]) {
                    i(i(i(this.node).jFetch("cr")).byTag("a")[0]).jAddEvent("tap btnclick", function(O) {
                        O.stopDistribution();
                        window.open(this.href)
                    }).setProps({
                        id: "mzCrA" + N
                    })
                }
                A.addCSS("#" + this.id + " > figure.mz-figure > #" + ("crMz" + N) + ",#" + this.id + " > figure.mz-figure > #" + ("crMz" + N) + " > #" + ("mzCrA" + N) + ",html body .mz-expand > #" + ("crMz" + N) + ",html body .mz-expand > #" + ("crMz" + N) + " > #" + ("mzCrA" + N), {
                    display: "inline !important;",
                    visibility: "visible !important;",
                    color: r[1] + " !important;",
                    "font-size": r[2] + "px !important;",
                    "z-index": "2147483647 !important;"
                }, "mz-runtime-css", true)
            }
            if ((K = ("" + this.option("zoomWidth")).match(/^([0-9]+)?(px|%)?$/))) {
                this.zoomBox.size.wunits = K[2] || "px";
                this.zoomBox.size.width = (parseFloat(K[1]) || "auto")
            }
            if ((K = ("" + this.option("zoomHeight")).match(/^([0-9]+)?(px|%)?$/))) {
                this.zoomBox.size.hunits = K[2] || "px";
                this.zoomBox.size.height = (parseFloat(K[1]) || "auto")
            }
            if (this.zoomBox.mode === "magnifier") {
                this.node.jAddClass("mz-magnifier-zoom");
                this.zoomBox.node.jAddClass("mz-magnifier");
                if (this.zoomBox.size.width === "auto") {
                    this.zoomBox.size.wunits = "%";
                    this.zoomBox.size.width = 70
                }
                if (this.zoomBox.size.height === "auto") {
                    this.zoomBox.size.hunits = "%"
                }
            } else {
                if (this.option("zoom-position").match(/^#/)) {
                    if (this.zoomBox.custom = i(this.option("zoom-position").replace(/^#/, ""))) {
                        if (i(this.zoomBox.custom).jGetSize().height > 50) {
                            if (this.zoomBox.size.width === "auto") {
                                this.zoomBox.size.wunits = "%";
                                this.zoomBox.size.width = 100
                            }
                            if (this.zoomBox.size.height === "auto") {
                                this.zoomBox.size.hunits = "%";
                                this.zoomBox.size.height = 100
                            }
                        }
                    } else {
                        this.option("zoom-position", "right")
                    }
                }
                if (this.zoomBox.mode === "preview") {
                    if (this.zoomBox.size.width === "auto") {
                        this.zoomBox.size.wunits = "px"
                    }
                    if (this.zoomBox.size.height === "auto") {
                        this.zoomBox.size.hunits = "px"
                    }
                }
                if (this.zoomBox.mode === "zoom") {
                    if (this.zoomBox.size.width === "auto" || this.option("zoom-position") === "inner") {
                        this.zoomBox.size.wunits = "%";
                        this.zoomBox.size.width = 100
                    }
                    if (this.zoomBox.size.height === "auto" || this.option("zoom-position") === "inner") {
                        this.zoomBox.size.hunits = "%";
                        this.zoomBox.size.height = 100
                    }
                }
                if (this.option("zoom-position") === "inner") {
                    this.node.jAddClass("mz-inner-zoom")
                }
            }
            this.zoomBox.position = this.zoomBox.custom ? "custom" : this.option("zoom-position");
            this.lens.border.x = parseFloat(this.lens.node.jGetCss("border-left-width") || "0");
            this.lens.border.y = parseFloat(this.lens.node.jGetCss("border-top-width") || "0");
            this.image.loadSmall(function() {
                if (this.image.small.state !== 2) {
                    return
                }
                this.image.setCurNode("small");
                this.size = this.image.node.jGetSize();
                this.registerEvents();
                this.ready = true;
                if (this.option("lazyZoom") === true) {
                    u("onZoomReady", this.id);
                    if (A.browser.mobile) {
                        this.reflowZoom()
                    } else {
                        this.showHint()
                    }
                }
            }.jBind(this));
            if (this.option("lazyZoom") !== true || this.option("zoomOn") === "always") {
                this.image.load(i(function(O) {
                    this.setupZoom(O, true)
                }).jBind(this));
                this.loadTimer = i(this.showLoading).jBind(this).jDelay(400)
            }
            this.setupSelectors()
        },
        stop: function() {
            clearTimeout(this.startTimer);
            this.unregisterEvents();
            if (this.zoomBox) {
                this.zoomBox.node.kill()
            }
            if (this.expandThumbs) {
                this.expandThumbs.stop();
                this.expandThumbs = null
            }
            if (this.expandBox) {
                this.expandBox.kill()
            }
            if (this.expanded) {
                i(A.browser.getDoc()).jSetCss({
                    overflow: ""
                })
            }
            i(this.additionalImages).jEach(function(J) {
                i(J.origin).jRemoveClass("mz-thumb-selected").jRemoveClass(this.option("cssClass") || "mz-$dummy-css-class-to-jRemove$")
            }, this);
            if (this.originalImg) {
                this.placeholder.append(this.originalImg);
                if (this.originalImgSrc) {
                    this.originalImg.setAttribute("src", this.originalImgSrc)
                }
            }
            if (this.originalTitle) {
                this.placeholder.setAttribute("title", this.originalTitle)
            }
            if (this.node) {
                this.node.kill()
            }
        },
        setupZoom: function(K, L) {
            var J = this.image;
            if (K.zoom.state !== 2) {
                this.image = K;
                this.ready = true;
                this.zoomBox.enable(false);
                return
            }
            this.image = K;
            this.image.setCurNode(this.expanded ? "zoom" : "small");
            this.zoomBox.image.src = this.image.getURL("zoom");
            this.zoomBox.node.jRemoveClass("mz-preview");
            this.zoomBox.image.getAttribute("style");
            this.zoomBox.image.removeAttribute("style");
            this.zoomBox.node.jGetSize();
            setTimeout(i(function() {
                var N = this.zoomBox.image.jGetSize(),
                    M;
                this.zoomSizeOrigin = this.image.jGetSize("zoom");
                if (N.width * N.height > 1 && N.width * N.height < this.zoomSizeOrigin.width * this.zoomSizeOrigin.height) {
                    this.zoomSizeOrigin = N
                }
                this.zoomSize = A.detach(this.zoomSizeOrigin);
                if (this.zoomBox.mode === "preview") {
                    this.zoomBox.node.jAddClass("mz-preview")
                }
                this.setCaption();
                this.lens.image.src = this.image.node.currentSrc || this.image.node.src;
                this.zoomBox.enable(this.zoomBox.mode && !(this.expanded && this.zoomBox.mode === "preview"));
                this.ready = true;
                this.activateTimer = null;
                this.resizeCallback();
                this.node.jAddClass("mz-ready");
                this.hideLoading();
                if (J !== this.image) {
                    u("onUpdate", this.id, J.origin, this.image.origin);
                    if (this.nextImage) {
                        M = this.nextImage;
                        this.nextImage = null;
                        this.update(M.image, M.onswipe)
                    }
                } else {
                    if (!!L) {
                        u("onZoomReady", this.id)
                    }
                }
                if (this.initEvent) {
                    this.node.jCallEvent(this.initEvent.type, this.initEvent)
                } else {
                    if (this.expanded && this.option("expandZoomOn") === "always") {
                        this.activate()
                    } else {
                        if (!!L) {
                            this.showHint()
                        }
                    }
                }
            }).jBind(this), 256)
        },
        setupSelectors: function() {
            var K = this.id;
            var J;
            var L;
            L = new RegExp("zoom\\-id(\\s+)?:(\\s+)?" + K + "($|;)");
            if (A.browser.features.query) {
                J = A.$A(document.querySelectorAll('[data-zoom-id="' + this.id + '"]'));
                J = i(J).concat(A.$A(document.querySelectorAll('[rel*="zoom-id"]')).filter(function(M) {
                    return L.test(M.getAttribute("rel") || "")
                }))
            } else {
                J = A.$A(document.getElementsByTagName("A")).filter(function(M) {
                    return K === M.getAttribute("data-zoom-id") || L.test(M.getAttribute("rel") || "")
                })
            }
            i(J).jEach(function(N) {
                var M, O;
                i(N).jAddEvent("click", function(P) {
                    P.stopDefaults()
                });
                M = new l().parseNode(N, this.originalTitle);
                if (this.image.zoom.src.has(M.zoom.src) && this.image.small.src.has(M.small.src)) {
                    i(M.origin).jAddClass("mz-thumb-selected");
                    M = this.image;
                    M.origin = N
                }
                if (!M.link && this.image.link) {
                    M.link = this.image.link
                }
                O = i(function() {
                    this.update(M)
                }).jBind(this);
                i(N).jAddEvent("mousedown", function(P) {
                    if ("stopImmediatePropagation" in P) {
                        P.stopImmediatePropagation()
                    }
                }, 5);
                i(N).jAddEvent("tap " + (this.option("selectorTrigger") === "hover" ? "mouseover mouseout" : "btnclick"), i(function(Q, P) {
                    if (this.updateTimer) {
                        clearTimeout(this.updateTimer)
                    }
                    this.updateTimer = false;
                    if (Q.type === "mouseover") {
                        this.updateTimer = i(O).jDelay(P)
                    } else {
                        if (Q.type === "tap" || Q.type === "btnclick") {
                            O()
                        }
                    }
                }).jBindAsEvent(this, 60)).jAddClass(this.option("cssClass")).jAddClass("mz-thumb");
                M.loadSmall();
                if (this.option("lazyZoom") !== true) {
                    M.loadZoom()
                }
                this.additionalImages.push(M)
            }, this)
        },
        update: function(J, K) {
            if (!this.ready) {
                this.nextImage = {
                    image: J,
                    onswipe: K
                };
                return
            }
            if (!J || J === this.image) {
                return false
            }
            this.deactivate(null, true);
            this.ready = false;
            this.node.jRemoveClass("mz-ready");
            this.loadTimer = i(this.showLoading).jBind(this).jDelay(400);
            J.load(i(function(R) {
                var L, S, Q, N, M, P, O = (A.browser.ieMode < 10) ? "jGetSize" : "getBoundingClientRect";
                this.hideLoading();
                R.setCurNode("small");
                if (!R.node) {
                    this.ready = true;
                    this.node.jAddClass("mz-ready");
                    return
                }
                this.setActiveThumb(R);
                L = this.image.node[O]();
                if (this.expanded) {
                    R.setCurNode("zoom");
                    Q = A.$new("div").jAddClass("mz-expand-bg");
                    if (A.browser.features.cssFilters || A.browser.ieMode < 10) {
                        Q.append(A.$new("img", {
                            src: R.getURL("zoom")
                        }).jSetCss({
                            opacity: 0
                        }))
                    } else {
                        Q.append(new A.SVGImage(R.node).blur(b).getNode().jSetCss({
                            opacity: 0
                        }))
                    }
                    i(Q).jSetCss({
                        "z-index": -99
                    }).jAppendTo(this.expandBox)
                }
                if (this.expanded && this.zoomBox.mode === "zoom" && this.option("expandZoomOn") === "always") {
                    i(R.node).jSetCss({
                        opacity: 0
                    }).jAppendTo(this.node);
                    S = L;
                    M = [R.node, this.image.node];
                    P = [{
                        opacity: [0, 1]
                    }, {
                        opacity: [1, 0]
                    }];
                    i(R.node).jSetCss({
                        "max-width": Math.min(R.jGetSize("zoom").width, this.expandMaxWidth()),
                        "max-height": Math.min(R.jGetSize("zoom").height, this.expandMaxHeight())
                    })
                } else {
                    this.node.jSetCss({
                        height: this.node[O]().height
                    });
                    this.image.node.jSetCss({
                        position: "absolute",
                        top: 0,
                        left: 0,
                        bottom: 0,
                        right: 0,
                        width: "100%",
                        height: "100%",
                        "max-width": "",
                        "max-height": ""
                    });
                    i(R.node).jSetCss({
                        "max-width": Math.min(R.jGetSize(this.expanded ? "zoom" : "small").width, this.expanded ? this.expandMaxWidth() : Infinity),
                        "max-height": Math.min(R.jGetSize(this.expanded ? "zoom" : "small").height, this.expanded ? this.expandMaxHeight() : Infinity),
                        position: "relative",
                        top: 0,
                        left: 0,
                        opacity: 0,
                        transform: ""
                    }).jAppendTo(this.node);
                    S = i(R.node)[O]();
                    if (!K) {
                        i(R.node).jSetCss({
                            "min-width": L.width,
                            height: L.height,
                            "max-width": L.width,
                            "max-height": ""
                        })
                    }
                    this.node.jSetCss({
                        height: "",
                        overflow: ""
                    }).jGetSize();
                    i(R.node).jGetSize();
                    M = [R.node, this.image.node];
                    P = [A.extend({
                        opacity: [0, 1]
                    }, K ? {
                        scale: [0.6, 1]
                    } : {
                        "min-width": [L.width, S.width],
                        "max-width": [L.width, S.width],
                        height: [L.height, S.height]
                    }), {
                        opacity: [1, 0]
                    }]
                }
                if (this.expanded) {
                    if (this.expandBg.firstChild && Q.firstChild) {
                        N = i(this.expandBg.firstChild).jGetCss("opacity");
                        if (A.browser.gecko) {
                            M = M.concat([Q.firstChild]);
                            P = P.concat([{
                                opacity: [0.0001, N]
                            }])
                        } else {
                            M = M.concat([Q.firstChild, this.expandBg.firstChild]);
                            P = P.concat([{
                                opacity: [0.0001, N]
                            }, {
                                opacity: [N, 0.0001]
                            }])
                        }
                    }
                }
                new A.PFX(M, {
                    duration: (K || this.option("transitionEffect")) ? K ? 400 : 350 : 0,
                    transition: K ? "cubic-bezier(0.175, 0.885, 0.320, 1)" : (L.width === S.width) ? "linear" : "cubic-bezier(0.25, .1, .1, 1)",
                    onComplete: i(function() {
                        this.image.node.jRemove().getAttribute("style");
                        this.image.node.removeAttribute("style");
                        i(R.node).jSetCss(this.expanded ? {
                            width: "auto",
                            height: "auto"
                        } : {
                            width: "",
                            height: ""
                        }).jSetCss({
                            "min-width": "",
                            "min-height": "",
                            opacity: "",
                            "max-width": Math.min(R.jGetSize(this.expanded ? "zoom" : "small").width, this.expanded ? this.expandMaxWidth() : Infinity),
                            "max-height": Math.min(R.jGetSize(this.expanded ? "zoom" : "small").height, this.expanded ? this.expandMaxHeight() : Infinity)
                        });
                        if (this.expanded) {
                            this.expandBg.jRemove();
                            this.expandBg = undefined;
                            this.expandBg = Q.jSetCssProp("z-index", -100);
                            i(this.expandBg.firstChild).jSetCss({
                                opacity: ""
                            });
                            if (this.expandCaption) {
                                if (R.caption) {
                                    if (R.link) {
                                        this.expandCaption.changeContent("").append(A.$new("a", {
                                            href: R.link
                                        }).jAddEvent("tap btnclick", this.openLink.jBind(this)).changeContent(R.caption))
                                    } else {
                                        this.expandCaption.changeContent(R.caption).jAddClass("mz-show")
                                    }
                                } else {
                                    this.expandCaption.jRemoveClass("mz-show")
                                }
                            }
                        }
                        this.setupZoom(R)
                    }).jBind(this),
                    onBeforeRender: i(function(T, U) {
                        if (undefined !== T.scale) {
                            U.jSetCssProp("transform", "scale(" + T.scale + ")")
                        }
                    })
                }).start(P)
            }).jBind(this))
        },
        setActiveThumb: function(K) {
            var J = false;
            i(this.additionalImages).jEach(function(L) {
                i(L.origin).jRemoveClass("mz-thumb-selected");
                if (L === K) {
                    J = true
                }
            });
            if (J && K.origin) {
                i(K.origin).jAddClass("mz-thumb-selected")
            }
            if (this.expandThumbs) {
                this.expandThumbs.selectItem(K.selector)
            }
        },
        setCaption: function(J) {
            if (this.image.caption && this.option("zoomCaption") !== "off" && this.zoomBox.mode !== "magnifier") {
                if (!this.zoomBox.caption) {
                    this.zoomBox.caption = A.$new("div", {
                        "class": "mz-caption"
                    }).jAppendTo(this.zoomBox.node.jAddClass("caption-" + this.option("zoomCaption")))
                }
                this.zoomBox.caption.changeContent(this.image.caption)
            }
        },
        showHint: function(J, M, K) {
            var L;
            if (!this.expanded) {
                if (this.hintRuns <= 0) {
                    return
                }
                if (K !== true) {
                    this.hintRuns--
                }
            }
            if (M === undefined || M === null) {
                if (!this.zoomBox.active && !this.zoomBox.activating) {
                    if (this.option("zoomMode") && (this.zoomBox.enabled || !this.image.loaded()) && !(A.browser.mobile && this.option("expand") && this.zoomBox.mode === "zoom" && this.zoomBox.position === "inner")) {
                        if (this.zoomBox.trigger === "hover") {
                            M = this.option("textHoverZoomHint")
                        } else {
                            if (this.zoomBox.trigger === "click") {
                                M = this.option("textClickZoomHint")
                            }
                        }
                    } else {
                        M = this.option("expand") ? this.option("textExpandHint") : ""
                    }
                } else {
                    M = this.option("expand") ? this.option("textExpandHint") : ""
                }
            }
            if (!M) {
                this.hideHint();
                return
            }
            L = this.node;
            if (!this.hint) {
                this.hint = A.$new("div", {
                    "class": "mz-hint"
                });
                this.hintMessage = A.$new("span", {
                    "class": "mz-hint-message"
                }).append(document.createTextNode(M)).jAppendTo(this.hint);
                i(this.hint).jAppendTo(this.node)
            } else {
                i(this.hintMessage).changeContent(M)
            }
            this.hint.jSetCss({
                "transition-delay": ""
            }).jRemoveClass("mz-hint-hidden");
            if (this.expanded) {
                L = this.expandFigure
            } else {
                if ((this.zoomBox.active || this.zoomBox.activating) && this.zoomBox.mode !== "magnifier" && this.zoomBox.position === "inner") {
                    L = this.zoomBox.node
                }
            }
            if (J === true) {
                setTimeout(i(function() {
                    this.hint.jAddClass("mz-hint-hidden")
                }).jBind(this), 16)
            }
            this.hint.jAppendTo(L)
        },
        hideHint: function() {
            if (this.hint) {
                this.hint.jSetCss({
                    "transition-delay": "0ms"
                }).jAddClass("mz-hint-hidden")
            }
        },
        showLoading: function() {
            if (!this.loadingBox) {
                this.loadingBox = A.$new("div", {
                    "class": "mz-loading"
                });
                this.node.append(this.loadingBox);
                this.loadingBox.jGetSize()
            }
            this.loadingBox.jAddClass("shown")
        },
        hideLoading: function() {
            clearTimeout(this.loadTimer);
            this.loadTimer = null;
            if (this.loadingBox) {
                i(this.loadingBox).jRemoveClass("shown")
            }
        },
        setSize: function(L, P) {
            var O = A.detach(this.zoomBox.size),
                N = (!this.expanded && this.zoomBox.custom) ? i(this.zoomBox.custom).jGetSize() : {
                    width: 0,
                    height: 0
                },
                K, J, M = this.size,
                Q = {
                    x: 0,
                    y: 0
                };
            P = P || this.zoomBox.position;
            this.normalSize = this.image.node.jGetSize();
            this.size = this.image.node.jGetSize();
            this.boundaries = this.image.node.getBoundingClientRect();
            if (!N.height) {
                N = this.size
            }
            if (this.option("upscale") === false || this.zoomBox.mode === false || this.zoomBox.mode === "preview") {
                L = false
            }
            if (this.zoomBox.mode === "preview") {
                if (O.width === "auto") {
                    O.width = this.zoomSizeOrigin.width
                }
                if (O.height === "auto") {
                    O.height = this.zoomSizeOrigin.height
                }
            }
            if (this.expanded && this.zoomBox.mode === "magnifier") {
                O.width = 70;
                O.height = "auto"
            }
            if (this.zoomBox.mode === "magnifier" && O.height === "auto") {
                this.zoomBox.width = parseFloat(O.width / 100) * Math.min(N.width, N.height);
                this.zoomBox.height = this.zoomBox.width
            } else {
                if (this.zoomBox.mode === "zoom" && P === "inner") {
                    this.size = this.node.jGetSize();
                    N = this.size;
                    this.boundaries = this.node.getBoundingClientRect();
                    this.zoomBox.width = N.width;
                    this.zoomBox.height = N.height
                } else {
                    this.zoomBox.width = (O.wunits === "%") ? parseFloat(O.width / 100) * N.width : parseInt(O.width);
                    this.zoomBox.height = (O.hunits === "%") ? parseFloat(O.height / 100) * N.height : parseInt(O.height)
                }
            }
            if (this.zoomBox.mode === "preview") {
                J = Math.min(Math.min(this.zoomBox.width / this.zoomSizeOrigin.width, this.zoomBox.height / this.zoomSizeOrigin.height), 1);
                this.zoomBox.width = this.zoomSizeOrigin.width * J;
                this.zoomBox.height = this.zoomSizeOrigin.height * J
            }
            this.zoomBox.width = Math.ceil(this.zoomBox.width);
            this.zoomBox.height = Math.ceil(this.zoomBox.height);
            this.zoomBox.aspectRatio = this.zoomBox.width / this.zoomBox.height;
            this.zoomBox.node.jSetCss({
                width: this.zoomBox.width,
                height: this.zoomBox.height
            });
            if (L) {
                N = this.expanded ? this.expandBox.jGetSize() : this.zoomBox.node.jGetSize();
                if (!this.expanded && (this.normalSize.width * this.normalSize.height) / (this.zoomSizeOrigin.width * this.zoomSizeOrigin.height) > 0.8) {
                    this.zoomSize.width = 1.5 * this.zoomSizeOrigin.width;
                    this.zoomSize.height = 1.5 * this.zoomSizeOrigin.height
                } else {
                    this.zoomSize = A.detach(this.zoomSizeOrigin)
                }
            }
            if (this.zoomBox.mode !== false && !this.zoomBox.active && !(this.expanded && this.option("expandZoomOn") === "always")) {
                if ((this.normalSize.width * this.normalSize.height) / (this.zoomSize.width * this.zoomSize.height) > 0.8) {
                    this.zoomSize = A.detach(this.zoomSizeOrigin);
                    this.zoomBox.enable(false)
                } else {
                    this.zoomBox.enable(true)
                }
            }
            this.zoomBox.image.jSetCss({
                width: this.zoomSize.width,
                height: this.zoomSize.height
            });
            this.zoomSize.maxWidth = this.zoomSize.width;
            this.zoomSize.maxHeight = this.zoomSize.height;
            K = this.zoomBox.node.getInnerSize();
            this.zoomBox.innerWidth = Math.ceil(K.width);
            this.zoomBox.innerHeight = Math.ceil(K.height);
            this.lens.width = Math.ceil(this.zoomBox.innerWidth / (this.zoomSize.width / this.size.width));
            this.lens.height = Math.ceil(this.zoomBox.innerHeight / (this.zoomSize.height / this.size.height));
            this.lens.node.jSetCss({
                width: this.lens.width,
                height: this.lens.height
            });
            this.lens.image.jSetCss(this.size);
            A.extend(this.lens, this.lens.node.jGetSize());
            if (this.zoomBox.active) {
                clearTimeout(this.moveTimer);
                this.moveTimer = null;
                if (this.lens.innertouch) {
                    this.lens.pos.x *= (this.size.width / M.width);
                    this.lens.pos.y *= (this.size.height / M.height);
                    Q.x = this.lens.spos.x;
                    Q.y = this.lens.spos.y
                } else {
                    Q.x = this.boundaries.left + this.lens.width / 2 + (this.lens.pos.x * (this.size.width / M.width));
                    Q.y = this.boundaries.top + this.lens.height / 2 + (this.lens.pos.y * (this.size.height / M.height))
                }
                this.animate(null, Q)
            }
        },
        reflowZoom: function(N) {
            var Q;
            var P;
            var J;
            var O;
            var M;
            var L;
            var K = i(this.node).jFetch("cr");
            J = a(5);
            M = this.zoomBox.position;
            O = this.expanded ? "inner" : this.zoomBox.custom ? "custom" : this.option("zoom-position");
            L = this.expanded && this.zoomBox.mode === "zoom" ? this.expandBox : document.body;
            if (this.expanded) {
                J.y = 0;
                J.x = 0
            }
            if (!N) {
                this.setSize(true, O)
            }
            Q = this.boundaries.top;
            if (this.zoomBox.mode !== "magnifier") {
                if (N) {
                    this.setSize(false);
                    return
                }
                switch (O) {
                    case "inner":
                    case "custom":
                        Q = 0;
                        P = 0;
                        break;
                    case "top":
                        Q = this.boundaries.top - this.zoomBox.height - this.option("zoom-distance");
                        if (J.top > Q) {
                            Q = this.boundaries.bottom + this.option("zoom-distance");
                            O = "bottom"
                        }
                        P = this.boundaries.left;
                        break;
                    case "bottom":
                        Q = this.boundaries.bottom + this.option("zoom-distance");
                        if (J.bottom < Q + this.zoomBox.height) {
                            Q = this.boundaries.top - this.zoomBox.height - this.option("zoom-distance");
                            O = "top"
                        }
                        P = this.boundaries.left;
                        break;
                    case "left":
                        P = this.boundaries.left - this.zoomBox.width - this.option("zoom-distance");
                        if (J.left > P && J.right >= this.boundaries.right + this.option("zoom-distance") + this.zoomBox.width) {
                            P = this.boundaries.right + this.option("zoom-distance");
                            O = "right"
                        }
                        break;
                    case "right":
                    default:
                        P = this.boundaries.right + this.option("zoom-distance");
                        if (J.right < P + this.zoomBox.width && J.left <= this.boundaries.left - this.zoomBox.width - this.option("zoom-distance")) {
                            P = this.boundaries.left - this.zoomBox.width - this.option("zoom-distance");
                            O = "left"
                        }
                        break
                }
                switch (this.option("zoom-position")) {
                    case "top":
                    case "bottom":
                        if (J.top > Q || J.bottom < Q + this.zoomBox.height) {
                            O = "inner"
                        }
                        break;
                    case "left":
                    case "right":
                        if (J.left > P || J.right < P + this.zoomBox.width) {
                            O = "inner"
                        }
                        break;
                    default:
                }
                this.zoomBox.position = O;
                if (!this.zoomBox.activating && !this.zoomBox.active) {
                    if (A.browser.mobile && !this.expanded && this.zoomBox.mode === "zoom") {
                        if (this.option("expand")) {
                            this.zoomBox.enable(O !== "inner")
                        } else {
                            if (this.option("zoomOn") !== "click") {
                                this.zoomBox.trigger = O === "inner" ? "click" : this.option("zoomOn");
                                this.unregisterActivateEvent();
                                this.unregisterDeactivateEvent();
                                this.registerActivateEvent(this.zoomBox.trigger === "click");
                                this.registerDeactivateEvent(this.zoomBox.trigger === "click" && !this.option("expand"))
                            }
                        }
                        this.showHint(false, null, true)
                    }
                    return
                }
                this.setSize(false);
                if (N) {
                    return
                }
                if (O === "custom") {
                    L = this.zoomBox.custom;
                    J.y = 0;
                    J.x = 0
                }
                if (O === "inner") {
                    if (this.zoomBox.mode !== "preview") {
                        this.zoomBox.node.jAddClass("mz-inner");
                        this.node.jAddClass("mz-inner-zoom")
                    }
                    this.lens.hide();
                    Q = this.boundaries.top + J.y;
                    P = this.boundaries.left + J.x;
                    if (!this.expanded && A.browser.ieMode && A.browser.ieMode < 11) {
                        Q = 0;
                        P = 0;
                        L = this.node
                    }
                } else {
                    Q += J.y;
                    P += J.x;
                    this.node.jRemoveClass("mz-inner-zoom");
                    this.zoomBox.node.jRemoveClass("mz-inner")
                }
                this.zoomBox.node.jSetCss({
                    top: Q,
                    left: P
                })
            } else {
                this.setSize(false);
                L = this.node
            }
            this.zoomBox.node[this.expanded ? "jAddClass" : "jRemoveClass"]("mz-expanded");
            if (!this.expanded && K) {
                K.jAppendTo(this.zoomBox.mode === "zoom" && O === "inner" ? this.zoomBox.node : this.node, ((Math.floor(Math.random() * 101) + 1) % 2) ? "top" : "bottom")
            }
            this.zoomBox.node.jAppendTo(L)
        },
        changeZoomLevel: function(P) {
            var L;
            var J;
            var N;
            var M;
            var O = false;
            var K = P.isMouse ? 5 : 3 / 54;
            if (!this.zoomBox.active) {
                return
            }
            i(P).stop();
            K = (100 + K * Math.abs(P.deltaY)) / 100;
            if (P.deltaY < 0) {
                K = 1 / K
            }
            if (this.zoomBox.mode === "magnifier") {
                J = Math.max(100, Math.round(this.zoomBox.width * K));
                J = Math.min(J, this.size.width * 0.9);
                N = J / this.zoomBox.aspectRatio;
                this.zoomBox.width = Math.ceil(J);
                this.zoomBox.height = Math.ceil(N);
                this.zoomBox.node.jSetCss({
                    width: this.zoomBox.width,
                    height: this.zoomBox.height
                });
                L = this.zoomBox.node.getInnerSize();
                this.zoomBox.innerWidth = Math.ceil(L.width);
                this.zoomBox.innerHeight = Math.ceil(L.height);
                O = true
            } else {
                if (!this.expanded && this.zoomBox.mode === "zoom") {
                    J = Math.max(this.size.width, Math.round(this.zoomSize.width * K));
                    J = Math.min(J, this.zoomSize.maxWidth);
                    N = J / (this.zoomSize.maxWidth / this.zoomSize.maxHeight);
                    this.zoomSize.width = Math.ceil(J);
                    this.zoomSize.height = Math.ceil(N)
                } else {
                    return
                }
            }
            M = i(window).jGetScroll();
            this.lens.width = (this.zoomBox.innerWidth / (this.zoomSize.width / this.size.width));
            this.lens.height = (this.zoomBox.innerHeight / (this.zoomSize.height / this.size.height));
            this.lens.node.jSetCss({
                width: this.lens.width,
                height: this.lens.height
            });
            A.extend(this.lens, this.lens.node.jGetSize());
            if (this.zoomBox.active) {
                clearTimeout(this.moveTimer);
                this.moveTimer = null;
                if (O) {
                    this.moveTimer = true
                }
                this.animate(null, {
                    x: P.x - M.x,
                    y: P.y - M.y
                });
                if (O) {
                    this.moveTimer = null
                }
            }
        },
        registerActivateEvent: function(L) {
            var K;
            var J = L ? "dbltap btnclick" : "touchstart" + (window.navigator.pointerEnabled ? " pointerdown" : window.navigator.msPointerEnabled ? " MSPointerDown" : "") + (window.navigator.pointerEnabled ? " pointermove" : window.navigator.msPointerEnabled ? " MSPointerMove" : " mousemove");
            var M = this.node.jFetch("mz:handlers:activate:fn", (!L) ? i(function(N) {
                if (c(N) && !h(N)) {
                    return
                }
                if (N && N.pointerType === "touch" && N.type !== "pointerdown") {
                    return
                }
                K = (A.browser.ieMode < 9) ? A.extend({}, N) : N;
                if (!this.activateTimer) {
                    clearTimeout(this.activateTimer);
                    this.activateTimer = setTimeout(i(function() {
                        this.activate(K)
                    }).jBind(this), 120)
                }
            }).jBindAsEvent(this) : i(this.activate).jBindAsEvent(this));
            this.node.jStore("mz:handlers:activate:event", J).jAddEvent(J, M, 10)
        },
        unregisterActivateEvent: function() {
            var J = this.node.jFetch("mz:handlers:activate:event");
            var K = this.node.jFetch("mz:handlers:activate:fn");
            this.node.jRemoveEvent(J, K);
            this.node.jDel("mz:handlers:activate:fn")
        },
        registerDeactivateEvent: function(K) {
            var J = "touchend";
            if (window.navigator.pointerEnabled) {
                J += " pointerup pointerout pointermove"
            } else {
                if (window.navigator.msPointerEnabled) {
                    J += " MSPointerUp MSPointerOut MSPointerMove"
                } else {
                    J += " mouseout mousemove"
                }
            }
            if (K) {
                if (this.expanded || A.browser.mobile) {
                    J = "dbltap btnclick"
                } else {
                    J += " dbltap btnclick"
                }
            }
            var L = this.node.jFetch("mz:handlers:deactivate:fn", i(function(N) {
                if (c(N) && !h(N)) {
                    return
                }
                if (N && N.type === "pointerup" && N.pointerType !== "touch") {
                    return
                }
                if (N && (N.type === "pointermove" || N.type === "MSPointerMove" || N.type === "mousemove")) {
                    if (!this.ready || !this.zoomBox.enabled || !this.zoomBox.active) {
                        return
                    }
                    var M = N.getClientXY();
                    if (M.x < this.boundaries.left || M.x > this.boundaries.right || M.y < this.boundaries.top || M.y > this.boundaries.bottom) {
                        this.deactivate(N);
                        return
                    }
                } else {
                    if (this.zoomBox.node !== N.getRelated() && !((this.zoomBox.position === "inner" || this.zoomBox.mode === "magnifier") && this.zoomBox.node.hasChild(N.getRelated())) && !this.node.hasChild(N.getRelated())) {
                        this.deactivate(N);
                        return
                    }
                }
            }).jBindAsEvent(this));
            this.node.jStore("mz:handlers:deactivate:event", J).jAddEvent(J, L, 20)
        },
        unregisterDeactivateEvent: function() {
            var J = this.node.jFetch("mz:handlers:deactivate:event");
            var K = this.node.jFetch("mz:handlers:deactivate:fn");
            this.node.jRemoveEvent(J, K);
            this.node.jDel("mz:handlers:deactivate:fn")
        },
        registerEvents: function() {
            this.moveBind = this.move.jBind(this);
            this.node.jAddEvent(["touchstart", window.navigator.pointerEnabled ? "pointerdown" : "MSPointerDown"], i(function(J) {
                if ((A.browser.androidBrowser || A.browser.platform === "android" && A.browser.gecko) && this.option("zoomMode") && this.option("zoomOn") !== "click" && J.type === "touchstart") {
                    J.stopDefaults();
                    if (A.browser.gecko) {
                        J.stopDistribution()
                    }
                }
                if (!this.zoomBox.active) {
                    return
                }
                if (this.zoomBox.position === "inner") {
                    this.lens.spos = J.getClientXY()
                }
            }).jBindAsEvent(this), 10);
            this.node.jAddEvent(["touchend", window.navigator.pointerEnabled ? "pointerup" : "MSPointerUp"], i(function(J) {
                if (c(J) && h(J)) {
                    this.lens.touchmovement = false
                }
            }).jBindAsEvent(this), 10);
            this.node.jAddEvent("touchmove " + (A.browser.platform === "android" ? "" : window.navigator.pointerEnabled ? "pointermove" : window.navigator.msPointerEnabled ? "MSPointerMove" : "mousemove"), i(this.animate).jBindAsEvent(this));
            if (this.option("zoomMode")) {
                this.registerActivateEvent(this.option("zoomOn") === "click");
                this.registerDeactivateEvent(this.option("zoomOn") === "click")
            }
            this.node.jAddEvent("mousedown", function(J) {
                J.stopDistribution()
            }, 10).jAddEvent("btnclick", i(function(J) {
                this.node.jRaiseEvent("MouseEvent", "click");
                if (this.expanded) {
                    this.expandBox.jCallEvent("btnclick", J)
                }
            }).jBind(this), 15);
            if (this.option("expand")) {
                this.node.jAddEvent("tap btnclick", i(this.expand).jBindAsEvent(this), 15)
            } else {
                this.node.jAddEvent("tap btnclick", i(this.openLink).jBindAsEvent(this), 15)
            }
            if (this.additionalImages.length > 1) {
                this.swipe()
            }
            if (!A.browser.mobile && this.option("variableZoom")) {
                this.node.jAddEvent("mousescroll", this.changeZoomLevel.jBindAsEvent(this))
            }
            i(window).jAddEvent(A.browser.mobile ? "resize" : "resize scroll", this.onResize)
        },
        unregisterEvents: function() {
            if (this.node) {
                this.node.jRemoveEvent("mousescroll")
            }
            i(window).jRemoveEvent("resize scroll", this.onResize);
            i(this.additionalImages).jEach(function(J) {
                i(J.origin).jClearEvents()
            })
        },
        activate: function(P) {
            var Q;
            var O;
            var M;
            var N;
            var J;
            var K = 0;
            var L = 0;
            if (!this.image.loaded() || !this.ready || !this.zoomBox.enabled || this.zoomBox.active || this.zoomBox.activating) {
                if (!this.image.loaded() && !this.initEvent) {
                    if (P) {
                        this.initEvent = e(P);
                        P.stopQueue()
                    }
                    this.image.load(this.setupZoom.jBind(this));
                    if (!this.loadTimer) {
                        this.loadTimer = i(this.showLoading).jBind(this).jDelay(400)
                    }
                }
                return
            }
            if (P && P.type === "pointermove" && P.pointerType === "touch") {
                return
            }
            if (!this.option("zoomMode") && this.option("expand") && !this.expanded) {
                this.zoomBox.active = true;
                return
            }
            this.zoomBox.activating = true;
            if (this.expanded && this.zoomBox.mode === "zoom") {
                N = this.image.node.jGetRect();
                this.expandStage.jAddClass("mz-zoom-in");
                J = this.expandFigure.jGetRect();
                L = ((N.left + N.right) / 2 - (J.left + J.right) / 2);
                K = ((N.top + N.bottom) / 2 - (J.top + J.bottom) / 2)
            }
            this.zoomBox.image.jRemoveEvent("transitionend");
            this.zoomBox.node.jRemoveClass("mz-deactivating").jRemoveEvent("transitionend");
            this.zoomBox.node.jAddClass("mz-activating");
            this.node.jAddClass("mz-activating");
            this.reflowZoom();
            O = (this.zoomBox.mode === "zoom") ? this.zoomBox.position : this.zoomBox.mode;
            if (A.browser.features.transition && !(this.expanded && this.option("expandZoomOn") === "always")) {
                if (O === "inner") {
                    M = this.image.node.jGetSize();
                    this.zoomBox.image.jSetCss({
                        transform: "translate3d(0," + K + "px, 0) scale(" + M.width / this.zoomSize.width + ", " + M.height / this.zoomSize.height + ")"
                    }).jGetSize();
                    this.zoomBox.image.jAddEvent("transitionend", i(function() {
                        this.zoomBox.image.jRemoveEvent("transitionend");
                        this.zoomBox.node.jRemoveClass("mz-activating mz-p-" + O);
                        this.zoomBox.activating = false;
                        this.zoomBox.active = true
                    }).jBind(this));
                    this.zoomBox.node.jAddClass("mz-p-" + O).jGetSize();
                    if (!A.browser.mobile && A.browser.chrome && (A.browser.uaName === "chrome" || A.browser.uaName === "opera")) {
                        this.zoomBox.activating = false;
                        this.zoomBox.active = true
                    }
                } else {
                    this.zoomBox.node.jAddEvent("transitionend", i(function() {
                        this.zoomBox.node.jRemoveEvent("transitionend");
                        this.zoomBox.node.jRemoveClass("mz-activating mz-p-" + O)
                    }).jBind(this));
                    this.zoomBox.node.jSetCss({
                        transition: "none"
                    });
                    this.zoomBox.node.jAddClass("mz-p-" + O).jGetSize();
                    this.zoomBox.node.jSetCss({
                        transition: ""
                    }).jGetSize();
                    this.zoomBox.node.jRemoveClass("mz-p-" + O);
                    this.zoomBox.activating = false;
                    this.zoomBox.active = true
                }
            } else {
                this.zoomBox.node.jRemoveClass("mz-activating");
                this.zoomBox.activating = false;
                this.zoomBox.active = true
            }
            if (!this.expanded) {
                this.showHint(true)
            }
            if (P) {
                P.stop().stopQueue();
                Q = P.getClientXY();
                if (this.zoomBox.mode === "magnifier" && (/tap/i).test(P.type)) {
                    Q.y -= this.zoomBox.height / 2 + 10
                }
                if (O === "inner" && ((/tap/i).test(P.type) || c(P))) {
                    this.lens.pos = {
                        x: 0,
                        y: 0
                    };
                    Q.x = -(Q.x - this.boundaries.left - this.size.width / 2) * (this.zoomSize.width / this.size.width);
                    Q.y = -(Q.y - this.boundaries.top - this.size.height / 2) * (this.zoomSize.height / this.size.height)
                }
            } else {
                Q = {
                    x: this.boundaries.left + (this.boundaries.right - this.boundaries.left) / 2,
                    y: this.boundaries.top + (this.boundaries.bottom - this.boundaries.top) / 2
                };
                if (A.browser.mobile && this.expanded && this.option("expandZoomOn") === "always") {
                    this.lens.innertouch = true;
                    this.lens.pos = {
                        x: 0,
                        y: 0
                    };
                    Q.x = -(Q.x - this.boundaries.left - this.size.width / 2) * (this.zoomSize.width / this.size.width);
                    Q.y = -(Q.y - this.boundaries.top - this.size.height / 2) * (this.zoomSize.height / this.size.height)
                }
            }
            this.node.jRemoveClass("mz-activating").jAddClass("mz-active");
            Q.x += -L;
            Q.y += -K;
            this.lens.spos = {
                x: 0,
                y: 0
            };
            this.lens.dx = 0;
            this.lens.dy = 0;
            this.animate(P, Q, true);
            u("onZoomIn", this.id)
        },
        deactivate: function(L, Q) {
            var O;
            var M;
            var J;
            var K;
            var N = 0;
            var P = 0;
            var R = this.zoomBox.active;
            this.initEvent = null;
            if (!this.ready) {
                return
            }
            if (L && L.type === "pointerout" && L.pointerType === "touch") {
                return
            }
            clearTimeout(this.moveTimer);
            this.moveTimer = null;
            clearTimeout(this.activateTimer);
            this.activateTimer = null;
            this.zoomBox.activating = false;
            this.zoomBox.active = false;
            if (Q !== true && !this.expanded) {
                if (R) {
                    if (A.browser.mobile && !this.expanded && this.zoomBox.mode === "zoom") {
                        this.reflowZoom()
                    } else {
                        this.showHint()
                    }
                }
            }
            if (!this.zoomBox.enabled) {
                return
            }
            if (L) {
                L.stop()
            }
            this.zoomBox.image.jRemoveEvent("transitionend");
            this.zoomBox.node.jRemoveClass("mz-activating").jRemoveEvent("transitionend");
            if (this.expanded) {
                K = this.expandFigure.jGetRect();
                if (this.option("expandZoomOn") !== "always") {
                    this.expandStage.jRemoveClass("mz-zoom-in")
                }
                this.image.node.jSetCss({
                    "max-height": this.expandMaxHeight()
                });
                J = this.image.node.jGetRect();
                P = ((J.left + J.right) / 2 - (K.left + K.right) / 2);
                N = ((J.top + J.bottom) / 2 - (K.top + K.bottom) / 2)
            }
            O = (this.zoomBox.mode === "zoom") ? this.zoomBox.position : this.zoomBox.mode;
            if (A.browser.features.transition && L && !(this.expanded && this.option("expandZoomOn") === "always")) {
                if (O === "inner") {
                    this.zoomBox.image.jAddEvent("transitionend", i(function() {
                        this.zoomBox.image.jRemoveEvent("transitionend");
                        this.node.jRemoveClass("mz-active");
                        setTimeout(i(function() {
                            this.zoomBox.hide()
                        }).jBind(this), 32)
                    }).jBind(this));
                    M = this.image.node.jGetSize();
                    this.zoomBox.node.jAddClass("mz-deactivating mz-p-" + O).jGetSize();
                    this.zoomBox.image.jSetCss({
                        transform: "translate3d(0," + N + "px,0) scale(" + M.width / this.zoomSize.maxWidth + ", " + M.height / this.zoomSize.maxHeight + ")"
                    })
                } else {
                    this.zoomBox.node.jAddEvent("transitionend", i(function() {
                        this.zoomBox.hide();
                        this.node.jRemoveClass("mz-active")
                    }).jBind(this));
                    this.zoomBox.node.jGetCss("opacity");
                    this.zoomBox.node.jAddClass("mz-deactivating mz-p-" + O);
                    this.node.jRemoveClass("mz-active")
                }
            } else {
                this.zoomBox.hide();
                this.node.jRemoveClass("mz-active")
            }
            this.lens.dx = 0;
            this.lens.dy = 0;
            this.lens.spos = {
                x: 0,
                y: 0
            };
            this.lens.hide();
            if (R) {
                u("onZoomOut", this.id)
            }
        },
        animate: function(T, S, R) {
            var L = S;
            var N;
            var M;
            var P = 0;
            var K;
            var O = 0;
            var J;
            var U;
            var Q = false;
            if (!this.zoomBox.active && !R) {
                return
            }
            if (T) {
                i(T).stopDefaults().stopDistribution();
                if (c(T) && !h(T)) {
                    return
                }
                Q = (/tap/i).test(T.type) || c(T);
                if (Q && !this.lens.touchmovement) {
                    this.lens.touchmovement = Q
                }
                if (!L) {
                    L = T.getClientXY()
                }
            }
            if (this.zoomBox.mode === "preview") {
                return
            }
            if (this.zoomBox.mode === "zoom" && this.zoomBox.position === "inner" && (T && Q || !T && this.lens.innertouch)) {
                this.lens.innertouch = true;
                N = this.lens.pos.x + (L.x - this.lens.spos.x);
                M = this.lens.pos.y + (L.y - this.lens.spos.y);
                this.lens.spos = L;
                P = Math.min(0, this.zoomBox.innerWidth - this.zoomSize.width) / 2;
                K = -P;
                O = Math.min(0, this.zoomBox.innerHeight - this.zoomSize.height) / 2;
                J = -O
            } else {
                this.lens.innertouch = false;
                if (this.zoomBox.mode === "magnifier") {
                    L.y = Math.max(this.boundaries.top, Math.min(L.y, this.boundaries.bottom));
                    L.x = Math.max(this.boundaries.left, Math.min(L.x, this.boundaries.right))
                }
                N = L.x - this.boundaries.left;
                M = L.y - this.boundaries.top;
                K = this.size.width - this.lens.width;
                J = this.size.height - this.lens.height;
                N -= this.lens.width / 2;
                M -= this.lens.height / 2
            }
            if (this.zoomBox.mode !== "magnifier") {
                N = Math.max(P, Math.min(N, K));
                M = Math.max(O, Math.min(M, J))
            }
            this.lens.pos.x = N;
            this.lens.pos.y = M;
            if (this.zoomBox.mode === "zoom" && this.zoomBox.position !== "inner") {
                if (A.browser.features.transform) {
                    this.lens.node.jSetCss({
                        transform: "translate(" + this.lens.pos.x + "px," + this.lens.pos.y + "px)"
                    });
                    this.lens.image.jSetCss({
                        transform: "translate(" + -(this.lens.pos.x + this.lens.border.x) + "px, " + -(this.lens.pos.y + this.lens.border.y) + "px)"
                    })
                } else {
                    this.lens.node.jSetCss({
                        top: this.lens.pos.y,
                        left: this.lens.pos.x
                    });
                    this.lens.image.jSetCss({
                        top: -(this.lens.pos.y + this.lens.border.y),
                        left: -(this.lens.pos.x + this.lens.border.x)
                    })
                }
            }
            if (this.zoomBox.mode === "magnifier") {
                if (this.lens.touchmovement && !(T && T.type === "dbltap")) {
                    L.y -= this.zoomBox.height / 2 + 10
                }
                this.zoomBox.node.jSetCss({
                    top: L.y - this.boundaries.top - this.zoomBox.height / 2,
                    left: L.x - this.boundaries.left - this.zoomBox.width / 2
                })
            }
            if (!this.moveTimer) {
                this.lens.dx = 0;
                this.lens.dy = 0;
                this.move(1)
            }
        },
        move: function(O) {
            var M;
            var K;
            var J;
            var P;
            var N;
            var L;
            if (!isFinite(O)) {
                if (this.lens.innertouch) {
                    O = this.lens.touchmovement ? 0.4 : 0.16
                } else {
                    O = this.option("smoothing") ? 0.2 : this.lens.touchmovement ? 0.4 : 0.8
                }
            }
            M = ((this.lens.pos.x - this.lens.dx) * O);
            K = ((this.lens.pos.y - this.lens.dy) * O);
            this.lens.dx += M;
            this.lens.dy += K;
            if (!this.moveTimer || Math.abs(M) > 0.000001 || Math.abs(K) > 0.000001) {
                if (this.lens.innertouch) {
                    J = this.lens.dx;
                    P = this.lens.dy
                } else {
                    J = (this.lens.dx * (this.zoomSize.width / this.size.width) - Math.max(0, this.zoomSize.width - this.zoomBox.innerWidth) / 2);
                    P = (this.lens.dy * (this.zoomSize.height / this.size.height) - Math.max(0, this.zoomSize.height - this.zoomBox.innerHeight) / 2);
                    if (this.zoomBox.mode === "magnifier") {
                        J = Math.round(J);
                        P = Math.round(P)
                    }
                    J = -J;
                    P = -P
                }
                N = this.zoomSize.width / this.zoomSize.maxWidth;
                L = this.zoomSize.height / this.zoomSize.maxHeight;
                this.zoomBox.image.jSetCss(A.browser.features.transform ? {
                    transform: g + J + "px," + P + "px" + C + " scale(" + N + "," + L + ")"
                } : {
                    width: this.zoomSize.width,
                    height: this.zoomSize.height,
                    left: -(this.lens.dx * (this.zoomSize.width / this.size.width) + Math.min(0, this.zoomSize.width - this.zoomBox.innerWidth) / 2),
                    top: -(this.lens.dy * (this.zoomSize.height / this.size.height) + Math.min(0, this.zoomSize.height - this.zoomBox.innerHeight) / 2)
                })
            }
            if (this.zoomBox.mode === "magnifier") {
                return
            }
            this.moveTimer = setTimeout(this.moveBind, 16)
        },
        swipe: function() {
            var V;
            var L;
            var Q = 30;
            var N = 201;
            var S;
            var T = "";
            var K = {};
            var J;
            var P;
            var U = 0;
            var W = {
                transition: A.browser.cssTransform + String.fromCharCode(32) + "300ms cubic-bezier(.18,.35,.58,1)"
            };
            var M;
            var R;
            var O = i(function(X) {
                if (!this.ready || this.zoomBox.active) {
                    return
                }
                if (X.state === "dragstart") {
                    clearTimeout(this.activateTimer);
                    this.activateTimer = null;
                    U = 0;
                    K = {
                        x: X.x,
                        y: X.y,
                        ts: X.timeStamp
                    };
                    V = this.size.width;
                    L = V / 2;
                    this.image.node.jRemoveEvent("transitionend");
                    this.image.node.jSetCssProp("transition", "");
                    this.image.node.jSetCssProp("transform", "translate3d(0, 0, 0)");
                    R = null
                } else {
                    J = (X.x - K.x);
                    P = {
                        x: 0,
                        y: 0,
                        z: 0
                    };
                    if (R === null) {
                        R = (Math.abs(X.x - K.x) < Math.abs(X.y - K.y))
                    }
                    if (R) {
                        return
                    }
                    X.stop();
                    if (X.state === "dragend") {
                        U = 0;
                        M = null;
                        S = X.timeStamp - K.ts;
                        if (Math.abs(J) > L || (S < N && Math.abs(J) > Q)) {
                            if ((T = (J > 0) ? "backward" : (J <= 0) ? "forward" : "")) {
                                if (T === "backward") {
                                    M = this.getPrev();
                                    U += V * 10
                                } else {
                                    M = this.getNext();
                                    U -= V * 10
                                }
                            }
                        }
                        P.x = U;
                        P.deg = -90 * (P.x / V);
                        this.image.node.jAddEvent("transitionend", i(function(Y) {
                            this.image.node.jRemoveEvent("transitionend");
                            this.image.node.jSetCssProp("transition", "");
                            if (M) {
                                this.image.node.jSetCss({
                                    transform: "translate3d(" + P.x + "px, 0px, 0px)"
                                });
                                this.update(M, true)
                            }
                        }).jBind(this));
                        this.image.node.jSetCss(W);
                        this.image.node.jSetCss({
                            "transition-duration": P.x ? "100ms" : "300ms",
                            opacity: 1 - 0.7 * Math.abs(P.x / V),
                            transform: "translate3d(" + P.x + "px, 0px, 0px)"
                        });
                        J = 0;
                        return
                    }
                    P.x = J;
                    P.z = -50 * Math.abs(P.x / L);
                    P.deg = -60 * (P.x / L);
                    this.image.node.jSetCss({
                        opacity: 1 - 0.7 * Math.abs(P.x / L),
                        transform: "translate3d(" + P.x + "px, 0px, " + P.z + "px)"
                    })
                }
            }).jBind(this);
            this.node.jAddEvent("touchdrag", O)
        },
        setupExpandGallery: function() {
            var K, J;
            if (this.additionalImages.length) {
                this.expandGallery = this.additionalImages
            } else {
                K = this.placeholder.getAttribute("data-gallery");
                if (K) {
                    if (A.browser.features.query) {
                        J = A.$A(document.querySelectorAll('.MagicZoom[data-gallery="' + K + '"], .MagicZoomPlus[data-gallery="' + K + '"]'))
                    } else {
                        J = A.$A(document.getElementsByTagName("A")).filter(function(L) {
                            return K === L.getAttribute("data-gallery")
                        })
                    }
                    i(J).jEach(function(M) {
                        var L, N;
                        L = j(M);
                        if (L && L.additionalImages.length > 0) {
                            return
                        }
                        if (L) {
                            N = new l(L.image.small.url, L.image.zoom.url, L.image.caption, null, L.image.origin);
                            N.link = L.image.link
                        } else {
                            N = new l().parseNode(M, L ? L.originalTitle : null)
                        }
                        if (this.image.zoom.src.has(N.zoom.url) && this.image.small.src.has(N.small.url)) {
                            N = this.image
                        }
                        this.expandGallery.push(N)
                    }, this);
                    this.primaryImage = this.image
                }
            }
            if (this.expandGallery.length > 1) {
                this.expandStage.jAddClass("with-thumbs");
                this.expandNav = A.$new("div", {
                    "class": "mz-expand-thumbnails"
                }).jAppendTo(this.expandStage);
                this.expandThumbs = new s(this.expandNav);
                i(this.expandGallery).jEach(function(L) {
                    var M = i(function(N) {
                        this.setActiveThumb(L);
                        this.update(L)
                    }).jBind(this);
                    L.selector = this.expandThumbs.addItem(A.$new("img", {
                        src: L.getURL("small")
                    }).jAddEvent("tap btnclick", function(N) {
                        N.stop()
                    }).jAddEvent("tap " + (this.option("selectorTrigger") === "hover" ? "mouseover mouseout" : "btnclick"), i(function(O, N) {
                        if (this.updateTimer) {
                            clearTimeout(this.updateTimer)
                        }
                        this.updateTimer = false;
                        if (O.type === "mouseover") {
                            this.updateTimer = i(M).jDelay(N)
                        } else {
                            if (O.type === "tap" || O.type === "btnclick") {
                                M()
                            }
                        }
                    }).jBindAsEvent(this, 60)))
                }, this);
                this.buttons.next.show();
                this.buttons.prev.show()
            } else {
                this.expandStage.jRemoveClass("with-thumbs");
                this.buttons.next.hide();
                this.buttons.prev.hide()
            }
        },
        destroyExpandGallery: function() {
            var J;
            if (this.expandThumbs) {
                this.expandThumbs.stop();
                this.expandThumbs = null
            }
            if (this.expandNav) {
                this.expandNav.jRemove();
                this.expandNav = null
            }
            if (this.expandGallery.length > 1 && !this.additionalImages.length) {
                this.node.jRemoveEvent("touchdrag");
                this.image.node.jRemove().getAttribute("style");
                this.image.node.removeAttribute("style");
                this.primaryImage.node.jAppendTo(this.node);
                this.setupZoom(this.primaryImage);
                while (J = this.expandGallery.pop()) {
                    if (J !== this.primaryImage) {
                        if (J.small.node) {
                            J.small.node.kill();
                            J.small.node = null
                        }
                        if (J.zoom.node) {
                            J.zoom.node.kill();
                            J.zoom.node = null
                        }
                        J = null
                    }
                }
            }
            this.expandGallery = []
        },
        close: function() {
            if (!this.ready || !this.expanded) {
                return
            }
            if (A.browser.platform === "ios" && A.browser.uaName === "safari" && parseInt(A.browser.uaVersion) === 7) {
                clearInterval(n);
                n = null
            }
            i(document).jRemoveEvent("keydown", this.keyboardCallback);
            this.deactivate(null, true);
            this.ready = false;
            if (A.browser.fullScreen.capable && A.browser.fullScreen.enabled()) {
                A.browser.fullScreen.cancel()
            } else {
                if (A.browser.features.transition) {
                    this.node.jRemoveEvent("transitionend").jSetCss({
                        transition: ""
                    });
                    this.node.jAddEvent("transitionend", this.onClose);
                    if (A.browser.webkit) {
                        setTimeout(i(function() {
                            this.onClose()
                        }).jBind(this), 260)
                    }
                    this.expandBg.jRemoveEvent("transitionend").jSetCss({
                        transition: ""
                    });
                    this.expandBg.jSetCss({
                        transition: "all 0.6s cubic-bezier(0.895, 0.030, 0.685, 0.220) 0.0s"
                    }).jGetSize();
                    this.node.jSetCss({
                        transition: "all .3s cubic-bezier(0.600, 0, 0.735, 0.045) 0s"
                    }).jGetSize();
                    if (this.zoomBox.mode !== false && this.option("expandZoomOn") === "always" && this.option("expandZoomMode") !== "magnifier") {
                        this.image.node.jSetCss({
                            "max-height": this.image.jGetSize("zoom").height
                        });
                        this.image.node.jSetCss({
                            "max-width": this.image.jGetSize("zoom").width
                        })
                    }
                    this.expandBg.jSetCss({
                        opacity: 0.4
                    });
                    this.node.jSetCss({
                        opacity: 0.01,
                        transform: "scale(0.4)"
                    })
                } else {
                    this.onClose()
                }
            }
        },
        expand: function(L) {
            if (!this.image.loaded() || !this.ready || this.expanded) {
                if (!this.image.loaded()) {
                    if (L) {
                        this.initEvent = e(L);
                        L.stopQueue();
                        if (L.type === "tap") {
                            L.events[1].stopQueue()
                        }
                    }
                    this.image.load(this.setupZoom.jBind(this));
                    if (!this.loadTimer) {
                        this.loadTimer = i(this.showLoading).jBind(this).jDelay(400)
                    }
                }
                return
            }
            if (L) {
                L.stopQueue()
            }
            var J = i(this.node).jFetch("cr");
            var K = document.createDocumentFragment();
            this.hideHint();
            this.hintRuns--;
            this.deactivate(null, true);
            this.unregisterActivateEvent();
            this.unregisterDeactivateEvent();
            this.ready = false;
            if (!this.expandBox) {
                this.expandBox = A.$new("div").jAddClass("mz-expand").jAddClass(this.option("cssClass")).jSetCss({
                    opacity: 0
                });
                this.expandStage = A.$new("div").jAddClass("mz-expand-stage").jAppendTo(this.expandBox);
                this.expandControls = A.$new("div").jAddClass("mz-expand-controls").jAppendTo(this.expandStage);
                i(["prev", "next", "close"]).jEach(function(N) {
                    var M = "mz-button";
                    this.buttons[N] = A.$new("button", {
                        title: this.option("text-btn-" + N)
                    }).jAddClass(M).jAddClass(M + "-" + N);
                    K.appendChild(this.buttons[N]);
                    switch (N) {
                        case "prev":
                            this.buttons[N].jAddEvent("tap btnclick", function(O) {
                                O.stop();
                                this.update(this.getPrev())
                            }.jBindAsEvent(this));
                            break;
                        case "next":
                            this.buttons[N].jAddEvent("tap btnclick", function(O) {
                                O.stop();
                                this.update(this.getNext())
                            }.jBindAsEvent(this));
                            break;
                        case "close":
                            this.buttons[N].jAddEvent("tap btnclick", function(O) {
                                O.stop();
                                this.close()
                            }.jBindAsEvent(this));
                            break;
                        default:
                    }
                }, this);
                this.expandControls.append(K);
                this.expandBox.jAddEvent("mousescroll touchstart dbltap", i(function(M) {
                    i(M).stop()
                }));
                if (this.option("closeOnClickOutside")) {
                    this.expandBox.jAddEvent("tap btnclick", function(O) {
                        var N = O.jGetPageXY();
                        var M = i(this.option("expandZoomMode") === "magnifier" ? this.zoomBox.node : this.zoomBox.image).jGetRect();
                        if (this.option("expandZoomOn") !== "always" && M.top <= N.y && N.y <= M.bottom && M.left <= N.x && N.x <= M.right) {
                            O.stopQueue();
                            this.deactivate(O);
                            return
                        }
                        if (this.option("expandZoomOn") !== "always" && this.node.hasChild(O.getOriginalTarget())) {
                            return
                        }
                        O.stop();
                        this.close()
                    }.jBindAsEvent(this))
                }
                this.keyboardCallback = i(function(N) {
                    var M = null;
                    if (N.keyCode !== 27 && N.keyCode !== 37 && N.keyCode !== 39) {
                        return
                    }
                    i(N).stop();
                    if (N.keyCode === 27) {
                        this.close()
                    } else {
                        M = (N.keyCode === 37) ? this.getPrev() : this.getNext();
                        if (M) {
                            this.update(M)
                        }
                    }
                }).jBindAsEvent(this);
                this.onExpand = i(function() {
                    var M;
                    this.node.jRemoveEvent("transitionend").jSetCss({
                        transition: "",
                        transform: "translate3d(0, 0, 0)"
                    });
                    if (this.expanded) {
                        return
                    }
                    this.expanded = true;
                    this.expandBox.jRemoveClass("mz-expand-opening").jSetCss({
                        opacity: 1
                    });
                    this.zoomBox.setMode(this.option("expandZoomMode"));
                    this.zoomSize = A.detach(this.zoomSizeOrigin);
                    this.resizeCallback();
                    if (this.expandCaption && this.image.caption) {
                        if (this.image.link) {
                            this.expandCaption.append(A.$new("a", {
                                href: this.image.link
                            }).jAddEvent("tap btnclick", this.openLink.jBind(this)).changeContent(this.image.caption))
                        } else {
                            this.expandCaption.changeContent(this.image.caption)
                        }
                        this.expandCaption.jAddClass("mz-show")
                    }
                    if (this.option("expandZoomOn") !== "always") {
                        this.registerActivateEvent(true);
                        this.registerDeactivateEvent(true)
                    }
                    this.ready = true;
                    if (this.option("expandZoomOn") === "always") {
                        if (this.zoomBox.mode !== false) {
                            this.zoomBox.enable(true)
                        }
                        if (A.browser.mobile && this.mobileZoomHint) {
                            this.mobileZoomHint = false
                        }
                        this.activate()
                    }
                    if ((A.browser.mobile || this.option("forceTouch")) && this.zoomBox.enabled) {
                        if (this.mobileZoomHint || this.hintRuns > 0) {
                            this.showHint(true, this.option("textClickZoomHint"))
                        }
                        this.mobileZoomHint = false
                    }
                    this.expandControls.jRemoveClass("mz-hidden").jAddClass("mz-fade mz-visible");
                    if (this.expandNav) {
                        this.expandNav.jRemoveClass("mz-hidden").jAddClass("mz-fade mz-visible")
                    }
                    if (this.expandThumbs) {
                        this.expandThumbs.run();
                        this.setActiveThumb(this.image)
                    }
                    if (J) {
                        J.jAppendTo(this.expandBox, ((Math.floor(Math.random() * 101) + 1) % 2) ? "top" : "bottom")
                    }
                    if (this.expandGallery.length && !this.additionalImages.length) {
                        this.swipe()
                    }
                    i(document).jAddEvent("keydown", this.keyboardCallback);
                    if (A.browser.platform === "ios" && A.browser.uaName === "safari" && parseInt(A.browser.uaVersion) === 7) {
                        n = w()
                    }
                    u("onExpandOpen", this.id)
                }).jBind(this);
                this.onClose = i(function() {
                    this.node.jRemoveEvent("transitionend");
                    if (!this.expanded) {
                        return
                    }
                    if (this.expanded) {
                        i(document).jRemoveEvent("keydown", this.keyboardCallback);
                        this.deactivate(null, true)
                    }
                    this.destroyExpandGallery();
                    this.expanded = false;
                    this.zoomBox.setMode(this.option("zoomMode"));
                    this.node.replaceChild(this.image.getNode("small"), this.image.node);
                    this.image.setCurNode("small");
                    i(this.image.node).jSetCss({
                        width: "",
                        height: "",
                        "max-width": Math.min(this.image.jGetSize("small").width),
                        "max-height": Math.min(this.image.jGetSize("small").height)
                    });
                    this.lens.image.src = this.image.getURL("small");
                    this.node.jSetCss({
                        opacity: "",
                        transition: ""
                    });
                    this.node.jSetCss({
                        transform: "translate3d(0, 0, 0)"
                    });
                    i(this.placeholder).replaceChild(this.node, this.stubNode);
                    this.setSize(true);
                    if (this.expandCaption) {
                        this.expandCaption.jRemove();
                        this.expandCaption = null
                    }
                    this.unregisterActivateEvent();
                    this.unregisterDeactivateEvent();
                    if (this.option("zoomOn") === "always") {
                        this.activate()
                    } else {
                        if (this.option("zoomMode") !== false) {
                            this.registerActivateEvent(this.option("zoomOn") === "click");
                            this.registerDeactivateEvent(this.option("zoomOn") === "click")
                        }
                    }
                    this.showHint();
                    this.expandBg.jRemoveEvent("transitionend");
                    this.expandBox.jRemove();
                    this.expandBg.jRemove();
                    this.expandBg = null;
                    i(A.browser.getDoc()).jRemoveClass("mz-expanded-view-open");
                    this.ready = true;
                    if (A.browser.ieMode < 10) {
                        this.resizeCallback()
                    } else {
                        i(window).jRaiseEvent("UIEvent", "resize")
                    }
                    u("onExpandClose", this.id)
                }).jBind(this);
                this.expandImageStage = A.$new("div", {
                    "class": "mz-image-stage"
                }).jAppendTo(this.expandStage);
                this.expandFigure = A.$new("figure").jAppendTo(this.expandImageStage);
                this.stubNode = this.node.cloneNode(false)
            }
            this.setupExpandGallery();
            i(A.browser.getDoc()).jAddClass("mz-expanded-view-open");
            i(document.body).jGetSize();
            if (this.option("expand") === "fullscreen") {
                this.prepareExpandedView();
                A.browser.fullScreen.request(this.expandBox, {
                    onEnter: i(function() {
                        this.onExpand()
                    }).jBind(this),
                    onExit: this.onClose,
                    fallback: i(function() {
                        this.expandToWindow()
                    }).jBind(this)
                })
            } else {
                setTimeout(i(function() {
                    this.prepareExpandedView();
                    this.expandToWindow()
                }).jBind(this), 96)
            }
        },
        prepareExpandedView: function() {
            var K;
            var J;
            K = A.$new("img", {
                src: this.image.getURL("zoom")
            });
            this.expandBg = A.$new("div").jAddClass("mz-expand-bg").append((A.browser.features.cssFilters || A.browser.ieMode < 10) ? K : new A.SVGImage(K).blur(b).getNode()).jAppendTo(this.expandBox);
            if (this.option("expandZoomOn") === "always" && this.option("expandZoomMode") !== false) {
                this.expandStage.jAddClass("mz-always-zoom" + (this.option("expandZoomMode") === "zoom" ? " mz-zoom-in" : "")).jGetSize()
            }
            J = i(this.node)[(A.browser.ieMode < 10) ? "jGetSize" : "getBoundingClientRect"]();
            i(this.stubNode).jSetCss({
                width: J.width,
                height: J.height
            });
            this.node.replaceChild(this.image.getNode("zoom"), this.image.node);
            this.image.setCurNode("zoom");
            this.expandBox.jAppendTo(document.body);
            this.expandMaxWidth = function() {
                var L = this.expandImageStage;
                if (i(this.expandFigure).jGetSize().width > 50) {
                    L = this.expandFigure
                }
                return function() {
                    return this.option("expandZoomOn") === "always" && this.option("expandZoomMode") !== false && this.option("expandZoomMode") !== "magnifier" ? Infinity : Math.round(i(L).getInnerSize().width)
                }
            }.call(this);
            this.expandMaxHeight = function() {
                var L = this.expandImageStage;
                if (i(this.expandFigure).jGetSize().height > 50) {
                    L = this.expandFigure
                }
                return function() {
                    return this.option("expandZoomOn") === "always" && this.option("expandZoomMode") !== false && this.option("expandZoomMode") !== "magnifier" ? Infinity : Math.round(i(L).getInnerSize().height)
                }
            }.call(this);
            this.expandControls.jRemoveClass("mz-fade mz-visible").jAddClass("mz-hidden");
            if (this.expandNav) {
                this.expandNav.jRemoveClass("mz-fade mz-visible").jAddClass("mz-hidden")
            }
            this.image.node.jSetCss({
                "max-height": Math.min(this.image.jGetSize("zoom").height, this.expandMaxHeight())
            });
            this.image.node.jSetCss({
                "max-width": Math.min(this.image.jGetSize("zoom").width, this.expandMaxWidth())
            });
            this.expandFigure.append(i(this.placeholder).replaceChild(this.stubNode, this.node));
            if (this.option("expandCaption")) {
                this.expandCaption = A.$new("figcaption", {
                    "class": "mz-caption"
                }).jAppendTo(this.expandFigure)
            }
        },
        expandToWindow: function() {
            this.node.jSetCss({
                transition: ""
            });
            this.node.jSetCss({
                transform: "scale(0.6)"
            }).jGetSize();
            this.node.jSetCss({
                transition: A.browser.cssTransform + " 0.4s cubic-bezier(0.175, 0.885, 0.320, 1) 0s"
            });
            if (A.browser.features.transition) {
                this.node.jAddEvent("transitionend", this.onExpand);
                if (A.browser.chrome && (A.browser.uaName === "chrome" || A.browser.uaName === "opera")) {
                    setTimeout(i(function() {
                        this.onExpand()
                    }).jBind(this), 500)
                }
            } else {
                this.onExpand.jDelay(16, this)
            }
            this.expandBox.jSetCss({
                opacity: 1
            });
            this.node.jSetCss({
                transform: "scale(1)"
            })
        },
        openLink: function() {
            if (this.image.link) {
                window.open(this.image.link, "_self")
            }
        },
        getNext: function() {
            var J = (this.expanded ? this.expandGallery : this.additionalImages).filter(function(M) {
                return (M.small.state !== -1 || M.zoom.state !== -1)
            });
            var K = J.length;
            var L = i(J).indexOf(this.image) + 1;
            return (K <= 1) ? null : J[(L >= K) ? 0 : L]
        },
        getPrev: function() {
            var J = (this.expanded ? this.expandGallery : this.additionalImages).filter(function(M) {
                return (M.small.state !== -1 || M.zoom.state !== -1)
            });
            var K = J.length;
            var L = i(J).indexOf(this.image) - 1;
            return (K <= 1) ? null : J[(L < 0) ? K - 1 : L]
        },
        imageByURL: function(K, L) {
            var J = this.additionalImages.filter(function(M) {
                return ((M.zoom.src.has(K) || M.zoom.url.has(K)) && (M.small.src.has(L) || M.small.url.has(L)))
            }) || [];
            return J[0] || ((L && K && A.jTypeOf(L) === "string" && A.jTypeOf(K) === "string") ? new l(L, K) : null)
        },
        imageByOrigin: function(K) {
            var J = this.additionalImages.filter(function(L) {
                return (L.origin === K)
            }) || [];
            return J[0]
        },
        imageByIndex: function(J) {
            return this.additionalImages[J]
        }
    };
    v = {
        version: "v5.2.5 (Plus) for MagicToolbox.com",
        start: function(M, K) {
            var L = null;
            var J = [];
            A.$A((M ? [i(M)] : A.$A(document.byClass("MagicZoom")).concat(A.$A(document.byClass("MagicZoomPlus"))))).jEach(i(function(N) {
                if (i(N)) {
                    if (!j(N)) {
                        L = new k(N, K);
                        if (y && !L.option("autostart")) {
                            L.stop();
                            L = null
                        } else {
                            G.push(L);
                            J.push(L)
                        }
                    }
                }
            }).jBind(this));
            return M ? J[0] : J
        },
        stop: function(M) {
            var K, L, J;
            if (M) {
                (L = j(M)) && (L = G.splice(G.indexOf(L), 1)) && L[0].stop() && (delete L[0]);
                return
            }
            while (K = G.length) {
                L = G.splice(K - 1, 1);
                L[0].stop();
                delete L[0]
            }
        },
        refresh: function(J) {
            this.stop(J);
            return this.start(J)
        },
        update: function(O, N, M, K) {
            var L = j(O);
            var J;
            if (L) {
                J = A.jTypeOf(N) === "element" ? L.imageByOrigin(N) : L.imageByURL(N, M);
                if (J) {
                    L.update(J)
                }
            }
        },
        switchTo: function(M, L) {
            var K = j(M);
            var J;
            if (K) {
                switch (A.jTypeOf(L)) {
                    case "element":
                        J = K.imageByOrigin(L);
                        break;
                    case "number":
                        J = K.imageByIndex(L);
                        break;
                    default:
                }
                if (J) {
                    K.update(J)
                }
            }
        },
        prev: function(K) {
            var J;
            (J = j(K)) && J.update(J.getPrev())
        },
        next: function(K) {
            var J;
            (J = j(K)) && J.update(J.getNext())
        },
        zoomIn: function(K) {
            var J;
            (J = j(K)) && J.activate()
        },
        zoomOut: function(K) {
            var J;
            (J = j(K)) && J.deactivate()
        },
        expand: function(K) {
            var J;
            (J = j(K)) && J.expand()
        },
        close: function(K) {
            var J;
            (J = j(K)) && J.close()
        },
        registerCallback: function(J, K) {
            if (!q[J]) {
                q[J] = []
            }
            if (A.jTypeOf(K) === "function") {
                q[J].push(K)
            }
        },
        running: function(J) {
            return !!j(J)
        }
    };
    i(document).jAddEvent("domready", function() {
        var K = window[E + "Options"] || {};
        t = t();
        d();
        I = A.$new("div", {
            "class": "magic-hidden-wrapper"
        }).jAppendTo(document.body);
        H = (A.browser.mobile && window.matchMedia && window.matchMedia("(max-device-width: 767px), (max-device-height: 767px)").matches);
        if (A.browser.mobile) {
            A.extend(p, m)
        }
        for (var J = 0; J < B.length; J++) {
            if (K[B[J]] && A.$F !== K[B[J]]) {
                v.registerCallback(B[J], K[B[J]])
            }
        }
        v.start();
        y = false
    });
    window.MagicZoomPlus = window.MagicZoomPlus || {};
    return v
})();